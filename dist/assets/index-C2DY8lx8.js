(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function CI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uE={exports:{}},$h={},hE={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),kI=Symbol.for("react.portal"),II=Symbol.for("react.fragment"),NI=Symbol.for("react.strict_mode"),PI=Symbol.for("react.profiler"),AI=Symbol.for("react.provider"),RI=Symbol.for("react.context"),DI=Symbol.for("react.forward_ref"),MI=Symbol.for("react.suspense"),LI=Symbol.for("react.memo"),OI=Symbol.for("react.lazy"),Fv=Symbol.iterator;function jI(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}var dE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fE=Object.assign,pE={};function Do(t,e,n){this.props=t,this.context=e,this.refs=pE,this.updater=n||dE}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mE(){}mE.prototype=Do.prototype;function rg(t,e,n){this.props=t,this.context=e,this.refs=pE,this.updater=n||dE}var ig=rg.prototype=new mE;ig.constructor=rg;fE(ig,Do.prototype);ig.isPureReactComponent=!0;var Vv=Array.isArray,gE=Object.prototype.hasOwnProperty,sg={current:null},yE={key:!0,ref:!0,__self:!0,__source:!0};function vE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gE.call(e,r)&&!yE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ql,type:t,key:s,ref:o,props:i,_owner:sg.current}}function FI(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function og(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function VI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uv=/\/+/g;function Jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VI(""+t.key):e.toString(36)}function au(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case kI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jd(o,0):r,Vv(i)?(n="",t!=null&&(n=t.replace(Uv,"$&/")+"/"),au(i,e,n,"",function(u){return u})):i!=null&&(og(i)&&(i=FI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Jd(s,a);o+=au(s,e,n,l,i)}else if(l=jI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Jd(s,a++),o+=au(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ac(t,e,n){if(t==null)return t;var r=[],i=0;return au(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},lu={transition:null},$I={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:lu,ReactCurrentOwner:sg};function _E(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ac,forEach:function(t,e,n){Ac(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ac(t,function(){e++}),e},toArray:function(t){return Ac(t,function(e){return e})||[]},only:function(t){if(!og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Do;le.Fragment=II;le.Profiler=PI;le.PureComponent=rg;le.StrictMode=NI;le.Suspense=MI;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$I;le.act=_E;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gE.call(e,l)&&!yE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ql,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:RI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AI,_context:t},t.Consumer=t};le.createElement=vE;le.createFactory=function(t){var e=vE.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:DI,render:t}};le.isValidElement=og;le.lazy=function(t){return{$$typeof:OI,_payload:{_status:-1,_result:t},_init:UI}};le.memo=function(t,e){return{$$typeof:LI,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=lu.transition;lu.transition={};try{t()}finally{lu.transition=e}};le.unstable_act=_E;le.useCallback=function(t,e){return Lt.current.useCallback(t,e)};le.useContext=function(t){return Lt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Lt.current.useEffect(t,e)};le.useId=function(){return Lt.current.useId()};le.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Lt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};le.useRef=function(t){return Lt.current.useRef(t)};le.useState=function(t){return Lt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Lt.current.useTransition()};le.version="18.3.1";hE.exports=le;var I=hE.exports;const Xt=CI(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=I,zI=Symbol.for("react.element"),HI=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,GI=BI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KI={key:!0,ref:!0,__self:!0,__source:!0};function wE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WI.call(e,r)&&!KI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zI,type:t,key:s,ref:o,props:i,_owner:GI.current}}$h.Fragment=HI;$h.jsx=wE;$h.jsxs=wE;uE.exports=$h;var f=uE.exports,xE={exports:{}},rn={},EE={exports:{}},SE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,X){var Z=z.length;z.push(X);e:for(;0<Z;){var _e=Z-1>>>1,Le=z[_e];if(0<i(Le,X))z[_e]=X,z[Z]=Le,Z=_e;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],Z=z.pop();if(Z!==X){z[0]=Z;e:for(var _e=0,Le=z.length,Bn=Le>>>1;_e<Bn;){var Ft=2*(_e+1)-1,zn=z[Ft],Yt=Ft+1,on=z[Yt];if(0>i(zn,Z))Yt<Le&&0>i(on,zn)?(z[_e]=on,z[Yt]=Z,_e=Yt):(z[_e]=zn,z[Ft]=Z,_e=Ft);else if(Yt<Le&&0>i(on,Z))z[_e]=on,z[Yt]=Z,_e=Yt;else break e}}return X}function i(z,X){var Z=z.sortIndex-X.sortIndex;return Z!==0?Z:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,y=!1,E=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=z)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function D(z){if(C=!1,x(z),!E)if(n(l)!==null)E=!0,He(L);else{var X=n(u);X!==null&&ue(D,X.startTime-z)}}function L(z,X){E=!1,C&&(C=!1,w(_),_=-1),y=!0;var Z=p;try{for(x(X),d=n(l);d!==null&&(!(d.expirationTime>X)||z&&!R());){var _e=d.callback;if(typeof _e=="function"){d.callback=null,p=d.priorityLevel;var Le=_e(d.expirationTime<=X);X=t.unstable_now(),typeof Le=="function"?d.callback=Le:d===n(l)&&r(l),x(X)}else r(l);d=n(l)}if(d!==null)var Bn=!0;else{var Ft=n(u);Ft!==null&&ue(D,Ft.startTime-X),Bn=!1}return Bn}finally{d=null,p=Z,y=!1}}var O=!1,b=null,_=-1,T=5,N=-1;function R(){return!(t.unstable_now()-N<T)}function M(){if(b!==null){var z=t.unstable_now();N=z;var X=!0;try{X=b(!0,z)}finally{X?k():(O=!1,b=null)}}else O=!1}var k;if(typeof v=="function")k=function(){v(M)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,xe=re.port2;re.port1.onmessage=M,k=function(){xe.postMessage(null)}}else k=function(){P(M,0)};function He(z){b=z,O||(O=!0,k())}function ue(z,X){_=P(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,He(L))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var Z=p;p=X;try{return z()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=p;p=z;try{return X()}finally{p=Z}},t.unstable_scheduleCallback=function(z,X,Z){var _e=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?_e+Z:_e):Z=_e,z){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Z+Le,z={id:h++,callback:X,priorityLevel:z,startTime:Z,expirationTime:Le,sortIndex:-1},Z>_e?(z.sortIndex=Z,e(u,z),n(l)===null&&z===n(u)&&(C?(w(_),_=-1):C=!0,ue(D,Z-_e))):(z.sortIndex=Le,e(l,z),E||y||(E=!0,He(L))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var X=p;return function(){var Z=p;p=X;try{return z.apply(this,arguments)}finally{p=Z}}}})(SE);EE.exports=SE;var qI=EE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=I,nn=qI;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bE=new Set,cl={};function Ss(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(cl[t]=e,t=0;t<e.length;t++)bE.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,XI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$v={},Bv={};function QI(t){return lp.call(Bv,t)?!0:lp.call($v,t)?!1:XI.test(t)?Bv[t]=!0:($v[t]=!0,!1)}function JI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZI(t,e,n,r){if(e===null||typeof e>"u"||JI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var ag=/[\-:]([a-z])/g;function lg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ag,lg);vt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ag,lg);vt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ag,lg);vt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function cg(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZI(e,n,i,r)&&(n=null),r||i===null?QI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vr=YI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),TE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),hp=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),kE=Symbol.for("react.offscreen"),zv=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=zv&&t[zv]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Zd;function Ra(t){if(Zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zd=e&&e[1]||""}return`
`+Zd+t}var ef=!1;function tf(t,e){if(!t||ef)return"";ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function eN(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=tf(t.type,!1),t;case 11:return t=tf(t.type.render,!1),t;case 1:return t=tf(t.type,!0),t;default:return""}}function dp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vs:return"Fragment";case Fs:return"Portal";case cp:return"Profiler";case ug:return"StrictMode";case up:return"Suspense";case hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CE:return(t.displayName||"Context")+".Consumer";case TE:return(t._context.displayName||"Context")+".Provider";case hg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dg:return e=t.displayName||null,e!==null?e:dp(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return dp(t(e))}catch{}}return null}function tN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dp(e);case 8:return e===ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nN(t){var e=IE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dc(t){t._valueTracker||(t._valueTracker=nN(t))}function NE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fp(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PE(t,e){e=e.checked,e!=null&&cg(t,"checked",e,!1)}function pp(t,e){PE(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mp(t,e.type,n):e.hasOwnProperty("defaultValue")&&mp(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mp(t,e,n){(e!=="number"||Mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Da(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function AE(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mc,DE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rN=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(t){rN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ja[e]=ja[t]})});function ME(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ja.hasOwnProperty(t)&&ja[t]?(""+e).trim():e+"px"}function LE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ME(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iN=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vp(t,e){if(e){if(iN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function _p(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function fg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xp=null,ro=null,io=null;function qv(t){if(t=Ql(t)){if(typeof xp!="function")throw Error($(280));var e=t.stateNode;e&&(e=Gh(e),xp(t.stateNode,t.type,e))}}function OE(t){ro?io?io.push(t):io=[t]:ro=t}function jE(){if(ro){var t=ro,e=io;if(io=ro=null,qv(t),e)for(t=0;t<e.length;t++)qv(e[t])}}function FE(t,e){return t(e)}function VE(){}var nf=!1;function UE(t,e,n){if(nf)return t(e,n);nf=!0;try{return FE(t,e,n)}finally{nf=!1,(ro!==null||io!==null)&&(VE(),jE())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Ep=!1;if(kr)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Ep=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Ep=!1}function sN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Fa=!1,Lu=null,Ou=!1,Sp=null,oN={onError:function(t){Fa=!0,Lu=t}};function aN(t,e,n,r,i,s,o,a,l){Fa=!1,Lu=null,sN.apply(oN,arguments)}function lN(t,e,n,r,i,s,o,a,l){if(aN.apply(this,arguments),Fa){if(Fa){var u=Lu;Fa=!1,Lu=null}else throw Error($(198));Ou||(Ou=!0,Sp=u)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $E(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yv(t){if(bs(t)!==t)throw Error($(188))}function cN(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yv(i),t;if(s===r)return Yv(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function BE(t){return t=cN(t),t!==null?zE(t):null}function zE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zE(t);if(e!==null)return e;t=t.sibling}return null}var HE=nn.unstable_scheduleCallback,Xv=nn.unstable_cancelCallback,uN=nn.unstable_shouldYield,hN=nn.unstable_requestPaint,Ke=nn.unstable_now,dN=nn.unstable_getCurrentPriorityLevel,pg=nn.unstable_ImmediatePriority,WE=nn.unstable_UserBlockingPriority,ju=nn.unstable_NormalPriority,fN=nn.unstable_LowPriority,GE=nn.unstable_IdlePriority,Bh=null,er=null;function pN(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:yN,mN=Math.log,gN=Math.LN2;function yN(t){return t>>>=0,t===0?32:31-(mN(t)/gN|0)|0}var Lc=64,Oc=4194304;function Ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ma(a):(s&=o,s!==0&&(r=Ma(s)))}else o=n&~i,o!==0?r=Ma(o):s!==0&&(r=Ma(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function vN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _N(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KE(){var t=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function wN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function qE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YE,gg,XE,QE,JE,Tp=!1,jc=[],ci=null,ui=null,hi=null,dl=new Map,fl=new Map,Jr=[],xN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qv(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ql(e),e!==null&&gg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EN(t,e,n,r,i){switch(e){case"focusin":return ci=ya(ci,t,e,n,r,i),!0;case"dragenter":return ui=ya(ui,t,e,n,r,i),!0;case"mouseover":return hi=ya(hi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,ya(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fl.set(s,ya(fl.get(s)||null,t,e,n,r,i)),!0}return!1}function ZE(t){var e=Qi(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=$E(n),e!==null){t.blockedOn=e,JE(t.priority,function(){XE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wp=r,n.target.dispatchEvent(r),wp=null}else return e=Ql(n),e!==null&&gg(e),t.blockedOn=n,!1;e.shift()}return!0}function Jv(t,e,n){cu(t)&&n.delete(e)}function SN(){Tp=!1,ci!==null&&cu(ci)&&(ci=null),ui!==null&&cu(ui)&&(ui=null),hi!==null&&cu(hi)&&(hi=null),dl.forEach(Jv),fl.forEach(Jv)}function va(t,e){t.blockedOn===e&&(t.blockedOn=null,Tp||(Tp=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,SN)))}function pl(t){function e(i){return va(i,t)}if(0<jc.length){va(jc[0],t);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&va(ci,t),ui!==null&&va(ui,t),hi!==null&&va(hi,t),dl.forEach(e),fl.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)ZE(n),n.blockedOn===null&&Jr.shift()}var so=Vr.ReactCurrentBatchConfig,Vu=!0;function bN(t,e,n,r){var i=we,s=so.transition;so.transition=null;try{we=1,yg(t,e,n,r)}finally{we=i,so.transition=s}}function TN(t,e,n,r){var i=we,s=so.transition;so.transition=null;try{we=4,yg(t,e,n,r)}finally{we=i,so.transition=s}}function yg(t,e,n,r){if(Vu){var i=Cp(t,e,n,r);if(i===null)pf(t,e,r,Uu,n),Qv(t,r);else if(EN(i,t,e,n,r))r.stopPropagation();else if(Qv(t,r),e&4&&-1<xN.indexOf(t)){for(;i!==null;){var s=Ql(i);if(s!==null&&YE(s),s=Cp(t,e,n,r),s===null&&pf(t,e,r,Uu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pf(t,e,r,null,n)}}var Uu=null;function Cp(t,e,n,r){if(Uu=null,t=fg(r),t=Qi(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$E(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uu=t,null}function eS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dN()){case pg:return 1;case WE:return 4;case ju:case fN:return 16;case GE:return 536870912;default:return 16}default:return 16}}var si=null,vg=null,uu=null;function tS(){if(uu)return uu;var t,e=vg,n=e.length,r,i="value"in si?si.value:si.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return uu=i.slice(t,1<r?1-r:void 0)}function hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fc(){return!0}function Zv(){return!1}function sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fc:Zv,this.isPropagationStopped=Zv,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=sn(Mo),Xl=Ve({},Mo,{view:0,detail:0}),CN=sn(Xl),sf,of,_a,zh=Ve({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(sf=t.screenX-_a.screenX,of=t.screenY-_a.screenY):of=sf=0,_a=t),sf)},movementY:function(t){return"movementY"in t?t.movementY:of}}),e_=sn(zh),kN=Ve({},zh,{dataTransfer:0}),IN=sn(kN),NN=Ve({},Xl,{relatedTarget:0}),af=sn(NN),PN=Ve({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),AN=sn(PN),RN=Ve({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DN=sn(RN),MN=Ve({},Mo,{data:0}),t_=sn(MN),LN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ON={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jN[t])?!!e[t]:!1}function wg(){return FN}var VN=Ve({},Xl,{key:function(t){if(t.key){var e=LN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ON[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(t){return t.type==="keypress"?hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UN=sn(VN),$N=Ve({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n_=sn($N),BN=Ve({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),zN=sn(BN),HN=Ve({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WN=sn(HN),GN=Ve({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KN=sn(GN),qN=[9,13,27,32],xg=kr&&"CompositionEvent"in window,Va=null;kr&&"documentMode"in document&&(Va=document.documentMode);var YN=kr&&"TextEvent"in window&&!Va,nS=kr&&(!xg||Va&&8<Va&&11>=Va),r_=" ",i_=!1;function rS(t,e){switch(t){case"keyup":return qN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function XN(t,e){switch(t){case"compositionend":return iS(e);case"keypress":return e.which!==32?null:(i_=!0,r_);case"textInput":return t=e.data,t===r_&&i_?null:t;default:return null}}function QN(t,e){if(Us)return t==="compositionend"||!xg&&rS(t,e)?(t=tS(),uu=vg=si=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nS&&e.locale!=="ko"?null:e.data;default:return null}}var JN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JN[t.type]:e==="textarea"}function sS(t,e,n,r){OE(r),e=$u(e,"onChange"),0<e.length&&(n=new _g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,ml=null;function ZN(t){gS(t,0)}function Hh(t){var e=zs(t);if(NE(e))return t}function eP(t,e){if(t==="change")return e}var oS=!1;if(kr){var lf;if(kr){var cf="oninput"in document;if(!cf){var o_=document.createElement("div");o_.setAttribute("oninput","return;"),cf=typeof o_.oninput=="function"}lf=cf}else lf=!1;oS=lf&&(!document.documentMode||9<document.documentMode)}function a_(){Ua&&(Ua.detachEvent("onpropertychange",aS),ml=Ua=null)}function aS(t){if(t.propertyName==="value"&&Hh(ml)){var e=[];sS(e,ml,t,fg(t)),UE(ZN,e)}}function tP(t,e,n){t==="focusin"?(a_(),Ua=e,ml=n,Ua.attachEvent("onpropertychange",aS)):t==="focusout"&&a_()}function nP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hh(ml)}function rP(t,e){if(t==="click")return Hh(e)}function iP(t,e){if(t==="input"||t==="change")return Hh(e)}function sP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:sP;function gl(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lp.call(e,i)||!Vn(t[i],e[i]))return!1}return!0}function l_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c_(t,e){var n=l_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l_(n)}}function lS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cS(){for(var t=window,e=Mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mu(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oP(t){var e=cS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lS(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=c_(n,s);var o=c_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aP=kr&&"documentMode"in document&&11>=document.documentMode,$s=null,kp=null,$a=null,Ip=!1;function u_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ip||$s==null||$s!==Mu(r)||(r=$s,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&gl($a,r)||($a=r,r=$u(kp,"onSelect"),0<r.length&&(e=new _g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$s)))}function Vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bs={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},uf={},uS={};kr&&(uS=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Wh(t){if(uf[t])return uf[t];if(!Bs[t])return t;var e=Bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uS)return uf[t]=e[n];return t}var hS=Wh("animationend"),dS=Wh("animationiteration"),fS=Wh("animationstart"),pS=Wh("transitionend"),mS=new Map,h_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){mS.set(t,e),Ss(e,[t])}for(var hf=0;hf<h_.length;hf++){var df=h_[hf],lP=df.toLowerCase(),cP=df[0].toUpperCase()+df.slice(1);Ai(lP,"on"+cP)}Ai(hS,"onAnimationEnd");Ai(dS,"onAnimationIteration");Ai(fS,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(pS,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function d_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lN(r,e,void 0,t),t.currentTarget=null}function gS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;d_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;d_(i,a,u),s=l}}}if(Ou)throw t=Sp,Ou=!1,Sp=null,t}function Ne(t,e){var n=e[Dp];n===void 0&&(n=e[Dp]=new Set);var r=t+"__bubble";n.has(r)||(yS(e,t,2,!1),n.add(r))}function ff(t,e,n){var r=0;e&&(r|=4),yS(n,t,r,e)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[Uc]){t[Uc]=!0,bE.forEach(function(n){n!=="selectionchange"&&(uP.has(n)||ff(n,!1,t),ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uc]||(e[Uc]=!0,ff("selectionchange",!1,e))}}function yS(t,e,n,r){switch(eS(e)){case 1:var i=bN;break;case 4:i=TN;break;default:i=yg}n=i.bind(null,e,n,t),i=void 0,!Ep||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}UE(function(){var u=s,h=fg(n),d=[];e:{var p=mS.get(t);if(p!==void 0){var y=_g,E=t;switch(t){case"keypress":if(hu(n)===0)break e;case"keydown":case"keyup":y=UN;break;case"focusin":E="focus",y=af;break;case"focusout":E="blur",y=af;break;case"beforeblur":case"afterblur":y=af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=e_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=IN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=zN;break;case hS:case dS:case fS:y=AN;break;case pS:y=WN;break;case"scroll":y=CN;break;case"wheel":y=KN;break;case"copy":case"cut":case"paste":y=DN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=n_}var C=(e&4)!==0,P=!C&&t==="scroll",w=C?p!==null?p+"Capture":null:p;C=[];for(var v=u,x;v!==null;){x=v;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,w!==null&&(D=hl(v,w),D!=null&&C.push(vl(v,D,x)))),P)break;v=v.return}0<C.length&&(p=new y(p,E,null,n,h),d.push({event:p,listeners:C}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==wp&&(E=n.relatedTarget||n.fromElement)&&(Qi(E)||E[Ir]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=u,E=E?Qi(E):null,E!==null&&(P=bs(E),E!==P||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=u),y!==E)){if(C=e_,D="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(C=n_,D="onPointerLeave",w="onPointerEnter",v="pointer"),P=y==null?p:zs(y),x=E==null?p:zs(E),p=new C(D,v+"leave",y,n,h),p.target=P,p.relatedTarget=x,D=null,Qi(h)===u&&(C=new C(w,v+"enter",E,n,h),C.target=x,C.relatedTarget=P,D=C),P=D,y&&E)t:{for(C=y,w=E,v=0,x=C;x;x=Ms(x))v++;for(x=0,D=w;D;D=Ms(D))x++;for(;0<v-x;)C=Ms(C),v--;for(;0<x-v;)w=Ms(w),x--;for(;v--;){if(C===w||w!==null&&C===w.alternate)break t;C=Ms(C),w=Ms(w)}C=null}else C=null;y!==null&&f_(d,p,y,C,!1),E!==null&&P!==null&&f_(d,P,E,C,!0)}}e:{if(p=u?zs(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var L=eP;else if(s_(p))if(oS)L=iP;else{L=nP;var O=tP}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=rP);if(L&&(L=L(t,u))){sS(d,L,n,h);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&mp(p,"number",p.value)}switch(O=u?zs(u):window,t){case"focusin":(s_(O)||O.contentEditable==="true")&&($s=O,kp=u,$a=null);break;case"focusout":$a=kp=$s=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,u_(d,n,h);break;case"selectionchange":if(aP)break;case"keydown":case"keyup":u_(d,n,h)}var b;if(xg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Us?rS(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(nS&&n.locale!=="ko"&&(Us||_!=="onCompositionStart"?_==="onCompositionEnd"&&Us&&(b=tS()):(si=h,vg="value"in si?si.value:si.textContent,Us=!0)),O=$u(u,_),0<O.length&&(_=new t_(_,t,null,n,h),d.push({event:_,listeners:O}),b?_.data=b:(b=iS(n),b!==null&&(_.data=b)))),(b=YN?XN(t,n):QN(t,n))&&(u=$u(u,"onBeforeInput"),0<u.length&&(h=new t_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=b))}gS(d,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $u(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(vl(t,s,i)),s=hl(t,e),s!=null&&r.push(vl(t,s,i))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hl(n,s),l!=null&&o.unshift(vl(n,l,a))):i||(l=hl(n,s),l!=null&&o.push(vl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function p_(t){return(typeof t=="string"?t:""+t).replace(hP,`
`).replace(dP,"")}function $c(t,e,n){if(e=p_(e),p_(t)!==e&&n)throw Error($(425))}function Bu(){}var Np=null,Pp=null;function Ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,pP=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(mP)}:Rp;function mP(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(e)}function di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Lo,_l="__reactProps$"+Lo,Ir="__reactContainer$"+Lo,Dp="__reactEvents$"+Lo,gP="__reactListeners$"+Lo,yP="__reactHandles$"+Lo;function Qi(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ir]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=g_(t);t!==null;){if(n=t[Qn])return n;t=g_(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[Qn]||t[Ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Gh(t){return t[_l]||null}var Mp=[],Hs=-1;function Ri(t){return{current:t}}function Pe(t){0>Hs||(t.current=Mp[Hs],Mp[Hs]=null,Hs--)}function ke(t,e){Hs++,Mp[Hs]=t.current,t.current=e}var Ei={},bt=Ri(Ei),Gt=Ri(!1),fs=Ei;function yo(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function zu(){Pe(Gt),Pe(bt)}function y_(t,e,n){if(bt.current!==Ei)throw Error($(168));ke(bt,e),ke(Gt,n)}function vS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,tN(t)||"Unknown",i));return Ve({},n,r)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,fs=bt.current,ke(bt,t),ke(Gt,Gt.current),!0}function v_(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=vS(t,e,fs),r.__reactInternalMemoizedMergedChildContext=t,Pe(Gt),Pe(bt),ke(bt,t)):Pe(Gt),ke(Gt,n)}var yr=null,Kh=!1,gf=!1;function _S(t){yr===null?yr=[t]:yr.push(t)}function vP(t){Kh=!0,_S(t)}function Di(){if(!gf&&yr!==null){gf=!0;var t=0,e=we;try{var n=yr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,Kh=!1}catch(i){throw yr!==null&&(yr=yr.slice(t+1)),HE(pg,Di),i}finally{we=e,gf=!1}}return null}var Ws=[],Gs=0,Wu=null,Gu=0,un=[],hn=0,ps=null,_r=1,wr="";function Wi(t,e){Ws[Gs++]=Gu,Ws[Gs++]=Wu,Wu=t,Gu=e}function wS(t,e,n){un[hn++]=_r,un[hn++]=wr,un[hn++]=ps,ps=t;var r=_r;t=wr;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_r=1<<32-Ln(e)+i|n<<i|r,wr=s+t}else _r=1<<s|n<<i|r,wr=t}function Sg(t){t.return!==null&&(Wi(t,1),wS(t,1,0))}function bg(t){for(;t===Wu;)Wu=Ws[--Gs],Ws[Gs]=null,Gu=Ws[--Gs],Ws[Gs]=null;for(;t===ps;)ps=un[--hn],un[hn]=null,wr=un[--hn],un[hn]=null,_r=un[--hn],un[hn]=null}var tn=null,en=null,Re=!1,Tn=null;function xS(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function __(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,en=di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:_r,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,en=null,!0):!1;default:return!1}}function Lp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Op(t){if(Re){var e=en;if(e){var n=e;if(!__(t,e)){if(Lp(t))throw Error($(418));e=di(n.nextSibling);var r=tn;e&&__(t,e)?xS(r,n):(t.flags=t.flags&-4097|2,Re=!1,tn=t)}}else{if(Lp(t))throw Error($(418));t.flags=t.flags&-4097|2,Re=!1,tn=t}}}function w_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Bc(t){if(t!==tn)return!1;if(!Re)return w_(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ap(t.type,t.memoizedProps)),e&&(e=en)){if(Lp(t))throw ES(),Error($(418));for(;e;)xS(t,e),e=di(e.nextSibling)}if(w_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=tn?di(t.stateNode.nextSibling):null;return!0}function ES(){for(var t=en;t;)t=di(t.nextSibling)}function vo(){en=tn=null,Re=!1}function Tg(t){Tn===null?Tn=[t]:Tn.push(t)}var _P=Vr.ReactCurrentBatchConfig;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function zc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function x_(t){var e=t._init;return e(t._payload)}function SS(t){function e(w,v){if(t){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=gi(w,v),w.index=0,w.sibling=null,w}function s(w,v,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,x,D){return v===null||v.tag!==6?(v=Sf(x,w.mode,D),v.return=w,v):(v=i(v,x),v.return=w,v)}function l(w,v,x,D){var L=x.type;return L===Vs?h(w,v,x.props.children,D,x.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Xr&&x_(L)===v.type)?(D=i(v,x.props),D.ref=wa(w,v,x),D.return=w,D):(D=vu(x.type,x.key,x.props,null,w.mode,D),D.ref=wa(w,v,x),D.return=w,D)}function u(w,v,x,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=bf(x,w.mode,D),v.return=w,v):(v=i(v,x.children||[]),v.return=w,v)}function h(w,v,x,D,L){return v===null||v.tag!==7?(v=as(x,w.mode,D,L),v.return=w,v):(v=i(v,x),v.return=w,v)}function d(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sf(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rc:return x=vu(v.type,v.key,v.props,null,w.mode,x),x.ref=wa(w,null,v),x.return=w,x;case Fs:return v=bf(v,w.mode,x),v.return=w,v;case Xr:var D=v._init;return d(w,D(v._payload),x)}if(Da(v)||ma(v))return v=as(v,w.mode,x,null),v.return=w,v;zc(w,v)}return null}function p(w,v,x,D){var L=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return L!==null?null:a(w,v,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rc:return x.key===L?l(w,v,x,D):null;case Fs:return x.key===L?u(w,v,x,D):null;case Xr:return L=x._init,p(w,v,L(x._payload),D)}if(Da(x)||ma(x))return L!==null?null:h(w,v,x,D,null);zc(w,x)}return null}function y(w,v,x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(x)||null,a(v,w,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Rc:return w=w.get(D.key===null?x:D.key)||null,l(v,w,D,L);case Fs:return w=w.get(D.key===null?x:D.key)||null,u(v,w,D,L);case Xr:var O=D._init;return y(w,v,x,O(D._payload),L)}if(Da(D)||ma(D))return w=w.get(x)||null,h(v,w,D,L,null);zc(v,D)}return null}function E(w,v,x,D){for(var L=null,O=null,b=v,_=v=0,T=null;b!==null&&_<x.length;_++){b.index>_?(T=b,b=null):T=b.sibling;var N=p(w,b,x[_],D);if(N===null){b===null&&(b=T);break}t&&b&&N.alternate===null&&e(w,b),v=s(N,v,_),O===null?L=N:O.sibling=N,O=N,b=T}if(_===x.length)return n(w,b),Re&&Wi(w,_),L;if(b===null){for(;_<x.length;_++)b=d(w,x[_],D),b!==null&&(v=s(b,v,_),O===null?L=b:O.sibling=b,O=b);return Re&&Wi(w,_),L}for(b=r(w,b);_<x.length;_++)T=y(b,w,_,x[_],D),T!==null&&(t&&T.alternate!==null&&b.delete(T.key===null?_:T.key),v=s(T,v,_),O===null?L=T:O.sibling=T,O=T);return t&&b.forEach(function(R){return e(w,R)}),Re&&Wi(w,_),L}function C(w,v,x,D){var L=ma(x);if(typeof L!="function")throw Error($(150));if(x=L.call(x),x==null)throw Error($(151));for(var O=L=null,b=v,_=v=0,T=null,N=x.next();b!==null&&!N.done;_++,N=x.next()){b.index>_?(T=b,b=null):T=b.sibling;var R=p(w,b,N.value,D);if(R===null){b===null&&(b=T);break}t&&b&&R.alternate===null&&e(w,b),v=s(R,v,_),O===null?L=R:O.sibling=R,O=R,b=T}if(N.done)return n(w,b),Re&&Wi(w,_),L;if(b===null){for(;!N.done;_++,N=x.next())N=d(w,N.value,D),N!==null&&(v=s(N,v,_),O===null?L=N:O.sibling=N,O=N);return Re&&Wi(w,_),L}for(b=r(w,b);!N.done;_++,N=x.next())N=y(b,w,_,N.value,D),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?_:N.key),v=s(N,v,_),O===null?L=N:O.sibling=N,O=N);return t&&b.forEach(function(M){return e(w,M)}),Re&&Wi(w,_),L}function P(w,v,x,D){if(typeof x=="object"&&x!==null&&x.type===Vs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rc:e:{for(var L=x.key,O=v;O!==null;){if(O.key===L){if(L=x.type,L===Vs){if(O.tag===7){n(w,O.sibling),v=i(O,x.props.children),v.return=w,w=v;break e}}else if(O.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Xr&&x_(L)===O.type){n(w,O.sibling),v=i(O,x.props),v.ref=wa(w,O,x),v.return=w,w=v;break e}n(w,O);break}else e(w,O);O=O.sibling}x.type===Vs?(v=as(x.props.children,w.mode,D,x.key),v.return=w,w=v):(D=vu(x.type,x.key,x.props,null,w.mode,D),D.ref=wa(w,v,x),D.return=w,w=D)}return o(w);case Fs:e:{for(O=x.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(w,v.sibling),v=i(v,x.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=bf(x,w.mode,D),v.return=w,w=v}return o(w);case Xr:return O=x._init,P(w,v,O(x._payload),D)}if(Da(x))return E(w,v,x,D);if(ma(x))return C(w,v,x,D);zc(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,x),v.return=w,w=v):(n(w,v),v=Sf(x,w.mode,D),v.return=w,w=v),o(w)):n(w,v)}return P}var _o=SS(!0),bS=SS(!1),Ku=Ri(null),qu=null,Ks=null,Cg=null;function kg(){Cg=Ks=qu=null}function Ig(t){var e=Ku.current;Pe(Ku),t._currentValue=e}function jp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){qu=t,Cg=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Cg!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(qu===null)throw Error($(308));Ks=t,qu.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var Ji=null;function Ng(t){Ji===null?Ji=[t]:Ji.push(t)}function TS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ng(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qr=!1;function Pg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ng(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nr(t,n)}function du(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mg(t,n)}}function E_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yu(t,e,n,r){var i=t.updateQueue;Qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,C=a;switch(p=e,y=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){d=E.call(y,d,p);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,p=typeof E=="function"?E.call(y,d,p):E,p==null)break e;d=Ve({},d,p);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,l=d):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gs|=o,t.lanes=o,t.memoizedState=d}}function S_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Jl={},tr=Ri(Jl),wl=Ri(Jl),xl=Ri(Jl);function Zi(t){if(t===Jl)throw Error($(174));return t}function Ag(t,e){switch(ke(xl,e),ke(wl,t),ke(tr,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yp(e,t)}Pe(tr),ke(tr,e)}function wo(){Pe(tr),Pe(wl),Pe(xl)}function kS(t){Zi(xl.current);var e=Zi(tr.current),n=yp(e,t.type);e!==n&&(ke(wl,t),ke(tr,n))}function Rg(t){wl.current===t&&(Pe(tr),Pe(wl))}var Oe=Ri(0);function Xu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yf=[];function Dg(){for(var t=0;t<yf.length;t++)yf[t]._workInProgressVersionPrimary=null;yf.length=0}var fu=Vr.ReactCurrentDispatcher,vf=Vr.ReactCurrentBatchConfig,ms=0,Fe=null,nt=null,ut=null,Qu=!1,Ba=!1,El=0,wP=0;function wt(){throw Error($(321))}function Mg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vn(t[n],e[n]))return!1;return!0}function Lg(t,e,n,r,i,s){if(ms=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fu.current=t===null||t.memoizedState===null?bP:TP,t=n(r,i),Ba){s=0;do{if(Ba=!1,El=0,25<=s)throw Error($(301));s+=1,ut=nt=null,e.updateQueue=null,fu.current=CP,t=n(r,i)}while(Ba)}if(fu.current=Ju,e=nt!==null&&nt.next!==null,ms=0,ut=nt=Fe=null,Qu=!1,e)throw Error($(300));return t}function Og(){var t=El!==0;return El=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Fe.memoizedState=ut=t:ut=ut.next=t,ut}function vn(){if(nt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ut===null?Fe.memoizedState:ut.next;if(e!==null)ut=e,nt=t;else{if(t===null)throw Error($(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ut===null?Fe.memoizedState=ut=t:ut=ut.next=t}return ut}function Sl(t,e){return typeof e=="function"?e(t):e}function _f(t){var e=vn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((ms&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Fe.lanes|=h,gs|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Vn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,gs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wf(t){var e=vn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function IS(){}function NS(t,e){var n=Fe,r=vn(),i=e(),s=!Vn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,jg(RS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,bl(9,AS.bind(null,n,r,i,e),void 0,null),dt===null)throw Error($(349));ms&30||PS(n,e,i)}return i}function PS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AS(t,e,n,r){e.value=n,e.getSnapshot=r,DS(e)&&MS(t)}function RS(t,e,n){return n(function(){DS(e)&&MS(t)})}function DS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vn(t,n)}catch{return!0}}function MS(t){var e=Nr(t,1);e!==null&&On(e,t,1,-1)}function b_(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=SP.bind(null,Fe,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function LS(){return vn().memoizedState}function pu(t,e,n,r){var i=Kn();Fe.flags|=t,i.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function qh(t,e,n,r){var i=vn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&Mg(r,o.deps)){i.memoizedState=bl(e,n,s,r);return}}Fe.flags|=t,i.memoizedState=bl(1|e,n,s,r)}function T_(t,e){return pu(8390656,8,t,e)}function jg(t,e){return qh(2048,8,t,e)}function OS(t,e){return qh(4,2,t,e)}function jS(t,e){return qh(4,4,t,e)}function FS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VS(t,e,n){return n=n!=null?n.concat([t]):null,qh(4,4,FS.bind(null,e,t),n)}function Fg(){}function US(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $S(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BS(t,e,n){return ms&21?(Vn(n,e)||(n=KE(),Fe.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function xP(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{we=n,vf.transition=r}}function zS(){return vn().memoizedState}function EP(t,e,n){var r=mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HS(t))WS(e,n);else if(n=TS(t,e,n,r),n!==null){var i=Rt();On(n,t,r,i),GS(n,e,r)}}function SP(t,e,n){var r=mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HS(t))WS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Vn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ng(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TS(t,e,i,r),n!==null&&(i=Rt(),On(n,t,r,i),GS(n,e,r))}}function HS(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function WS(t,e){Ba=Qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mg(t,n)}}var Ju={readContext:yn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},bP={readContext:yn,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:T_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pu(4194308,4,FS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return pu(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EP.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:b_,useDebugValue:Fg,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=b_(!1),e=t[0];return t=xP.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=Kn();if(Re){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),dt===null)throw Error($(349));ms&30||PS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T_(RS.bind(null,r,s,t),[t]),r.flags|=2048,bl(9,AS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kn(),e=dt.identifierPrefix;if(Re){var n=wr,r=_r;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=El++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TP={readContext:yn,useCallback:US,useContext:yn,useEffect:jg,useImperativeHandle:VS,useInsertionEffect:OS,useLayoutEffect:jS,useMemo:$S,useReducer:_f,useRef:LS,useState:function(){return _f(Sl)},useDebugValue:Fg,useDeferredValue:function(t){var e=vn();return BS(e,nt.memoizedState,t)},useTransition:function(){var t=_f(Sl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:IS,useSyncExternalStore:NS,useId:zS,unstable_isNewReconciler:!1},CP={readContext:yn,useCallback:US,useContext:yn,useEffect:jg,useImperativeHandle:VS,useInsertionEffect:OS,useLayoutEffect:jS,useMemo:$S,useReducer:wf,useRef:LS,useState:function(){return wf(Sl)},useDebugValue:Fg,useDeferredValue:function(t){var e=vn();return nt===null?e.memoizedState=t:BS(e,nt.memoizedState,t)},useTransition:function(){var t=wf(Sl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:IS,useSyncExternalStore:NS,useId:zS,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=mi(t),s=br(r,i);s.payload=e,n!=null&&(s.callback=n),e=fi(t,s,i),e!==null&&(On(e,t,i,r),du(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=mi(t),s=br(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fi(t,s,i),e!==null&&(On(e,t,i,r),du(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=mi(t),i=br(n,r);i.tag=2,e!=null&&(i.callback=e),e=fi(t,i,r),e!==null&&(On(e,t,r,n),du(e,t,r))}};function C_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,s):!0}function KS(t,e,n){var r=!1,i=Ei,s=e.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Kt(e)?fs:bt.current,r=e.contextTypes,s=(r=r!=null)?yo(t,i):Ei),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function k_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function Vp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Pg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Kt(e)?fs:bt.current,i.context=yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yh.enqueueReplaceState(i,i.state,null),Yu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",r=e;do n+=eN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kP=typeof WeakMap=="function"?WeakMap:Map;function qS(t,e,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eh||(eh=!0,Xp=r),Up(t,e)},n}function YS(t,e,n){n=br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Up(t,e),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$P.bind(null,t,e,n),e.then(t,t))}function N_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=br(-1,1),e.tag=2,fi(n,e,1))),n.lanes|=1),t)}var IP=Vr.ReactCurrentOwner,zt=!1;function kt(t,e,n,r){e.child=t===null?bS(e,null,n,r):_o(e,t.child,n,r)}function A_(t,e,n,r,i){n=n.render;var s=e.ref;return oo(e,i),r=Lg(t,e,n,r,s,i),n=Og(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Re&&n&&Sg(e),e.flags|=1,kt(t,e,r,i),e.child)}function R_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,XS(t,e,s,r,i)):(t=vu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(o,r)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=gi(s,r),t.ref=e.ref,t.return=e,e.child=t}function XS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gl(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return $p(t,e,n,r,i)}function QS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Ys,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Ys,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Ys,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Ys,Qt),Qt|=r;return kt(t,e,i,n),e.child}function JS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $p(t,e,n,r,i){var s=Kt(n)?fs:bt.current;return s=yo(e,s),oo(e,i),n=Lg(t,e,n,r,s,i),r=Og(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Re&&r&&Sg(e),e.flags|=1,kt(t,e,n,i),e.child)}function D_(t,e,n,r,i){if(Kt(n)){var s=!0;Hu(e)}else s=!1;if(oo(e,i),e.stateNode===null)mu(t,e),KS(e,n,r),Vp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=Kt(n)?fs:bt.current,u=yo(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&k_(e,o,r,u),Qr=!1;var p=e.memoizedState;o.state=p,Yu(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Gt.current||Qr?(typeof h=="function"&&(Fp(e,n,h,r),l=e.memoizedState),(a=Qr||C_(e,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Sn(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=Kt(n)?fs:bt.current,l=yo(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&k_(e,o,r,l),Qr=!1,p=e.memoizedState,o.state=p,Yu(e,r,o,i);var E=e.memoizedState;a!==d||p!==E||Gt.current||Qr?(typeof y=="function"&&(Fp(e,n,y,r),E=e.memoizedState),(u=Qr||C_(e,n,u,r,p,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Bp(t,e,n,r,s,i)}function Bp(t,e,n,r,i,s){JS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&v_(e,n,!1),Pr(t,e,s);r=e.stateNode,IP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_o(e,t.child,null,s),e.child=_o(e,null,a,s)):kt(t,e,a,s),e.memoizedState=r.state,i&&v_(e,n,!0),e.child}function ZS(t){var e=t.stateNode;e.pendingContext?y_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y_(t,e.context,!1),Ag(t,e.containerInfo)}function M_(t,e,n,r,i){return vo(),Tg(i),e.flags|=256,kt(t,e,n,r),e.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function eb(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Oe,i&1),t===null)return Op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jh(o,r,0,null),t=as(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hp(n),e.memoizedState=zp,t):Vg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gi(a,s):(s=as(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=zp,r}return s=t.child,t=s.sibling,r=gi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vg(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hc(t,e,n,r){return r!==null&&Tg(r),_o(e,t.child,null,n),t=Vg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xf(Error($(422))),Hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jh({mode:"visible",children:r.children},i,0,null),s=as(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_o(e,t.child,null,o),e.child.memoizedState=Hp(o),e.memoizedState=zp,s);if(!(e.mode&1))return Hc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=xf(s,r,void 0),Hc(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nr(t,i),On(r,t,i,-1))}return Wg(),r=xf(Error($(421))),Hc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=di(i.nextSibling),tn=e,Re=!0,Tn=null,t!==null&&(un[hn++]=_r,un[hn++]=wr,un[hn++]=ps,_r=t.id,wr=t.overflow,ps=e),e=Vg(e,r.children),e.flags|=4096,e)}function L_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jp(t.return,e,n)}function Ef(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L_(t,n,e);else if(t.tag===19)L_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ef(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ef(e,!0,n,null,s);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PP(t,e,n){switch(e.tag){case 3:ZS(e),vo();break;case 5:kS(e);break;case 1:Kt(e.type)&&Hu(e);break;case 4:Ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(Ku,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?eb(t,e,n):(ke(Oe,Oe.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,QS(t,e,n)}return Pr(t,e,n)}var nb,Wp,rb,ib;nb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wp=function(){};rb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zi(tr.current);var s=null;switch(n){case"input":i=fp(t,i),r=fp(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=gp(t,i),r=gp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bu)}vp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ib=function(t,e,n,r){n!==r&&(e.flags|=4)};function xa(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AP(t,e,n){var r=e.pendingProps;switch(bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Kt(e.type)&&zu(),xt(e),null;case 3:return r=e.stateNode,wo(),Pe(Gt),Pe(bt),Dg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Zp(Tn),Tn=null))),Wp(t,e),xt(e),null;case 5:Rg(e);var i=Zi(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)rb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return xt(e),null}if(t=Zi(tr.current),Bc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qn]=e,r[_l]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Ne(La[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Hv(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":Gv(r,s),Ne("invalid",r)}vp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$c(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$c(r.textContent,a,t),i=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Dc(r),Wv(r,s,!0);break;case"textarea":Dc(r),Kv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qn]=e,t[_l]=r,nb(t,e,!1,!1),e.stateNode=t;e:{switch(o=_p(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Ne(La[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":Hv(t,r),i=fp(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Gv(t,r),i=gp(t,r),Ne("invalid",t);break;default:i=r}vp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&cg(t,s,l,o))}switch(n){case"input":Dc(t),Wv(t,r,!1);break;case"textarea":Dc(t),Kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?no(t,!!r.multiple,s,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)ib(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Zi(xl.current),Zi(tr.current),Bc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:$c(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$c(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return xt(e),null;case 13:if(Pe(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&en!==null&&e.mode&1&&!(e.flags&128))ES(),vo(),e.flags|=98560,s=!1;else if(s=Bc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Qn]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else Tn!==null&&(Zp(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?ot===0&&(ot=3):Wg())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return wo(),Wp(t,e),t===null&&yl(e.stateNode.containerInfo),xt(e),null;case 10:return Ig(e.type._context),xt(e),null;case 17:return Kt(e.type)&&zu(),xt(e),null;case 19:if(Pe(Oe),s=e.memoizedState,s===null)return xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xa(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xu(t),o!==null){for(e.flags|=128,xa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>Eo&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return xt(e),null}else 2*Ke()-s.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,n=Oe.current,ke(Oe,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return Hg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function RP(t,e){switch(bg(e),e.tag){case 1:return Kt(e.type)&&zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(),Pe(Gt),Pe(bt),Dg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rg(e),null;case 13:if(Pe(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Oe),null;case 4:return wo(),null;case 10:return Ig(e.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var Wc=!1,Et=!1,DP=typeof WeakSet=="function"?WeakSet:Set,Y=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Gp(t,e,n){try{n()}catch(r){$e(t,e,r)}}var O_=!1;function MP(t,e){if(Np=Vu,t=cS(),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,p=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++h===r&&(l=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pp={focusedElem:t,selectionRange:n},Vu=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,P=E.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?C:Sn(e.type,C),P);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(D){$e(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return E=O_,O_=!1,E}function za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gp(e,n,s)}i=i.next}while(i!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sb(t){var e=t.alternate;e!==null&&(t.alternate=null,sb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[_l],delete e[Dp],delete e[gP],delete e[yP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ob(t){return t.tag===5||t.tag===3||t.tag===4}function j_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ob(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bu));else if(r!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}function Yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yp(t,e,n),t=t.sibling;t!==null;)Yp(t,e,n),t=t.sibling}var ft=null,bn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)ab(t,e,n),n=n.sibling}function ab(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:Et||qs(n,e);case 6:var r=ft,i=bn;ft=null,Kr(t,e,n),ft=r,bn=i,ft!==null&&(bn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(bn?(t=ft,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),pl(t)):mf(ft,n.stateNode));break;case 4:r=ft,i=bn,ft=n.stateNode.containerInfo,bn=!0,Kr(t,e,n),ft=r,bn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gp(n,e,o),i=i.next}while(i!==r)}Kr(t,e,n);break;case 1:if(!Et&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Kr(t,e,n),Et=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function F_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DP),e.forEach(function(r){var i=zP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,bn=!1;break e;case 3:ft=a.stateNode.containerInfo,bn=!0;break e;case 4:ft=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(ft===null)throw Error($(160));ab(s,o,i),ft=null,bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$e(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lb(e,t),e=e.sibling}function lb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Gn(t),r&4){try{za(3,t,t.return),Xh(3,t)}catch(C){$e(t,t.return,C)}try{za(5,t,t.return)}catch(C){$e(t,t.return,C)}}break;case 1:xn(e,t),Gn(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(xn(e,t),Gn(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(C){$e(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&PE(i,s),_p(a,o);var u=_p(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?LE(i,d):h==="dangerouslySetInnerHTML"?DE(i,d):h==="children"?ul(i,d):cg(i,h,d,u)}switch(a){case"input":pp(i,s);break;case"textarea":AE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?no(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?no(i,!!s.multiple,s.defaultValue,!0):no(i,!!s.multiple,s.multiple?[]:"",!1))}i[_l]=s}catch(C){$e(t,t.return,C)}}break;case 6:if(xn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){$e(t,t.return,C)}}break;case 3:if(xn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(C){$e(t,t.return,C)}break;case 4:xn(e,t),Gn(t);break;case 13:xn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bg=Ke())),r&4&&F_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||h,xn(e,t),Et=u):xn(e,t),Gn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(d=Y=h;Y!==null;){switch(p=Y,y=p.child,p.tag){case 0:case 11:case 14:case 15:za(4,p,p.return);break;case 1:qs(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){$e(r,n,C)}}break;case 5:qs(p,p.return);break;case 22:if(p.memoizedState!==null){U_(d);continue}}y!==null?(y.return=p,Y=y):U_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ME("display",o))}catch(C){$e(t,t.return,C)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(C){$e(t,t.return,C)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xn(e,t),Gn(t),r&4&&F_(t);break;case 21:break;default:xn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ob(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var s=j_(t);Yp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=j_(t);qp(t,a,o);break;default:throw Error($(161))}}catch(l){$e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LP(t,e,n){Y=t,cb(t)}function cb(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Et;a=Wc;var u=Et;if(Wc=o,(Et=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?$_(i):l!==null?(l.return=o,Y=l):$_(i);for(;s!==null;)Y=s,cb(s),s=s.sibling;Y=i,Wc=a,Et=u}V_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):V_(t)}}function V_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&S_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}S_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&pl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Et||e.flags&512&&Kp(e)}catch(p){$e(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function U_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function $_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){$e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$e(e,i,l)}}var s=e.return;try{Kp(e)}catch(l){$e(e,s,l)}break;case 5:var o=e.return;try{Kp(e)}catch(l){$e(e,o,l)}}}catch(l){$e(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var OP=Math.ceil,Zu=Vr.ReactCurrentDispatcher,Ug=Vr.ReactCurrentOwner,pn=Vr.ReactCurrentBatchConfig,pe=0,dt=null,Qe=null,yt=0,Qt=0,Ys=Ri(0),ot=0,Tl=null,gs=0,Qh=0,$g=0,Ha=null,$t=null,Bg=0,Eo=1/0,gr=null,eh=!1,Xp=null,pi=null,Gc=!1,oi=null,th=0,Wa=0,Qp=null,gu=-1,yu=0;function Rt(){return pe&6?Ke():gu!==-1?gu:gu=Ke()}function mi(t){return t.mode&1?pe&2&&yt!==0?yt&-yt:_P.transition!==null?(yu===0&&(yu=KE()),yu):(t=we,t!==0||(t=window.event,t=t===void 0?16:eS(t.type)),t):1}function On(t,e,n,r){if(50<Wa)throw Wa=0,Qp=null,Error($(185));Yl(t,n,r),(!(pe&2)||t!==dt)&&(t===dt&&(!(pe&2)&&(Qh|=n),ot===4&&Zr(t,yt)),qt(t,r),n===1&&pe===0&&!(e.mode&1)&&(Eo=Ke()+500,Kh&&Di()))}function qt(t,e){var n=t.callbackNode;_N(t,e);var r=Fu(t,t===dt?yt:0);if(r===0)n!==null&&Xv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xv(n),e===1)t.tag===0?vP(B_.bind(null,t)):_S(B_.bind(null,t)),pP(function(){!(pe&6)&&Di()}),n=null;else{switch(qE(r)){case 1:n=pg;break;case 4:n=WE;break;case 16:n=ju;break;case 536870912:n=GE;break;default:n=ju}n=yb(n,ub.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ub(t,e){if(gu=-1,yu=0,pe&6)throw Error($(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=Fu(t,t===dt?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nh(t,r);else{e=r;var i=pe;pe|=2;var s=db();(dt!==t||yt!==e)&&(gr=null,Eo=Ke()+500,os(t,e));do try{VP();break}catch(a){hb(t,a)}while(!0);kg(),Zu.current=s,pe=i,Qe!==null?e=0:(dt=null,yt=0,e=ot)}if(e!==0){if(e===2&&(i=bp(t),i!==0&&(r=i,e=Jp(t,i))),e===1)throw n=Tl,os(t,0),Zr(t,r),qt(t,Ke()),n;if(e===6)Zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!jP(i)&&(e=nh(t,r),e===2&&(s=bp(t),s!==0&&(r=s,e=Jp(t,s))),e===1))throw n=Tl,os(t,0),Zr(t,r),qt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Gi(t,$t,gr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=Bg+500-Ke(),10<e)){if(Fu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rp(Gi.bind(null,t,$t,gr),e);break}Gi(t,$t,gr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OP(r/1960))-r,10<r){t.timeoutHandle=Rp(Gi.bind(null,t,$t,gr),r);break}Gi(t,$t,gr);break;case 5:Gi(t,$t,gr);break;default:throw Error($(329))}}}return qt(t,Ke()),t.callbackNode===n?ub.bind(null,t):null}function Jp(t,e){var n=Ha;return t.current.memoizedState.isDehydrated&&(os(t,e).flags|=256),t=nh(t,e),t!==2&&(e=$t,$t=n,e!==null&&Zp(e)),t}function Zp(t){$t===null?$t=t:$t.push.apply($t,t)}function jP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~$g,e&=~Qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function B_(t){if(pe&6)throw Error($(327));ao();var e=Fu(t,0);if(!(e&1))return qt(t,Ke()),null;var n=nh(t,e);if(t.tag!==0&&n===2){var r=bp(t);r!==0&&(e=r,n=Jp(t,r))}if(n===1)throw n=Tl,os(t,0),Zr(t,e),qt(t,Ke()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,$t,gr),qt(t,Ke()),null}function zg(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(Eo=Ke()+500,Kh&&Di())}}function ys(t){oi!==null&&oi.tag===0&&!(pe&6)&&ao();var e=pe;pe|=1;var n=pn.transition,r=we;try{if(pn.transition=null,we=1,t)return t()}finally{we=r,pn.transition=n,pe=e,!(pe&6)&&Di()}}function Hg(){Qt=Ys.current,Pe(Ys)}function os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fP(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(bg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:wo(),Pe(Gt),Pe(bt),Dg();break;case 5:Rg(r);break;case 4:wo();break;case 13:Pe(Oe);break;case 19:Pe(Oe);break;case 10:Ig(r.type._context);break;case 22:case 23:Hg()}n=n.return}if(dt=t,Qe=t=gi(t.current,null),yt=Qt=e,ot=0,Tl=null,$g=Qh=gs=0,$t=Ha=null,Ji!==null){for(e=0;e<Ji.length;e++)if(n=Ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ji=null}return t}function hb(t,e){do{var n=Qe;try{if(kg(),fu.current=Ju,Qu){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qu=!1}if(ms=0,ut=nt=Fe=null,Ba=!1,El=0,Ug.current=null,n===null||n.return===null){ot=1,Tl=e,Qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=N_(o);if(y!==null){y.flags&=-257,P_(y,o,a,s,e),y.mode&1&&I_(s,u,e),e=y,l=u;var E=e.updateQueue;if(E===null){var C=new Set;C.add(l),e.updateQueue=C}else E.add(l);break e}else{if(!(e&1)){I_(s,u,e),Wg();break e}l=Error($(426))}}else if(Re&&a.mode&1){var P=N_(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),P_(P,o,a,s,e),Tg(xo(l,a));break e}}s=l=xo(l,a),ot!==4&&(ot=2),Ha===null?Ha=[s]:Ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=qS(s,l,e);E_(s,w);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pi===null||!pi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=YS(s,a,e);E_(s,D);break e}}s=s.return}while(s!==null)}pb(n)}catch(L){e=L,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function db(){var t=Zu.current;return Zu.current=Ju,t===null?Ju:t}function Wg(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(gs&268435455)&&!(Qh&268435455)||Zr(dt,yt)}function nh(t,e){var n=pe;pe|=2;var r=db();(dt!==t||yt!==e)&&(gr=null,os(t,e));do try{FP();break}catch(i){hb(t,i)}while(!0);if(kg(),pe=n,Zu.current=r,Qe!==null)throw Error($(261));return dt=null,yt=0,ot}function FP(){for(;Qe!==null;)fb(Qe)}function VP(){for(;Qe!==null&&!uN();)fb(Qe)}function fb(t){var e=gb(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?pb(t):Qe=e,Ug.current=null}function pb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RP(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,Qe=null;return}}else if(n=AP(n,e,Qt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);ot===0&&(ot=5)}function Gi(t,e,n){var r=we,i=pn.transition;try{pn.transition=null,we=1,UP(t,e,n,r)}finally{pn.transition=i,we=r}return null}function UP(t,e,n,r){do ao();while(oi!==null);if(pe&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wN(t,s),t===dt&&(Qe=dt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gc||(Gc=!0,yb(ju,function(){return ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=we;we=1;var a=pe;pe|=4,Ug.current=null,MP(t,n),lb(n,t),oP(Pp),Vu=!!Np,Pp=Np=null,t.current=n,LP(n),hN(),pe=a,we=o,pn.transition=s}else t.current=n;if(Gc&&(Gc=!1,oi=t,th=i),s=t.pendingLanes,s===0&&(pi=null),pN(n.stateNode),qt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(eh)throw eh=!1,t=Xp,Xp=null,t;return th&1&&t.tag!==0&&ao(),s=t.pendingLanes,s&1?t===Qp?Wa++:(Wa=0,Qp=t):Wa=0,Di(),null}function ao(){if(oi!==null){var t=qE(th),e=pn.transition,n=we;try{if(pn.transition=null,we=16>t?16:t,oi===null)var r=!1;else{if(t=oi,oi=null,th=0,pe&6)throw Error($(331));var i=pe;for(pe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:za(8,h,s)}var d=h.child;if(d!==null)d.return=h,Y=d;else for(;Y!==null;){h=Y;var p=h.sibling,y=h.return;if(sb(h),h===u){Y=null;break}if(p!==null){p.return=y,Y=p;break}Y=y}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var P=C.sibling;C.sibling=null,C=P}while(C!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:za(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Y=w;break e}Y=s.return}}var v=t.current;for(Y=v;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(L){$e(a,a.return,L)}if(a===o){Y=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Y=D;break e}Y=a.return}}if(pe=i,Di(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Bh,t)}catch{}r=!0}return r}finally{we=n,pn.transition=e}}return!1}function z_(t,e,n){e=xo(n,e),e=qS(t,e,1),t=fi(t,e,1),e=Rt(),t!==null&&(Yl(t,1,e),qt(t,e))}function $e(t,e,n){if(t.tag===3)z_(t,t,n);else for(;e!==null;){if(e.tag===3){z_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pi===null||!pi.has(r))){t=xo(n,t),t=YS(e,t,1),e=fi(e,t,1),t=Rt(),e!==null&&(Yl(e,1,t),qt(e,t));break}}e=e.return}}function $P(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(yt&n)===n&&(ot===4||ot===3&&(yt&130023424)===yt&&500>Ke()-Bg?os(t,0):$g|=n),qt(t,e)}function mb(t,e){e===0&&(t.mode&1?(e=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):e=1);var n=Rt();t=Nr(t,e),t!==null&&(Yl(t,e,n),qt(t,n))}function BP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mb(t,n)}function zP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),mb(t,n)}var gb;gb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,PP(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Re&&e.flags&1048576&&wS(e,Gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mu(t,e),t=e.pendingProps;var i=yo(e,bt.current);oo(e,n),i=Lg(null,e,r,t,i,n);var s=Og();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,Hu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pg(e),i.updater=Yh,e.stateNode=i,i._reactInternals=e,Vp(e,r,t,n),e=Bp(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Sg(e),kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WP(r),t=Sn(r,t),i){case 0:e=$p(null,e,r,t,n);break e;case 1:e=D_(null,e,r,t,n);break e;case 11:e=A_(null,e,r,t,n);break e;case 14:e=R_(null,e,r,Sn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),$p(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),D_(t,e,r,i,n);case 3:e:{if(ZS(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CS(t,e),Yu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xo(Error($(423)),e),e=M_(t,e,r,n,i);break e}else if(r!==i){i=xo(Error($(424)),e),e=M_(t,e,r,n,i);break e}else for(en=di(e.stateNode.containerInfo.firstChild),tn=e,Re=!0,Tn=null,n=bS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){e=Pr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return kS(e),t===null&&Op(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ap(r,i)?o=null:s!==null&&Ap(r,s)&&(e.flags|=32),JS(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&Op(e),null;case 13:return eb(t,e,n);case 4:return Ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),A_(t,e,r,i,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Ku,r._currentValue),r._currentValue=o,s!==null)if(Vn(s.value,o)){if(s.children===i.children&&!Gt.current){e=Pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=br(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oo(e,n),i=yn(i),r=r(i),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),R_(t,e,r,i,n);case 15:return XS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),mu(t,e),e.tag=1,Kt(r)?(t=!0,Hu(e)):t=!1,oo(e,n),KS(e,r,i),Vp(e,r,i,n),Bp(null,e,r,!0,t,n);case 19:return tb(t,e,n);case 22:return QS(t,e,n)}throw Error($(156,e.tag))};function yb(t,e){return HE(t,e)}function HP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new HP(t,e,n,r)}function Gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WP(t){if(typeof t=="function")return Gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hg)return 11;if(t===dg)return 14}return 2}function gi(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vs:return as(n.children,i,s,e);case ug:o=8,i|=8;break;case cp:return t=dn(12,n,e,i|2),t.elementType=cp,t.lanes=s,t;case up:return t=dn(13,n,e,i),t.elementType=up,t.lanes=s,t;case hp:return t=dn(19,n,e,i),t.elementType=hp,t.lanes=s,t;case kE:return Jh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TE:o=10;break e;case CE:o=9;break e;case hg:o=11;break e;case dg:o=14;break e;case Xr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function as(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function Jh(t,e,n,r){return t=dn(22,t,r,e),t.elementType=kE,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function bf(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kg(t,e,n,r,i,s,o,a,l){return t=new GP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pg(s),t}function KP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vb(t){if(!t)return Ei;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Kt(n))return vS(t,n,e)}return e}function _b(t,e,n,r,i,s,o,a,l){return t=Kg(n,r,!0,t,i,s,o,a,l),t.context=vb(null),n=t.current,r=Rt(),i=mi(n),s=br(r,i),s.callback=e??null,fi(n,s,i),t.current.lanes=i,Yl(t,i,r),qt(t,r),t}function Zh(t,e,n,r){var i=e.current,s=Rt(),o=mi(i);return n=vb(n),e.context===null?e.context=n:e.pendingContext=n,e=br(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fi(i,e,o),t!==null&&(On(t,i,o,s),du(t,i,o)),o}function rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function H_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qg(t,e){H_(t,e),(t=t.alternate)&&H_(t,e)}function qP(){return null}var wb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yg(t){this._internalRoot=t}ed.prototype.render=Yg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Zh(t,e,null,null)};ed.prototype.unmount=Yg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Zh(null,t,null,null)}),e[Ir]=null}};function ed(t){this._internalRoot=t}ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=QE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&ZE(t)}};function Xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W_(){}function YP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=rh(o);s.call(u)}}var o=_b(e,r,t,0,null,!1,!1,"",W_);return t._reactRootContainer=o,t[Ir]=o.current,yl(t.nodeType===8?t.parentNode:t),ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=rh(l);a.call(u)}}var l=Kg(t,0,!1,null,null,!1,!1,"",W_);return t._reactRootContainer=l,t[Ir]=l.current,yl(t.nodeType===8?t.parentNode:t),ys(function(){Zh(e,l,n,r)}),l}function nd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rh(o);a.call(l)}}Zh(e,o,t,i)}else o=YP(n,e,t,i,r);return rh(o)}YE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ma(e.pendingLanes);n!==0&&(mg(e,n|1),qt(e,Ke()),!(pe&6)&&(Eo=Ke()+500,Di()))}break;case 13:ys(function(){var r=Nr(t,1);if(r!==null){var i=Rt();On(r,t,1,i)}}),qg(t,1)}};gg=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=Rt();On(e,t,134217728,n)}qg(t,134217728)}};XE=function(t){if(t.tag===13){var e=mi(t),n=Nr(t,e);if(n!==null){var r=Rt();On(n,t,e,r)}qg(t,e)}};QE=function(){return we};JE=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};xp=function(t,e,n){switch(e){case"input":if(pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gh(r);if(!i)throw Error($(90));NE(r),pp(r,i)}}}break;case"textarea":AE(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};FE=zg;VE=ys;var XP={usingClientEntryPoint:!1,Events:[Ql,zs,Gh,OE,jE,zg]},Ea={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||qP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Bh=Kc.inject(QP),er=Kc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(e))throw Error($(200));return KP(t,e,null,n)};rn.createRoot=function(t,e){if(!Xg(t))throw Error($(299));var n=!1,r="",i=wb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kg(t,1,!1,null,null,n,!1,r,i),t[Ir]=e.current,yl(t.nodeType===8?t.parentNode:t),new Yg(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=BE(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return ys(t)};rn.hydrate=function(t,e,n){if(!td(e))throw Error($(200));return nd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Xg(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_b(e,null,t,1,n??null,i,!1,s,o),t[Ir]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ed(e)};rn.render=function(t,e,n){if(!td(e))throw Error($(200));return nd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!td(t))throw Error($(40));return t._reactRootContainer?(ys(function(){nd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ir]=null})}),!0):!1};rn.unstable_batchedUpdates=zg;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!td(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return nd(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),xE.exports=rn;var JP=xE.exports,Eb,G_=JP;Eb=G_.createRoot,G_.hydrateRoot;const Sb=I.createContext(void 0),ZP=({children:t})=>{const[e,n]=I.useState(!1);I.useEffect(()=>{const i=localStorage.getItem("theme");n(i==="dark")},[]);const r=()=>{const i=!e;n(i),localStorage.setItem("theme",i?"dark":"light")};return f.jsx(Sb.Provider,{value:{isDark:e,toggleTheme:r},children:f.jsx("div",{className:e?"dark":"light",children:t})})},jt=()=>{const t=I.useContext(Sb);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K_="popstate";function eA(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return em("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cl(i)}return nA(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function q_(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:n,key:e&&e.key||r||tA()}}function Cl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function nA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let P=h(),w=P==null?null:P-u;u=P,l&&l({action:a,location:C.location,delta:w})}function p(P,w){a="PUSH";let v=em(C.location,P,w);u=h()+1;let x=q_(v,u),D=C.createHref(v);try{o.pushState(x,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}s&&l&&l({action:a,location:C.location,delta:1})}function y(P,w){a="REPLACE";let v=em(C.location,P,w);u=h();let x=q_(v,u),D=C.createHref(v);o.replaceState(x,"",D),s&&l&&l({action:a,location:C.location,delta:0})}function E(P){return rA(P)}let C={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(K_,d),l=P,()=>{i.removeEventListener(K_,d),l=null}},createHref(P){return e(i,P)},createURL:E,encodeLocation(P){let w=E(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:y,go(P){return o.go(P)}};return C}function rA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Me(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bb(t,e,n="/"){return iA(t,e,n,!1)}function iA(t,e,n,r){let i=typeof e=="string"?Oo(e):e,s=Ar(i.pathname||"/",n);if(s==null)return null;let o=Tb(t);sA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gA(s);a=pA(o[l],u,r)}return a}function Tb(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;Me(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let d=Tr([r,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(Me(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Tb(o.children,e,p,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:dA(d,o.index),routesMeta:p})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of Cb(o.path))s(o,a,!0,u)}),e}function Cb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Cb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oA=/^:[\w-]+$/,aA=3,lA=2,cA=1,uA=10,hA=-2,Y_=t=>t==="*";function dA(t,e){let n=t.split("/"),r=n.length;return n.some(Y_)&&(r+=hA),e&&(r+=lA),n.filter(i=>!Y_(i)).reduce((i,s)=>i+(oA.test(s)?aA:s===""?cA:uA),r)}function fA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pA(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=ih({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=ih({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Tr([s,d.pathname]),pathnameBase:wA(Tr([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Tr([s,d.pathnameBase]))}return o}function ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:d},p)=>{if(h==="*"){let E=a[p]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[p];return d&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function mA(t,e=!1,n=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ar(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oo(t):t;return{pathname:n?n.startsWith("/")?n:vA(n,e):e,search:xA(r),hash:EA(i)}}function vA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qg(t){let e=_A(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jg(t,e,n,r=!1){let i;typeof t=="string"?i=Oo(t):(i={...t},Me(!i.pathname||!i.pathname.includes("?"),Tf("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),Tf("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),Tf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=yA(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Tr=t=>t.join("/").replace(/\/\/+/g,"/"),wA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var kb=["POST","PUT","PATCH","DELETE"];new Set(kb);var bA=["GET",...kb];new Set(bA);var jo=I.createContext(null);jo.displayName="DataRouter";var rd=I.createContext(null);rd.displayName="DataRouterState";I.createContext(!1);var Ib=I.createContext({isTransitioning:!1});Ib.displayName="ViewTransition";var TA=I.createContext(new Map);TA.displayName="Fetchers";var CA=I.createContext(null);CA.displayName="Await";var $n=I.createContext(null);$n.displayName="Navigation";var Zl=I.createContext(null);Zl.displayName="Location";var lr=I.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Zg=I.createContext(null);Zg.displayName="RouteError";function kA(t,{relative:e}={}){Me(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext($n),{hash:i,pathname:s,search:o}=ec(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Tr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Fo(){return I.useContext(Zl)!=null}function Mi(){return Me(Fo(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Zl).location}var Nb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pb(t){I.useContext($n).static||I.useLayoutEffect(t)}function id(){let{isDataRoute:t}=I.useContext(lr);return t?UA():IA()}function IA(){Me(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(jo),{basename:e,navigator:n}=I.useContext($n),{matches:r}=I.useContext(lr),{pathname:i}=Mi(),s=JSON.stringify(Qg(r)),o=I.useRef(!1);return Pb(()=>{o.current=!0}),I.useCallback((l,u={})=>{if(Un(o.current,Nb),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Jg(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Tr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}I.createContext(null);function ec(t,{relative:e}={}){let{matches:n}=I.useContext(lr),{pathname:r}=Mi(),i=JSON.stringify(Qg(n));return I.useMemo(()=>Jg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function NA(t,e){return Ab(t,e)}function Ab(t,e,n,r,i){var v;Me(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext($n),{matches:o}=I.useContext(lr),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let x=d&&d.path||"";Rb(u,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=Mi(),y;if(e){let x=typeof e=="string"?Oo(e):e;Me(h==="/"||((v=x.pathname)==null?void 0:v.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${x.pathname}" was given in the \`location\` prop.`),y=x}else y=p;let E=y.pathname||"/",C=E;if(h!=="/"){let x=h.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(x.length).join("/")}let P=bb(t,{pathname:C});Un(d||P!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Un(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=MA(P&&P.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Tr([h,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?h:Tr([h,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r,i);return e&&w?I.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function PA(){let t=VA(),e=SA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,o)}var AA=I.createElement(PA,null),RA=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(lr.Provider,{value:this.props.routeContext},I.createElement(Zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DA({routeContext:t,match:e,children:n}){let r=I.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(lr.Provider,{value:t},n)}function MA(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Me(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:d,errors:p}=n,y=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,h,d)=>{let p,y=!1,E=null,C=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,E=h.route.errorElement||AA,a&&(l<0&&d===0?(Rb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,C=null):l===d&&(y=!0,C=h.route.hydrateFallbackElement||null)));let P=e.concat(s.slice(0,d+1)),w=()=>{let v;return p?v=E:y?v=C:h.route.Component?v=I.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,I.createElement(DA,{match:h,routeContext:{outlet:u,matches:P,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?I.createElement(RA,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:w(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):w()},null)}function ey(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LA(t){let e=I.useContext(jo);return Me(e,ey(t)),e}function OA(t){let e=I.useContext(rd);return Me(e,ey(t)),e}function jA(t){let e=I.useContext(lr);return Me(e,ey(t)),e}function ty(t){let e=jA(t),n=e.matches[e.matches.length-1];return Me(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FA(){return ty("useRouteId")}function VA(){var r;let t=I.useContext(Zg),e=OA("useRouteError"),n=ty("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function UA(){let{router:t}=LA("useNavigate"),e=ty("useNavigate"),n=I.useRef(!1);return Pb(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{Un(n.current,Nb),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var X_={};function Rb(t,e,n){!e&&!X_[t]&&(X_[t]=!0,Un(!1,n))}I.memo($A);function $A({routes:t,future:e,state:n,unstable_onError:r}){return Ab(t,void 0,n,r,e)}function BA({to:t,replace:e,state:n,relative:r}){Me(Fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext($n);Un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=I.useContext(lr),{pathname:o}=Mi(),a=id(),l=Jg(t,Qg(s),o,r==="path"),u=JSON.stringify(l);return I.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function _u(t){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Me(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Oo(n));let{pathname:l="/",search:u="",hash:h="",state:d=null,key:p="default"}=n,y=I.useMemo(()=>{let E=Ar(l,o);return E==null?null:{location:{pathname:E,search:u,hash:h,state:d,key:p},navigationType:r}},[o,l,u,h,d,p,r]);return Un(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:I.createElement($n.Provider,{value:a},I.createElement(Zl.Provider,{children:e,value:y}))}function HA({children:t,location:e}){return NA(tm(t),e)}function tm(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,tm(r.props.children,s));return}Me(r.type===_u,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tm(r.props.children,s)),n.push(o)}),n}var wu="get",xu="application/x-www-form-urlencoded";function sd(t){return t!=null&&typeof t.tagName=="string"}function WA(t){return sd(t)&&t.tagName.toLowerCase()==="button"}function GA(t){return sd(t)&&t.tagName.toLowerCase()==="form"}function KA(t){return sd(t)&&t.tagName.toLowerCase()==="input"}function qA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YA(t,e){return t.button===0&&(!e||e==="_self")&&!qA(t)}var qc=null;function XA(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var QA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cf(t){return t!=null&&!QA.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xu}"`),null):t}function JA(t,e){let n,r,i,s,o;if(GA(t)){let a=t.getAttribute("action");r=a?Ar(a,e):null,n=t.getAttribute("method")||wu,i=Cf(t.getAttribute("enctype"))||xu,s=new FormData(t)}else if(WA(t)||KA(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ar(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||wu,i=Cf(t.getAttribute("formenctype"))||Cf(a.getAttribute("enctype"))||xu,s=new FormData(a,t),!XA()){let{name:u,type:h,value:d}=t;if(h==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,d)}}else{if(sd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wu,r=null,i=xu,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ar(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function eR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nR(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await eR(s,n);return o.links?o.links():[]}return[]}));return oR(r.flat(1).filter(tR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Q_(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function rR(t,e,{includeHydrateFallback:n}={}){return iR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function iR(t){return[...new Set(t)]}function sR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function oR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(sR(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Db(){let t=I.useContext(jo);return ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function aR(){let t=I.useContext(rd);return ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ry=I.createContext(void 0);ry.displayName="FrameworkContext";function Mb(){let t=I.useContext(ry);return ny(t,"You must render this element inside a <HydratedRouter> element"),t}function lR(t,e){let n=I.useContext(ry),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,p=I.useRef(null);I.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=w=>{w.forEach(v=>{o(v.isIntersecting)})},P=new IntersectionObserver(C,{threshold:.5});return p.current&&P.observe(p.current),()=>{P.disconnect()}}},[t]),I.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let y=()=>{i(!0)},E=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Sa(a,y),onBlur:Sa(l,E),onMouseEnter:Sa(u,y),onMouseLeave:Sa(h,E),onTouchStart:Sa(d,y)}]:[!1,p,{}]}function Sa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cR({page:t,...e}){let{router:n}=Db(),r=I.useMemo(()=>bb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(hR,{page:t,matches:r,...e}):null}function uR(t){let{manifest:e,routeModules:n}=Mb(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return nR(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function hR({page:t,matches:e,...n}){let r=Mi(),{manifest:i,routeModules:s}=Mb(),{basename:o}=Db(),{loaderData:a,matches:l}=aR(),u=I.useMemo(()=>Q_(t,e,l,i,r,"data"),[t,e,l,i,r]),h=I.useMemo(()=>Q_(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,C=!1;if(e.forEach(w=>{var x;let v=i.routes[w.route.id];!v||!v.hasLoader||(!u.some(D=>D.route.id===w.route.id)&&w.route.id in a&&((x=s[w.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?C=!0:E.add(w.route.id))}),E.size===0)return[];let P=ZA(t,o,"data");return C&&E.size>0&&P.searchParams.set("_routes",e.filter(w=>E.has(w.route.id)).map(w=>w.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,u,e,t,s]),p=I.useMemo(()=>rR(h,i),[h,i]),y=uR(h);return I.createElement(I.Fragment,null,d.map(E=>I.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),p.map(E=>I.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),y.map(({key:E,link:C})=>I.createElement("link",{key:E,nonce:n.nonce,...C})))}function dR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lb&&(window.__reactRouterVersion="7.9.1")}catch{}function fR({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=eA({window:n,v5Compat:!0}));let i=r.current,[s,o]=I.useState({action:i.action,location:i.location}),a=I.useCallback(l=>{I.startTransition(()=>o(l))},[o]);return I.useLayoutEffect(()=>i.listen(a),[i,a]),I.createElement(zA,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jb=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:d,...p},y){let{basename:E}=I.useContext($n),C=typeof u=="string"&&Ob.test(u),P,w=!1;if(typeof u=="string"&&C&&(P=u,Lb))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),R=Ar(N.pathname,E);N.origin===T.origin&&R!=null?u=R+N.search+N.hash:w=!0}catch{Un(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=kA(u,{relative:i}),[x,D,L]=lR(r,p),O=yR(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function b(T){e&&e(T),T.defaultPrevented||O(T)}let _=I.createElement("a",{...p,...L,href:P||v,onClick:w||s?e:b,ref:dR(y,D),target:l,"data-discover":!C&&n==="render"?"true":void 0});return x&&!C?I.createElement(I.Fragment,null,_,I.createElement(cR,{page:v})):_});jb.displayName="Link";var pR=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let d=ec(o,{relative:u.relative}),p=Mi(),y=I.useContext(rd),{navigator:E,basename:C}=I.useContext($n),P=y!=null&&ER(d)&&a===!0,w=E.encodeLocation?E.encodeLocation(d).pathname:d.pathname,v=p.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase()),x&&C&&(x=Ar(x,C)||x);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=v===w||!i&&v.startsWith(w)&&v.charAt(D)==="/",O=x!=null&&(x===w||!i&&x.startsWith(w)&&x.charAt(w.length)==="/"),b={isActive:L,isPending:O,isTransitioning:P},_=L?e:void 0,T;typeof r=="function"?T=r(b):T=[r,L?"active":null,O?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(b):s;return I.createElement(jb,{...u,"aria-current":_,className:T,ref:h,style:N,to:o,viewTransition:a},typeof l=="function"?l(b):l)});pR.displayName="NavLink";var mR=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=wu,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:d,...p},y)=>{let E=wR(),C=xR(a,{relative:u}),P=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&Ob.test(a),v=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let D=x.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||o;E(D||x.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:d})};return I.createElement("form",{ref:y,method:P,action:C,onSubmit:r?l:v,...p,"data-discover":!w&&t==="render"?"true":void 0})});mR.displayName="Form";function gR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(t){let e=I.useContext(jo);return Me(e,gR(t)),e}function yR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=id(),l=Mi(),u=ec(t,{relative:s});return I.useCallback(h=>{if(YA(h,e)){h.preventDefault();let d=n!==void 0?n:Cl(l)===Cl(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var vR=0,_R=()=>`__${String(++vR)}__`;function wR(){let{router:t}=Fb("useSubmit"),{basename:e}=I.useContext($n),n=FA();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=JA(r,e);if(i.navigate===!1){let h=i.fetcherKey||_R();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function xR(t,{relative:e}={}){let{basename:n}=I.useContext($n),r=I.useContext(lr);Me(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ec(t||".",{relative:e})},o=Mi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Tr([n,s.pathname])),Cl(s)}function ER(t,{relative:e}={}){let n=I.useContext(Ib);Me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Fb("useViewTransitionState"),i=ec(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ih(i.pathname,o)!=null||ih(i.pathname,s)!=null}const SR=()=>{};var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(t,e){if(!t)throw Vo(e)},Vo=function(t){return new Error("Firebase Database ("+Vb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(p=64)),r.push(n[h],n[d],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ub(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new TR;const p=s<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const E=u<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $b=function(t){const e=Ub(t);return iy.encodeByteArray(e,!0)},sh=function(t){return $b(t).replace(/\./g,"")},oh=function(t){try{return iy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){return Bb(void 0,t)}function Bb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kR(n)||(t[n]=Bb(t[n],e[n]));return t}function kR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>IR().__FIREBASE_DEFAULTS__,PR=()=>{if(typeof process>"u"||typeof J_>"u")return;const t=J_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oh(t[1]);return e&&JSON.parse(e)},sy=()=>{try{return SR()||NR()||PR()||AR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zb=t=>{var e,n;return(n=(e=sy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},oy=t=>{const e=zb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hb=()=>{var t;return(t=sy())==null?void 0:t.config},Wb=t=>{var e;return(e=sy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function od(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sh(JSON.stringify(n)),sh(JSON.stringify(o)),""].join(".")}const Ga={};function RR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ga))Ga[e]?t.emulator.push(e):t.prod.push(e);return t}function DR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Z_=!1;function ad(t,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||Ga[t]===e||Ga[t]||Z_)return;Ga[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=RR().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Z_=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=DR(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),P=document.getElementById(C)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),h(P,C);const D=u();l(v,w),x.append(v,E,P,D),document.body.appendChild(x)}s?(E.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ly(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function MR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OR(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kb(){return Vb.NODE_ADMIN===!0}function jR(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VR,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}}function UR(t,e){return t.replace($R,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $R=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){return JSON.parse(t)}function st(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=kl(oh(s[0])||""),n=kl(oh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},BR=function(t){const e=qb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zR=function(t){const e=qb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function So(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ah(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Si(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ew(s)&&ew(o)){if(!Si(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ew(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const p=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),h=1518500249):(u=s^o^a,h=1859775393):d<60?(u=s&o|a&(s|o),h=2400959708):(u=s^o^a,h=3395469782);const p=(i<<5|i>>>27)+u+l+h+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function WR(t,e){const n=new GR(t,e);return n.subscribe.bind(n)}class GR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kf),i.error===void 0&&(i.error=kf),i.complete===void 0&&(i.complete=kf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kf(){}function ld(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,H(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XR(t){return t===Ki?void 0:t}function QR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const ZR={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},eD=ye.INFO,tD={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},nD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ud{constructor(e){this.name=e,this._logLevel=eD,this._logHandler=nD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const rD=(t,e)=>e.some(n=>t instanceof n);let tw,nw;function iD(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yb=new WeakMap,rm=new WeakMap,Xb=new WeakMap,If=new WeakMap,cy=new WeakMap;function oD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yb.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function aD(t){if(rm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rm.set(t,e)}let im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lD(t){im=t(im)}function cD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nf(this),e,...n);return Xb.set(r,e.sort?e.sort():[e]),yi(r)}:sD().includes(t)?function(...e){return t.apply(Nf(this),e),yi(Yb.get(this))}:function(...e){return yi(t.apply(Nf(this),e))}}function uD(t){return typeof t=="function"?cD(t):(t instanceof IDBTransaction&&aD(t),rD(t,iD())?new Proxy(t,im):t)}function yi(t){if(t instanceof IDBRequest)return oD(t);if(If.has(t))return If.get(t);const e=uD(t);return e!==t&&(If.set(t,e),cy.set(e,t)),e}const Nf=t=>cy.get(t);function hD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=yi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yi(o.result),l.oldVersion,l.newVersion,yi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dD=["get","getKey","getAll","getAllKeys","count"],fD=["put","add","delete","clear"],Pf=new Map;function rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Pf.set(e,s),s}lD(t=>({...t,get:(e,n,r)=>rw(e,n)||t.get(e,n,r),has:(e,n)=>!!rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sm="@firebase/app",iw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new ud("@firebase/app"),gD="@firebase/app-compat",yD="@firebase/analytics-compat",vD="@firebase/analytics",_D="@firebase/app-check-compat",wD="@firebase/app-check",xD="@firebase/auth",ED="@firebase/auth-compat",SD="@firebase/database",bD="@firebase/data-connect",TD="@firebase/database-compat",CD="@firebase/functions",kD="@firebase/functions-compat",ID="@firebase/installations",ND="@firebase/installations-compat",PD="@firebase/messaging",AD="@firebase/messaging-compat",RD="@firebase/performance",DD="@firebase/performance-compat",MD="@firebase/remote-config",LD="@firebase/remote-config-compat",OD="@firebase/storage",jD="@firebase/storage-compat",FD="@firebase/firestore",VD="@firebase/ai",UD="@firebase/firestore-compat",$D="firebase",BD="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",zD={[sm]:"fire-core",[gD]:"fire-core-compat",[vD]:"fire-analytics",[yD]:"fire-analytics-compat",[wD]:"fire-app-check",[_D]:"fire-app-check-compat",[xD]:"fire-auth",[ED]:"fire-auth-compat",[SD]:"fire-rtdb",[bD]:"fire-data-connect",[TD]:"fire-rtdb-compat",[CD]:"fire-fn",[kD]:"fire-fn-compat",[ID]:"fire-iid",[ND]:"fire-iid-compat",[PD]:"fire-fcm",[AD]:"fire-fcm-compat",[RD]:"fire-perf",[DD]:"fire-perf-compat",[MD]:"fire-rc",[LD]:"fire-rc-compat",[OD]:"fire-gcs",[jD]:"fire-gcs-compat",[FD]:"fire-fst",[UD]:"fire-fst-compat",[VD]:"fire-vertex","fire-js":"fire-js",[$D]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,HD=new Map,am=new Map;function sw(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bi(t){const e=t.name;if(am.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(const n of lh.values())sw(n,t);for(const n of HD.values())sw(n,t);return!0}function rc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new nc("app","Firebase",WD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=BD;function Qb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:om,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=Hb()),!n)throw vi.create("no-options");const s=lh.get(i);if(s){if(Si(n,s.options)&&Si(r,s.config))return s;throw vi.create("duplicate-app",{appName:i})}const o=new JR(i);for(const l of am.values())o.addComponent(l);const a=new GD(n,r,o);return lh.set(i,a),a}function hd(t=om){const e=lh.get(t);if(!e&&t===om&&Hb())return Qb();if(!e)throw vi.create("no-app",{appName:t});return e}function mn(t,e,n){let r=zD[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(o.join(" "));return}bi(new Rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="firebase-heartbeat-database",qD=1,Il="firebase-heartbeat-store";let Af=null;function Jb(){return Af||(Af=hD(KD,qD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),Af}async function YD(t){try{const n=(await Jb()).transaction(Il),r=await n.objectStore(Il).get(Zb(t));return await n.done,r}catch(e){if(e instanceof cr)Dr.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function ow(t,e){try{const r=(await Jb()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,Zb(t)),await r.done}catch(n){if(n instanceof cr)Dr.warn(n.message);else{const r=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function Zb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1024,QD=30;class JD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>QD){const o=t4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aw(),{heartbeatsToSend:r,unsentEntries:i}=ZD(this._heartbeatsCache.heartbeats),s=sh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}}}function aw(){return new Date().toISOString().substring(0,10)}function ZD(t,e=XD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jR()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lw(t){return sh(JSON.stringify({version:2,heartbeats:t})).length}function t4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){bi(new Rr("platform-logger",e=>new pD(e),"PRIVATE")),bi(new Rr("heartbeat",e=>new JD(e),"PRIVATE")),mn(sm,iw,t),mn(sm,iw,"esm2020"),mn("fire-js","")}n4("");function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r4=eT,tT=new nc("auth","Firebase",eT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new ud("@firebase/auth");function i4(t,...e){ch.logLevel<=ye.WARN&&ch.warn(`Auth (${Oi}): ${t}`,...e)}function Eu(t,...e){ch.logLevel<=ye.ERROR&&ch.error(`Auth (${Oi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw hy(t,...e)}function jn(t,...e){return hy(t,...e)}function uy(t,e,n){const r={...r4(),[e]:n};return new nc("auth","Firebase",r).create(e,{appName:t.name})}function ls(t){return uy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&or(t,"argument-error"),uy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tT.create(t,...e)}function ne(t,e,...n){if(!t)throw hy(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eu(e),new Error(e)}function Mr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function o4(){return cw()==="http:"||cw()==="https:"}function cw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o4()||LR()||"connection"in navigator)?navigator.onLine:!0}function l4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=ly()||Gb()}get(){return a4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h4=new ic(3e4,6e4);function fy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $o(t,e,n,r,i={}){return rT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Uo({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return MR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Li(t.emulatorConfig.host)&&(u.credentials="include"),nT.fetch()(await iT(t,t.config.apiHost,n,a),u)})}async function rT(t,e,n){t._canInitEmulator=!1;const r={...c4,...e};try{const i=new f4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uy(t,h,u);or(t,h)}}catch(i){if(i instanceof cr)throw i;or(t,"network-request-failed",{message:String(i)})}}async function d4(t,e,n,r,i={}){const s=await $o(t,e,n,r,i);return"mfaPendingCredential"in s&&or(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function iT(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?dy(t.config,i):`${t.config.apiScheme}://${i}`;return u4.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class f4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),h4.get())})}}function Yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return $o(t,"POST","/v1/accounts:delete",e)}async function uh(t,e){return $o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m4(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=py(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ka(Rf(i.auth_time)),issuedAtTime:Ka(Rf(i.iat)),expirationTime:Ka(Rf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rf(t){return Number(t)*1e3}function py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const i=oh(n);return i?JSON.parse(i):(Eu("Failed to decode base64 JWT payload"),null)}catch(i){return Eu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uw(t){const e=py(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&g4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function g4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Nl(t,uh(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?sT(i.providerUserInfo):[],o=_4(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cm(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function v4(t){const e=Tt(t);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){const n=await rT(t,{},async()=>{const r=Uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await iT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Li(t.emulatorConfig.host)&&(l.credentials="include"),nT.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x4(t,e){return $o(t,"POST","/v2/accounts:revokeToken",fy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=uw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await w4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lo;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class An{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new y4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m4(this,e)}reload(){return v4(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new An({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Nl(this,p4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:y,providerData:E,stsTokenManager:C}=n;ne(d&&C,e,"internal-error");const P=lo.fromJSON(this.name,C);ne(typeof d=="string",e,"internal-error"),qr(r,e.name),qr(i,e.name),ne(typeof p=="boolean",e,"internal-error"),ne(typeof y=="boolean",e,"internal-error"),qr(s,e.name),qr(o,e.name),qr(a,e.name),qr(l,e.name),qr(u,e.name),qr(h,e.name);const w=new An({uid:d,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:P,createdAt:u,lastLoginAt:h});return E&&Array.isArray(E)&&(w.providerData=E.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new lo;i.updateFromServerResponse(n);const s=new An({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new lo;a.updateFromIdToken(r);const l=new An({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;function Er(t){Mr(t instanceof Function,"Expected a class definition");let e=hw.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oT.type="NONE";const dw=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t,e,n){return`firebase:${t}:${e}:${n}`}class co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Su(this.userKey,i.apiKey,s),this.fullPersistenceKey=Su("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?An._fromGetAccountInfoResponse(this.auth,n,e):null}return An._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new co(Er(dw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Er(dw);const o=Su(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const p=await uh(e,{idToken:h}).catch(()=>{});if(!p)break;d=await An._fromGetAccountInfoResponse(e,p,h)}else d=An._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new co(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dT(e))return"Blackberry";if(fT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aT(t=Mt()){return/firefox\//i.test(t)}function lT(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(t=Mt()){return/crios\//i.test(t)}function uT(t=Mt()){return/iemobile/i.test(t)}function hT(t=Mt()){return/android/i.test(t)}function dT(t=Mt()){return/blackberry/i.test(t)}function fT(t=Mt()){return/webos/i.test(t)}function my(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E4(t=Mt()){var e;return my(t)&&!!((e=window.navigator)!=null&&e.standalone)}function S4(){return OR()&&document.documentMode===10}function pT(t=Mt()){return my(t)||hT(t)||fT(t)||dT(t)||/windows phone/i.test(t)||uT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e=[]){let n;switch(t){case"Browser":n=fw(Mt());break;case"Worker":n=`${fw(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e={}){return $o(t,"GET","/v2/passwordPolicy",fy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=6;class k4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??C4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pw(this),this.idTokenSubscription=new pw(this),this.beforeStateQueue=new b4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),r=await An._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Jt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(ls(this));const n=e?Tt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T4(this),n=new k4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&i4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function dd(t){return Tt(t)}class pw{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N4(t){gy=t}function P4(t){return gy.loadJS(t)}function A4(){return gy.gapiScript}function R4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t,e){const n=rc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Si(s,e??{}))return i;or(i,"already-initialized")}return n.initialize({options:e})}function M4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function L4(t,e,n){const r=dd(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=gT(e),{host:o,port:a}=O4(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Si(u,r.config.emulator)&&Si(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Li(o)?(od(`${s}//${o}${l}`),ad("Auth",!0)):j4()}function gT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O4(t){const e=gT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:mw(o)}}}function mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e){return d4(t,"POST","/v1/accounts:signInWithIdp",fy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="http://localhost";class vs extends yT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:F4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends sc{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kn.credentialFromTaggedObject(e)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kn.credential(n,r)}catch{return null}}}kn.GOOGLE_SIGN_IN_METHOD="google.com";kn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends sc{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends sc{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await An._fromIdTokenResponse(e,r,i),o=gw(r);return new bo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gw(r);return new bo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends cr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dh(e,n,r,i)}}function vT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,s,e,r):s})}async function V4(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e,n=!1){const{auth:r}=t;if(Jt(r.app))return Promise.reject(ls(r));const i="reauthenticate";try{const s=await Nl(t,vT(r,i,e,t),n);ne(s.idToken,r,"internal-error");const o=py(s.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),bo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&or(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e,n=!1){if(Jt(t.app))return Promise.reject(ls(t));const r="signIn",i=await vT(t,r,e),s=await bo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function B4(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function z4(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function H4(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function W4(t){return Tt(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=1e3,K4=10;class wT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);S4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,K4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const q4=wT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xT.type="SESSION";const ET=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Y4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=vy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function Q4(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function J4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function eM(){return ST()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebaseLocalStorageDb",tM=1,ph="firebaseLocalStorage",TT="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function nM(){const t=indexedDB.deleteDatabase(bT);return new oc(t).toPromise()}function um(){const t=indexedDB.open(bT,tM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ph,{keyPath:TT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await nM(),e(await um()))})})}async function yw(t,e,n){const r=pd(t,!0).put({[TT]:e,value:n});return new oc(r).toPromise()}async function rM(t,e){const n=pd(t,!1).get(e),r=await new oc(n).toPromise();return r===void 0?null:r.value}function vw(t,e){const n=pd(t,!0).delete(e);return new oc(n).toPromise()}const iM=800,sM=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(eM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await J4(),!this.activeServiceWorker)return;this.sender=new X4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await yw(e,fh,"1"),await vw(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pd(i,!1).getAll();return new oc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const oM=CT;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e){return e?Er(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends yT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aM(t){return $4(t.auth,new _y(t),t.bypassAuthState)}function lM(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),U4(n,new _y(t),t.bypassAuthState)}async function cM(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),V4(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return cM;case"reauthViaPopup":case"reauthViaRedirect":return lM;default:or(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new ic(2e3,1e4);async function hm(t,e,n){if(Jt(t.app))return Promise.reject(jn(t,"operation-not-supported-in-this-environment"));const r=dd(t);s4(t,e,yy);const i=kT(r,n);return new es(r,"signInViaPopup",e,i).executeNotNull()}class es extends IT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uM.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="pendingRedirect",bu=new Map;class dM extends IT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bu.get(this.auth._key());if(!e){try{const r=await fM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bu.set(this.auth._key(),e)}return this.bypassAuthState||bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fM(t,e){const n=gM(e),r=mM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pM(t,e){bu.set(t._key(),e)}function mM(t){return Er(t._redirectPersistence)}function gM(t){return Su(hM,t.config.apiKey,t.name)}async function yM(t,e,n=!1){if(Jt(t.app))return Promise.reject(ls(t));const r=dd(t),i=kT(r,e),o=await new dM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=10*60*1e3;class _M{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NT(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vM&&this.cachedEventUids.clear(),this.cachedEventUids.has(_w(e))}saveEventToCache(e){this.cachedEventUids.add(_w(e)),this.lastProcessedEventTime=Date.now()}}function _w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return $o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SM=/^https?/;async function bM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if(TM(n))return}catch{}or(t,"unauthorized-domain")}function TM(t){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SM.test(n))return!1;if(EM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new ic(3e4,6e4);function ww(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kM(t){return new Promise((e,n)=>{var i,s,o;function r(){ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ww(),n(jn(t,"network-request-failed"))},timeout:CM.get()})}if((s=(i=nr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=nr().gapi)!=null&&o.load)r();else{const a=R4("iframefcb");return nr()[a]=()=>{gapi.load?r():n(jn(t,"network-request-failed"))},P4(`${A4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Tu=null,e})}let Tu=null;function IM(t){return Tu=Tu||kM(t),Tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new ic(5e3,15e3),PM="__/auth/iframe",AM="emulator/auth/iframe",RM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MM(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,AM):`https://${t.config.authDomain}/${PM}`,r={apiKey:e.apiKey,appName:t.name,v:Oi},i=DM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Uo(r).slice(1)}`}async function LM(t){const e=await IM(t),n=nr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:MM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=jn(t,"network-request-failed"),a=nr().setTimeout(()=>{s(o)},NM.get());function l(){nr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jM=500,FM=600,VM="_blank",UM="http://localhost";class xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $M(t,e,n,r=jM,i=FM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...OM,width:r.toString(),height:i.toString(),top:s,left:o},u=Mt().toLowerCase();n&&(a=cT(u)?VM:n),aT(u)&&(e=e||UM,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[y,E])=>`${p}${y}=${E},`,"");if(E4(u)&&a!=="_self")return BM(e||"",a),new xw(null);const d=window.open(e||"",a,h);ne(d,t,"popup-blocked");try{d.focus()}catch{}return new xw(d)}function BM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="__/auth/handler",HM="emulator/auth/handler",WM=encodeURIComponent("fac");async function Ew(t,e,n,r,i,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oi,eventId:i};if(e instanceof yy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof sc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${WM}=${encodeURIComponent(l)}`:"";return`${GM(t)}?${Uo(a).slice(1)}${u}`}function GM({config:t}){return t.emulator?dy(t,HM):`https://${t.authDomain}/${zM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="webStorageSupport";class KM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=yM,this._overrideRedirectResult=pM}async _openPopup(e,n,r,i){var o;Mr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Ew(e,n,r,lm(),i);return $M(e,s,vy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ew(e,n,r,lm(),i);return Q4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LM(e),r=new _M(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Df,{type:Df},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Df];s!==void 0&&n(!!s),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pT()||lT()||my()}}const qM=KM;var Sw="@firebase/auth",bw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QM(t){bi(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(t)},u=new I4(r,i,s,l);return M4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bi(new Rr("auth-internal",e=>{const n=dd(e.getProvider("auth").getImmediate());return(r=>new YM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(Sw,bw,XM(t)),mn(Sw,bw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=5*60,ZM=Wb("authIdTokenMaxAge")||JM;let Tw=null;const e3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZM)return;const i=n==null?void 0:n.token;Tw!==i&&(Tw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t3(t=hd()){const e=rc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D4(t,{popupRedirectResolver:qM,persistence:[oM,q4,ET]}),r=Wb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=e3(s.toString());z4(n,o,()=>o(n.currentUser)),B4(n,a=>o(a))}}const i=zb("auth");return i&&L4(n,`http://${i}`),n}function n3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}N4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",n3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QM("Browser");var r3="firebase",i3="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(r3,i3,"app");var Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,_){function T(){}T.prototype=_.prototype,b.F=_.prototype,b.prototype=new T,b.prototype.constructor=b,b.D=function(N,R,M){for(var k=Array(arguments.length-2),re=2;re<arguments.length;re++)k[re-2]=arguments[re];return _.prototype[R].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,T){T||(T=0);const N=Array(16);if(typeof _=="string")for(var R=0;R<16;++R)N[R]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(R=0;R<16;++R)N[R]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=b.g[0],T=b.g[1],R=b.g[2];let M=b.g[3],k;k=_+(M^T&(R^M))+N[0]+3614090360&4294967295,_=T+(k<<7&4294967295|k>>>25),k=M+(R^_&(T^R))+N[1]+3905402710&4294967295,M=_+(k<<12&4294967295|k>>>20),k=R+(T^M&(_^T))+N[2]+606105819&4294967295,R=M+(k<<17&4294967295|k>>>15),k=T+(_^R&(M^_))+N[3]+3250441966&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(M^T&(R^M))+N[4]+4118548399&4294967295,_=T+(k<<7&4294967295|k>>>25),k=M+(R^_&(T^R))+N[5]+1200080426&4294967295,M=_+(k<<12&4294967295|k>>>20),k=R+(T^M&(_^T))+N[6]+2821735955&4294967295,R=M+(k<<17&4294967295|k>>>15),k=T+(_^R&(M^_))+N[7]+4249261313&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(M^T&(R^M))+N[8]+1770035416&4294967295,_=T+(k<<7&4294967295|k>>>25),k=M+(R^_&(T^R))+N[9]+2336552879&4294967295,M=_+(k<<12&4294967295|k>>>20),k=R+(T^M&(_^T))+N[10]+4294925233&4294967295,R=M+(k<<17&4294967295|k>>>15),k=T+(_^R&(M^_))+N[11]+2304563134&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(M^T&(R^M))+N[12]+1804603682&4294967295,_=T+(k<<7&4294967295|k>>>25),k=M+(R^_&(T^R))+N[13]+4254626195&4294967295,M=_+(k<<12&4294967295|k>>>20),k=R+(T^M&(_^T))+N[14]+2792965006&4294967295,R=M+(k<<17&4294967295|k>>>15),k=T+(_^R&(M^_))+N[15]+1236535329&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(R^M&(T^R))+N[1]+4129170786&4294967295,_=T+(k<<5&4294967295|k>>>27),k=M+(T^R&(_^T))+N[6]+3225465664&4294967295,M=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(M^_))+N[11]+643717713&4294967295,R=M+(k<<14&4294967295|k>>>18),k=T+(M^_&(R^M))+N[0]+3921069994&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^M&(T^R))+N[5]+3593408605&4294967295,_=T+(k<<5&4294967295|k>>>27),k=M+(T^R&(_^T))+N[10]+38016083&4294967295,M=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(M^_))+N[15]+3634488961&4294967295,R=M+(k<<14&4294967295|k>>>18),k=T+(M^_&(R^M))+N[4]+3889429448&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^M&(T^R))+N[9]+568446438&4294967295,_=T+(k<<5&4294967295|k>>>27),k=M+(T^R&(_^T))+N[14]+3275163606&4294967295,M=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(M^_))+N[3]+4107603335&4294967295,R=M+(k<<14&4294967295|k>>>18),k=T+(M^_&(R^M))+N[8]+1163531501&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^M&(T^R))+N[13]+2850285829&4294967295,_=T+(k<<5&4294967295|k>>>27),k=M+(T^R&(_^T))+N[2]+4243563512&4294967295,M=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(M^_))+N[7]+1735328473&4294967295,R=M+(k<<14&4294967295|k>>>18),k=T+(M^_&(R^M))+N[12]+2368359562&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(T^R^M)+N[5]+4294588738&4294967295,_=T+(k<<4&4294967295|k>>>28),k=M+(_^T^R)+N[8]+2272392833&4294967295,M=_+(k<<11&4294967295|k>>>21),k=R+(M^_^T)+N[11]+1839030562&4294967295,R=M+(k<<16&4294967295|k>>>16),k=T+(R^M^_)+N[14]+4259657740&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^M)+N[1]+2763975236&4294967295,_=T+(k<<4&4294967295|k>>>28),k=M+(_^T^R)+N[4]+1272893353&4294967295,M=_+(k<<11&4294967295|k>>>21),k=R+(M^_^T)+N[7]+4139469664&4294967295,R=M+(k<<16&4294967295|k>>>16),k=T+(R^M^_)+N[10]+3200236656&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^M)+N[13]+681279174&4294967295,_=T+(k<<4&4294967295|k>>>28),k=M+(_^T^R)+N[0]+3936430074&4294967295,M=_+(k<<11&4294967295|k>>>21),k=R+(M^_^T)+N[3]+3572445317&4294967295,R=M+(k<<16&4294967295|k>>>16),k=T+(R^M^_)+N[6]+76029189&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^M)+N[9]+3654602809&4294967295,_=T+(k<<4&4294967295|k>>>28),k=M+(_^T^R)+N[12]+3873151461&4294967295,M=_+(k<<11&4294967295|k>>>21),k=R+(M^_^T)+N[15]+530742520&4294967295,R=M+(k<<16&4294967295|k>>>16),k=T+(R^M^_)+N[2]+3299628645&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(R^(T|~M))+N[0]+4096336452&4294967295,_=T+(k<<6&4294967295|k>>>26),k=M+(T^(_|~R))+N[7]+1126891415&4294967295,M=_+(k<<10&4294967295|k>>>22),k=R+(_^(M|~T))+N[14]+2878612391&4294967295,R=M+(k<<15&4294967295|k>>>17),k=T+(M^(R|~_))+N[5]+4237533241&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~M))+N[12]+1700485571&4294967295,_=T+(k<<6&4294967295|k>>>26),k=M+(T^(_|~R))+N[3]+2399980690&4294967295,M=_+(k<<10&4294967295|k>>>22),k=R+(_^(M|~T))+N[10]+4293915773&4294967295,R=M+(k<<15&4294967295|k>>>17),k=T+(M^(R|~_))+N[1]+2240044497&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~M))+N[8]+1873313359&4294967295,_=T+(k<<6&4294967295|k>>>26),k=M+(T^(_|~R))+N[15]+4264355552&4294967295,M=_+(k<<10&4294967295|k>>>22),k=R+(_^(M|~T))+N[6]+2734768916&4294967295,R=M+(k<<15&4294967295|k>>>17),k=T+(M^(R|~_))+N[13]+1309151649&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~M))+N[4]+4149444226&4294967295,_=T+(k<<6&4294967295|k>>>26),k=M+(T^(_|~R))+N[11]+3174756917&4294967295,M=_+(k<<10&4294967295|k>>>22),k=R+(_^(M|~T))+N[2]+718787259&4294967295,R=M+(k<<15&4294967295|k>>>17),k=T+(M^(R|~_))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.v=function(b,_){_===void 0&&(_=b.length);const T=_-this.blockSize,N=this.C;let R=this.h,M=0;for(;M<_;){if(R==0)for(;M<=T;)i(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<_;)if(N[R++]=b.charCodeAt(M++),R==this.blockSize){i(this,N),R=0;break}}else for(;M<_;)if(N[R++]=b[M++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=_},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;_=this.o*8;for(var T=b.length-8;T<b.length;++T)b[T]=_&255,_/=256;for(this.v(b),b=Array(16),_=0,T=0;T<4;++T)for(let N=0;N<32;N+=8)b[_++]=this.g[T]>>>N&255;return b};function s(b,_){var T=a;return Object.prototype.hasOwnProperty.call(T,b)?T[b]:T[b]=_(b)}function o(b,_){this.h=_;const T=[];let N=!0;for(let R=b.length-1;R>=0;R--){const M=b[R]|0;N&&M==_||(T[R]=M,N=!1)}this.g=T}var a={};function l(b){return-128<=b&&b<128?s(b,function(_){return new o([_|0],_<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(b<0)return P(u(-b));const _=[];let T=1;for(let N=0;b>=T;N++)_[N]=b/T|0,T*=4294967296;return new o(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return P(h(b.substring(1),_));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(_,8));let N=d;for(let M=0;M<b.length;M+=8){var R=Math.min(8,b.length-M);const k=parseInt(b.substring(M,M+R),_);R<8?(R=u(Math.pow(_,R)),N=N.j(R).add(u(k))):(N=N.j(T),N=N.add(u(k)))}return N}var d=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(C(this))return-P(this).m();let b=0,_=1;for(let T=0;T<this.g.length;T++){const N=this.i(T);b+=(N>=0?N:4294967296+N)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(C(this))return"-"+P(this).toString(b);const _=u(Math.pow(b,6));var T=this;let N="";for(;;){const R=D(T,_).g;T=w(T,R.j(_));let M=((T.g.length>0?T.g[0]:T.h)>>>0).toString(b);if(T=R,E(T))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(let _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function C(b){return b.h==-1}t.l=function(b){return b=w(this,b),C(b)?-1:E(b)?0:1};function P(b){const _=b.g.length,T=[];for(let N=0;N<_;N++)T[N]=~b.g[N];return new o(T,~b.h).add(p)}t.abs=function(){return C(this)?P(this):this},t.add=function(b){const _=Math.max(this.g.length,b.g.length),T=[];let N=0;for(let R=0;R<=_;R++){let M=N+(this.i(R)&65535)+(b.i(R)&65535),k=(M>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);N=k>>>16,M&=65535,k&=65535,T[R]=k<<16|M}return new o(T,T[T.length-1]&-2147483648?-1:0)};function w(b,_){return b.add(P(_))}t.j=function(b){if(E(this)||E(b))return d;if(C(this))return C(b)?P(this).j(P(b)):P(P(this).j(b));if(C(b))return P(this.j(P(b)));if(this.l(y)<0&&b.l(y)<0)return u(this.m()*b.m());const _=this.g.length+b.g.length,T=[];for(var N=0;N<2*_;N++)T[N]=0;for(N=0;N<this.g.length;N++)for(let R=0;R<b.g.length;R++){const M=this.i(N)>>>16,k=this.i(N)&65535,re=b.i(R)>>>16,xe=b.i(R)&65535;T[2*N+2*R]+=k*xe,v(T,2*N+2*R),T[2*N+2*R+1]+=M*xe,v(T,2*N+2*R+1),T[2*N+2*R+1]+=k*re,v(T,2*N+2*R+1),T[2*N+2*R+2]+=M*re,v(T,2*N+2*R+2)}for(b=0;b<_;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=_;b<2*_;b++)T[b]=0;return new o(T,0)};function v(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function x(b,_){this.g=b,this.h=_}function D(b,_){if(E(_))throw Error("division by zero");if(E(b))return new x(d,d);if(C(b))return _=D(P(b),_),new x(P(_.g),P(_.h));if(C(_))return _=D(b,P(_)),new x(P(_.g),_.h);if(b.g.length>30){if(C(b)||C(_))throw Error("slowDivide_ only works with positive integers.");for(var T=p,N=_;N.l(b)<=0;)T=L(T),N=L(N);var R=O(T,1),M=O(N,1);for(N=O(N,2),T=O(T,2);!E(N);){var k=M.add(N);k.l(b)<=0&&(R=R.add(T),M=k),N=O(N,1),T=O(T,1)}return _=w(b,R.j(_)),new x(R,_)}for(R=d;b.l(_)>=0;){for(T=Math.max(1,Math.floor(b.m()/_.m())),N=Math.ceil(Math.log(T)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=u(T),k=M.j(_);C(k)||k.l(b)>0;)T-=N,M=u(T),k=M.j(_);E(M)&&(M=p),R=R.add(M),b=w(b,k)}return new x(R,b)}t.B=function(b){return D(this,b).h},t.and=function(b){const _=Math.max(this.g.length,b.g.length),T=[];for(let N=0;N<_;N++)T[N]=this.i(N)&b.i(N);return new o(T,this.h&b.h)},t.or=function(b){const _=Math.max(this.g.length,b.g.length),T=[];for(let N=0;N<_;N++)T[N]=this.i(N)|b.i(N);return new o(T,this.h|b.h)},t.xor=function(b){const _=Math.max(this.g.length,b.g.length),T=[];for(let N=0;N<_;N++)T[N]=this.i(N)^b.i(N);return new o(T,this.h^b.h)};function L(b){const _=b.g.length+1,T=[];for(let N=0;N<_;N++)T[N]=b.i(N)<<1|b.i(N-1)>>>31;return new o(T,b.h)}function O(b,_){const T=_>>5;_%=32;const N=b.g.length-T,R=[];for(let M=0;M<N;M++)R[M]=_>0?b.i(M+T)>>>_|b.i(M+T+1)<<32-_:b.i(M+T);return new o(R,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,wy=o}).apply(typeof Cw<"u"?Cw:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var g=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in g))break e;g=g[j]}c=c[c.length-1],S=g[c],m=m(S),m!=S&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(m){var g=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&g.push([S,m[S]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,g){return c.call.apply(c.bind,arguments)}function u(c,m,g){return u=l,u.apply(null,arguments)}function h(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function d(c,m){function g(){}g.prototype=m.prototype,c.Z=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(S,j,V){for(var W=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)W[ie-2]=arguments[ie];return m.prototype[j].apply(S,W)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const m=c.length;if(m>0){const g=Array(m);for(let S=0;S<m;S++)g[S]=c[S];return g}return[]}function E(c,m){for(let S=1;S<arguments.length;S++){const j=arguments[S];var g=typeof j;if(g=g!="object"?g:j?Array.isArray(j)?"array":g:"null",g=="array"||g=="object"&&typeof j.length=="number"){g=c.length||0;const V=j.length||0;c.length=g+V;for(let W=0;W<V;W++)c[g+W]=j[W]}else c.push(j)}}class C{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(c){o.setTimeout(()=>{throw c},0)}function w(){var c=b;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class v{constructor(){this.h=this.g=null}add(m,g){const S=x.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var x=new C(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let L,O=!1,b=new v,_=()=>{const c=Promise.resolve(void 0);L=()=>{c.then(T)}};function T(){for(var c;c=w();){try{c.h.call(c.g)}catch(g){P(g)}var m=x;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}O=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,m),o.removeEventListener("test",g,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function re(c,m){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}d(re,R),re.prototype.init=function(c,m){const g=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),He=0;function ue(c,m,g,S,j){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=j,this.key=++He,this.da=this.fa=!1}function z(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function X(c,m,g){for(const S in c)m.call(g,c[S],S,c)}function Z(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function _e(c){const m={};for(const g in c)m[g]=c[g];return m}const Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bn(c,m){let g,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(g in S)c[g]=S[g];for(let V=0;V<Le.length;V++)g=Le[V],Object.prototype.hasOwnProperty.call(S,g)&&(c[g]=S[g])}}function Ft(c){this.src=c,this.g={},this.h=0}Ft.prototype.add=function(c,m,g,S,j){const V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);const W=Yt(c,m,S,j);return W>-1?(m=c[W],g||(m.fa=!1)):(m=new ue(m,this.src,V,!!S,j),m.fa=g,c.push(m)),m};function zn(c,m){const g=m.type;if(g in c.g){var S=c.g[g],j=Array.prototype.indexOf.call(S,m,void 0),V;(V=j>=0)&&Array.prototype.splice.call(S,j,1),V&&(z(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Yt(c,m,g,S){for(let j=0;j<c.length;++j){const V=c[j];if(!V.da&&V.listener==m&&V.capture==!!g&&V.ha==S)return j}return-1}var on="closure_lm_"+(Math.random()*1e6|0),ks={};function Is(c,m,g,S,j){if(Array.isArray(m)){for(let V=0;V<m.length;V++)Is(c,m[V],g,S,j);return null}return g=Ld(g),c&&c[xe]?c.J(m,g,a(S)?!!S.capture:!!S,j):qo(c,m,g,!1,S,j)}function qo(c,m,g,S,j,V){if(!m)throw Error("Invalid event type");const W=a(j)?!!j.capture:!!j;let ie=Jo(c);if(ie||(c[on]=ie=new Ft(c)),g=ie.add(m,g,S,W,V),g.proxy)return g;if(S=Md(),g.proxy=S,S.src=c,S.listener=g,c.addEventListener)M||(j=W),j===void 0&&(j=!1),c.addEventListener(m.toString(),S,j);else if(c.attachEvent)c.attachEvent(Qo(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Md(){function c(g){return m.call(c.src,c.listener,g)}const m=xc;return c}function Yo(c,m,g,S,j){if(Array.isArray(m))for(var V=0;V<m.length;V++)Yo(c,m[V],g,S,j);else S=a(S)?!!S.capture:!!S,g=Ld(g),c&&c[xe]?(c=c.i,V=String(m).toString(),V in c.g&&(m=c.g[V],g=Yt(m,g,S,j),g>-1&&(z(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete c.g[V],c.h--)))):c&&(c=Jo(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Yt(m,g,S,j)),(g=c>-1?m[c]:null)&&Xo(g))}function Xo(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[xe])zn(m.i,c);else{var g=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(g,S,c.capture):m.detachEvent?m.detachEvent(Qo(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=Jo(m))?(zn(g,c),g.h==0&&(g.src=null,m[on]=null)):z(c)}}}function Qo(c){return c in ks?ks[c]:ks[c]="on"+c}function xc(c,m){if(c.da)c=!0;else{m=new re(m,this);const g=c.listener,S=c.ha||c.src;c.fa&&Xo(c),c=g.call(S,m)}return c}function Jo(c){return c=c[on],c instanceof Ft?c:null}var Zo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ld(c){return typeof c=="function"?c:(c[Zo]||(c[Zo]=function(m){return c.handleEvent(m)}),c[Zo])}function et(){N.call(this),this.i=new Ft(this),this.M=this,this.G=null}d(et,N),et.prototype[xe]=!0,et.prototype.removeEventListener=function(c,m,g,S){Yo(this,c,m,g,S)};function A(c,m){var g,S=c.G;if(S)for(g=[];S;S=S.G)g.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new R(m,c);else if(m instanceof R)m.target=m.target||c;else{var j=m;m=new R(S,c),Bn(m,j)}j=!0;let V,W;if(g)for(W=g.length-1;W>=0;W--)V=m.g=g[W],j=F(V,S,!0,m)&&j;if(V=m.g=c,j=F(V,S,!0,m)&&j,j=F(V,S,!1,m)&&j,g)for(W=0;W<g.length;W++)V=m.g=g[W],j=F(V,S,!1,m)&&j}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const g=c.g[m];for(let S=0;S<g.length;S++)z(g[S]);delete c.g[m],c.h--}}this.G=null},et.prototype.J=function(c,m,g,S){return this.i.add(String(c),m,!1,g,S)},et.prototype.K=function(c,m,g,S){return this.i.add(String(c),m,!0,g,S)};function F(c,m,g,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let V=0;V<m.length;++V){const W=m[V];if(W&&!W.da&&W.capture==g){const ie=W.listener,tt=W.ha||W.src;W.fa&&zn(c.i,W),j=ie.call(tt,S)!==!1&&j}}return j&&!S.defaultPrevented}function U(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function q(c){c.g=U(()=>{c.g=null,c.i&&(c.i=!1,q(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class G extends N{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:q(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function B(c){N.call(this),this.h=c,this.g={}}d(B,N);var J=[];function me(c){X(c.g,function(m,g){this.g.hasOwnProperty(g)&&Xo(m)},c),c.g={}}B.prototype.N=function(){B.Z.N.call(this),me(this)},B.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=o.JSON.stringify,Vt=o.JSON.parse,Ns=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function wn(){}function Od(){}var dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vi(){R.call(this,"d")}d(Vi,R);function ea(){R.call(this,"c")}d(ea,R);var fr={},Ec=null;function Ps(){return Ec=Ec||new et}fr.Ia="serverreachability";function Q0(c){R.call(this,fr.Ia,c)}d(Q0,R);function ta(c){const m=Ps();A(m,new Q0(m))}fr.STAT_EVENT="statevent";function J0(c,m){R.call(this,fr.STAT_EVENT,c),this.stat=m}d(J0,R);function Ct(c){const m=Ps();A(m,new J0(m,c))}fr.Ja="timingevent";function Z0(c,m){R.call(this,fr.Ja,c),this.size=m}d(Z0,R);function na(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function ra(){this.g=!0}ra.prototype.ua=function(){this.g=!1};function rI(c,m,g,S,j,V){c.info(function(){if(c.g)if(V){var W="",ie=V.split("&");for(let be=0;be<ie.length;be++){var tt=ie[be].split("=");if(tt.length>1){const at=tt[0];tt=tt[1];const Wn=at.split("_");W=Wn.length>=2&&Wn[1]=="type"?W+(at+"="+tt+"&"):W+(at+"=redacted&")}}}else W=null;else W=V;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+g+`
`+W})}function iI(c,m,g,S,j,V,W){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+g+`
`+V+" "+W})}function As(c,m,g,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+oI(c,g)+(S?" "+S:"")})}function sI(c,m){c.info(function(){return"TIMEOUT: "+m})}ra.prototype.info=function(){};function oI(c,m){if(!c.g)return m;if(!m)return null;try{const V=JSON.parse(m);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var g=V[c];if(!(g.length<2)){var S=g[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return ve(V)}catch{return m}}var jd={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},aI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ev;function Fd(){}d(Fd,wn),Fd.prototype.g=function(){return new XMLHttpRequest},ev=new Fd;function ia(c){return encodeURIComponent(String(c))}function lI(c){var m=1;c=c.split(":");const g=[];for(;m>0&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function $r(c,m,g,S){this.j=c,this.i=m,this.l=g,this.S=S||1,this.V=new B(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tv}function tv(){this.i=null,this.g="",this.h=!1}var nv={},Vd={};function Ud(c,m,g){c.M=1,c.A=bc(Hn(m)),c.u=g,c.R=!0,rv(c,null)}function rv(c,m){c.F=Date.now(),Sc(c),c.B=Hn(c.A);var g=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),gv(g.i,"t",S),c.C=0,g=c.j.L,c.h=new tv,c.g=Mv(c.j,g?m:null,!c.u),c.P>0&&(c.O=new G(u(c.Y,c,c.g),c.P)),m=c.V,g=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(J[0]=j.toString()),j=J);for(let V=0;V<j.length;V++){const W=Is(g,j[V],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.J?_e(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ta(),rI(c.i,c.v,c.B,c.l,c.S,c.u)}$r.prototype.ba=function(c){c=c.target;const m=this.O;m&&Hr(c)==3?m.j():this.Y(c)},$r.prototype.Y=function(c){try{if(c==this.g)e:{const ie=Hr(this.g),tt=this.g.ya(),be=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||Sv(this.g)))){this.K||ie!=4||tt==7||(tt==8||be<=0?ta(3):ta(2)),$d(this);var m=this.g.ca();this.X=m;var g=cI(this);if(this.o=m==200,iI(this.i,this.v,this.B,this.l,this.S,ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(S)){var V=S;break t}}V=null}if(c=V)As(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bd(this,c);else{this.o=!1,this.m=3,Ct(12),Ui(this),sa(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<g.length;)if(at=uI(this,g),at==Vd){ie==4&&(this.m=4,Ct(14),c=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(at==nv){this.m=4,Ct(15),As(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else As(this.i,this.l,at,null),Bd(this,at);if(iv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||g.length!=0||this.h.h||(this.m=1,Ct(16),c=!1),this.o=this.o&&c,!c)As(this.i,this.l,g,"[Invalid Chunked Response]"),Ui(this),sa(this);else if(g.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Xd(W),W.P=!0,Ct(11))}}else As(this.i,this.l,g,null),Bd(this,g);ie==4&&Ui(this),this.o&&!this.K&&(ie==4?Pv(this.j,this):(this.o=!1,Sc(this)))}else bI(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Ui(this),sa(this)}}}catch{}finally{}};function cI(c){if(!iv(c))return c.g.la();const m=Sv(c.g);if(m==="")return"";let g="";const S=m.length,j=Hr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ui(c),sa(c),"";c.h.i=new o.TextDecoder}for(let V=0;V<S;V++)c.h.h=!0,g+=c.h.i.decode(m[V],{stream:!(j&&V==S-1)});return m.length=0,c.h.g+=g,c.C=0,c.h.g}function iv(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function uI(c,m){var g=c.C,S=m.indexOf(`
`,g);return S==-1?Vd:(g=Number(m.substring(g,S)),isNaN(g)?nv:(S+=1,S+g>m.length?Vd:(m=m.slice(S,S+g),c.C=S+g,m)))}$r.prototype.cancel=function(){this.K=!0,Ui(this)};function Sc(c){c.T=Date.now()+c.H,sv(c,c.H)}function sv(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=na(u(c.aa,c),m)}function $d(c){c.D&&(o.clearTimeout(c.D),c.D=null)}$r.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(sI(this.i,this.B),this.M!=2&&(ta(),Ct(17)),Ui(this),this.m=2,sa(this)):sv(this,this.T-c)};function sa(c){c.j.I==0||c.K||Pv(c.j,c)}function Ui(c){$d(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,me(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Bd(c,m){try{var g=c.j;if(g.I!=0&&(g.g==c||zd(g.h,c))){if(!c.L&&zd(g.h,c)&&g.I==3){try{var S=g.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)Nc(g),kc(g);else break e;Yd(g),Ct(18)}}else g.xa=j[1],0<g.xa-g.K&&j[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=na(u(g.Va,g),6e3));lv(g.h)<=1&&g.ta&&(g.ta=void 0)}else Bi(g,11)}else if((c.L||g.g==c)&&Nc(g),!k(m))for(j=g.Ba.g.parse(m),m=0;m<j.length;m++){let be=j[m];const at=be[0];if(!(at<=g.K))if(g.K=at,be=be[1],g.I==2)if(be[0]=="c"){g.M=be[1],g.ba=be[2];const Wn=be[3];Wn!=null&&(g.ka=Wn,g.j.info("VER="+g.ka));const zi=be[4];zi!=null&&(g.za=zi,g.j.info("SVER="+g.za));const Wr=be[5];Wr!=null&&typeof Wr=="number"&&Wr>0&&(S=1.5*Wr,g.O=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Gr=c.g;if(Gr){const Pc=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pc){var V=S.h;V.g||Pc.indexOf("spdy")==-1&&Pc.indexOf("quic")==-1&&Pc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Hd(V,V.h),V.h=null))}if(S.G){const Qd=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qd&&(S.wa=Qd,Ie(S.J,S.G,Qd))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),S=g;var W=c;if(S.na=Dv(S,S.L?S.ba:null,S.W),W.L){cv(S.h,W);var ie=W,tt=S.O;tt&&(ie.H=tt),ie.D&&($d(ie),Sc(ie)),S.g=W}else Iv(S);g.i.length>0&&Ic(g)}else be[0]!="stop"&&be[0]!="close"||Bi(g,7);else g.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Bi(g,7):qd(g):be[0]!="noop"&&g.l&&g.l.qa(be),g.A=0)}}ta(4)}catch{}}var hI=class{constructor(c,m){this.g=c,this.map=m}};function ov(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function av(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lv(c){return c.h?1:c.g?c.g.size:0}function zd(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Hd(c,m){c.g?c.g.add(m):c.h=m}function cv(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ov.prototype.cancel=function(){if(this.i=uv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function uv(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.G);return m}return y(c.i)}var hv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dI(c,m){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const S=c[g].indexOf("=");let j,V=null;S>=0?(j=c[g].substring(0,S),V=c[g].substring(S+1)):j=c[g],m(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Br(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Br?(this.l=c.l,oa(this,c.j),this.o=c.o,this.g=c.g,aa(this,c.u),this.h=c.h,Wd(this,yv(c.i)),this.m=c.m):c&&(m=String(c).match(hv))?(this.l=!1,oa(this,m[1]||"",!0),this.o=la(m[2]||""),this.g=la(m[3]||"",!0),aa(this,m[4]),this.h=la(m[5]||"",!0),Wd(this,m[6]||"",!0),this.m=la(m[7]||"")):(this.l=!1,this.i=new ua(null,this.l))}Br.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ca(m,dv,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ca(m,dv,!0),"@"),c.push(ia(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ca(g,g.charAt(0)=="/"?mI:pI,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ca(g,yI)),c.join("")},Br.prototype.resolve=function(c){const m=Hn(this);let g=!!c.j;g?oa(m,c.j):g=!!c.o,g?m.o=c.o:g=!!c.g,g?m.g=c.g:g=c.u!=null;var S=c.h;if(g)aa(m,c.u);else if(g=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=m.h.lastIndexOf("/");j!=-1&&(S=m.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const V=[];for(let W=0;W<j.length;){const ie=j[W++];ie=="."?S&&W==j.length&&V.push(""):ie==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),S&&W==j.length&&V.push("")):(V.push(ie),S=!0)}S=V.join("/")}else S=j}return g?m.h=S:g=c.i.toString()!=="",g?Wd(m,yv(c.i)):g=!!c.m,g&&(m.m=c.m),m};function Hn(c){return new Br(c)}function oa(c,m,g){c.j=g?la(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function aa(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Wd(c,m,g){m instanceof ua?(c.i=m,vI(c.i,c.l)):(g||(m=ca(m,gI)),c.i=new ua(m,c.l))}function Ie(c,m,g){c.i.set(m,g)}function bc(c){return Ie(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function la(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,fI),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dv=/[#\/\?@]/g,pI=/[#\?:]/g,mI=/[#\?]/g,gI=/[#\?@]/g,yI=/#/g;function ua(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function $i(c){c.g||(c.g=new Map,c.h=0,c.i&&dI(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=ua.prototype,t.add=function(c,m){$i(this),this.i=null,c=Rs(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function fv(c,m){$i(c),m=Rs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function pv(c,m){return $i(c),m=Rs(c,m),c.g.has(m)}t.forEach=function(c,m){$i(this),this.g.forEach(function(g,S){g.forEach(function(j){c.call(m,j,S,this)},this)},this)};function mv(c,m){$i(c);let g=[];if(typeof m=="string")pv(c,m)&&(g=g.concat(c.g.get(Rs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)g=g.concat(c[m]);return g}t.set=function(c,m){return $i(this),this.i=null,c=Rs(this,c),pv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=mv(this,c),c.length>0?String(c[0]):m):m};function gv(c,m,g){fv(c,m),g.length>0&&(c.i=null,c.g.set(Rs(c,m),y(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var g=m[S];const j=ia(g);g=mv(this,g);for(let V=0;V<g.length;V++){let W=j;g[V]!==""&&(W+="="+ia(g[V])),c.push(W)}}return this.i=c.join("&")};function yv(c){const m=new ua;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Rs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function vI(c,m){m&&!c.j&&($i(c),c.i=null,c.g.forEach(function(g,S){const j=S.toLowerCase();S!=j&&(fv(this,S),gv(this,j,g))},c)),c.j=m}function _I(c,m){const g=new ra;if(o.Image){const S=new Image;S.onload=h(zr,g,"TestLoadImage: loaded",!0,m,S),S.onerror=h(zr,g,"TestLoadImage: error",!1,m,S),S.onabort=h(zr,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=h(zr,g,"TestLoadImage: timeout",!1,m,S),o.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function wI(c,m){const g=new ra,S=new AbortController,j=setTimeout(()=>{S.abort(),zr(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(V=>{clearTimeout(j),V.ok?zr(g,"TestPingServer: ok",!0,m):zr(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),zr(g,"TestPingServer: error",!1,m)})}function zr(c,m,g,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(g)}catch{}}function xI(){this.g=new Ns}function Gd(c){this.i=c.Sb||null,this.h=c.ab||!1}d(Gd,wn),Gd.prototype.g=function(){return new Tc(this.i,this.h)};function Tc(c,m){et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Tc,et),t=Tc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,da(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vv(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function vv(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ha(this):da(this),this.readyState==3&&vv(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ha(this))},t.Na=function(c){this.g&&(this.response=c,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(c){c.readyState=4,c.l=null,c.j=null,c.B=null,da(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _v(c){let m="";return X(c,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function Kd(c,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=_v(g),typeof c=="string"?g!=null&&ia(g):Ie(c,m,g))}function We(c){et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(We,et);var EI=/^https?$/i,SI=["POST","PUT"];t=We.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ev.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){wv(this,V);return}if(c=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)g.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())g.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),j=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(SI,m,void 0)>=0)||S||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of g)this.g.setRequestHeader(V,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(V){wv(this,V)}};function wv(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,xv(c),Cc(c)}function xv(c){c.A||(c.A=!0,A(c,"complete"),A(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,A(this,"complete"),A(this,"abort"),Cc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cc(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ev(this):this.Xa())},t.Xa=function(){Ev(this)};function Ev(c){if(c.h&&typeof s<"u"){if(c.v&&Hr(c)==4)setTimeout(c.Ca.bind(c),0);else if(A(c,"readystatechange"),Hr(c)==4){c.h=!1;try{const V=c.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=V===0){let W=String(c.D).match(hv)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),S=!EI.test(W?W.toLowerCase():"")}g=S}if(g)A(c,"complete"),A(c,"success");else{c.o=6;try{var j=Hr(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",xv(c)}}finally{Cc(c)}}}}function Cc(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,m||A(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Hr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Vt(m)}};function Sv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bI(c){const m={};c=(c.g&&Hr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(k(c[S]))continue;var g=lI(c[S]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=m[j]||[];m[j]=V,V.push(g)}Z(m,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function bv(c){this.za=0,this.i=[],this.j=new ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fa("baseRetryDelayMs",5e3,c),this.Za=fa("retryDelaySeedMs",1e4,c),this.Ta=fa("forwardChannelMaxRetries",2,c),this.va=fa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ov(c&&c.concurrentRequestLimit),this.Ba=new xI,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bv.prototype,t.ka=8,t.I=1,t.connect=function(c,m,g,S){Ct(0),this.W=c,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.J=Dv(this,null,this.W),Ic(this)};function qd(c){if(Tv(c),c.I==3){var m=c.V++,g=Hn(c.J);if(Ie(g,"SID",c.M),Ie(g,"RID",m),Ie(g,"TYPE","terminate"),pa(c,g),m=new $r(c,c.j,m),m.M=2,m.A=bc(Hn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=m.A,g=!0),g||(m.g=Mv(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Sc(m)}Rv(c)}function kc(c){c.g&&(Xd(c),c.g.cancel(),c.g=null)}function Tv(c){kc(c),c.v&&(o.clearTimeout(c.v),c.v=null),Nc(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Ic(c){if(!av(c.h)&&!c.m){c.m=!0;var m=c.Ea;L||_(),O||(L(),O=!0),b.add(m,c),c.D=0}}function TI(c,m){return lv(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=na(u(c.Ea,c,m),Av(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new $r(this,this.j,c);let V=this.o;if(this.U&&(V?(V=_e(V),Bn(V,this.U)):V=this.U),this.u!==null||this.R||(j.J=V,V=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=kv(this,j,m),g=Hn(this.J),Ie(g,"RID",c),Ie(g,"CVER",22),this.G&&Ie(g,"X-HTTP-Session-Id",this.G),pa(this,g),V&&(this.R?m="headers="+ia(_v(V))+"&"+m:this.u&&Kd(g,this.u,V)),Hd(this.h,j),this.Ra&&Ie(g,"TYPE","init"),this.S?(Ie(g,"$req",m),Ie(g,"SID","null"),j.U=!0,Ud(j,g,null)):Ud(j,g,m),this.I=2}}else this.I==3&&(c?Cv(this,c):this.i.length==0||av(this.h)||Cv(this))};function Cv(c,m){var g;m?g=m.l:g=c.V++;const S=Hn(c.J);Ie(S,"SID",c.M),Ie(S,"RID",g),Ie(S,"AID",c.K),pa(c,S),c.u&&c.o&&Kd(S,c.u,c.o),g=new $r(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),m&&(c.i=m.G.concat(c.i)),m=kv(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Hd(c.h,g),Ud(g,S,m)}function pa(c,m){c.H&&X(c.H,function(g,S){Ie(m,S,g)}),c.l&&X({},function(g,S){Ie(m,S,g)})}function kv(c,m,g){g=Math.min(c.i.length,g);const S=c.l?u(c.l.Ka,c.l,c):null;e:{var j=c.i;let ie=-1;for(;;){const tt=["count="+g];ie==-1?g>0?(ie=j[0].g,tt.push("ofs="+ie)):ie=0:tt.push("ofs="+ie);let be=!0;for(let at=0;at<g;at++){var V=j[at].g;const Wn=j[at].map;if(V-=ie,V<0)ie=Math.max(0,j[at].g-100),be=!1;else try{V="req"+V+"_"||"";try{var W=Wn instanceof Map?Wn:Object.entries(Wn);for(const[zi,Wr]of W){let Gr=Wr;a(Wr)&&(Gr=ve(Wr)),tt.push(V+zi+"="+encodeURIComponent(Gr))}}catch(zi){throw tt.push(V+"type="+encodeURIComponent("_badmap")),zi}}catch{S&&S(Wn)}}if(be){W=tt.join("&");break e}}W=void 0}return c=c.i.splice(0,g),m.G=c,W}function Iv(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;L||_(),O||(L(),O=!0),b.add(m,c),c.A=0}}function Yd(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=na(u(c.Da,c),Av(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Nv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=na(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),kc(this),Nv(this))};function Xd(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Nv(c){c.g=new $r(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Hn(c.na);Ie(m,"RID","rpc"),Ie(m,"SID",c.M),Ie(m,"AID",c.K),Ie(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ie(m,"TO",c.ia),Ie(m,"TYPE","xmlhttp"),pa(c,m),c.u&&c.o&&Kd(m,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=bc(Hn(m)),g.u=null,g.R=!0,rv(g,c)}t.Va=function(){this.C!=null&&(this.C=null,kc(this),Yd(this),Ct(19))};function Nc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Pv(c,m){var g=null;if(c.g==m){Nc(c),Xd(c),c.g=null;var S=2}else if(zd(c.h,m))g=m.G,cv(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;S=Ps(),A(S,new Z0(S,g)),Ic(c)}else Iv(c);else if(j=m.m,j==3||j==0&&m.X>0||!(S==1&&TI(c,m)||S==2&&Yd(c)))switch(g&&g.length>0&&(m=c.h,m.i=m.i.concat(g)),j){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Av(c,m){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*m}function Bi(c,m){if(c.j.info("Error code "+m),m==2){var g=u(c.bb,c),S=c.Ua;const j=!S;S=new Br(S||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||oa(S,"https"),bc(S),j?_I(S.toString(),g):wI(S.toString(),g)}else Ct(2);c.I=0,c.l&&c.l.pa(m),Rv(c),Tv(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Rv(c){if(c.I=0,c.ja=[],c.l){const m=uv(c.h);(m.length!=0||c.i.length!=0)&&(E(c.ja,m),E(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function Dv(c,m,g){var S=g instanceof Br?Hn(g):new Br(g);if(S.g!="")m&&(S.g=m+"."+S.g),aa(S,S.u);else{var j=o.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const V=new Br(null);S&&oa(V,S),m&&(V.g=m),j&&aa(V,j),g&&(V.h=g),S=V}return g=c.G,m=c.wa,g&&m&&Ie(S,g,m),Ie(S,"VER",c.ka),pa(c,S),S}function Mv(c,m,g){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new We(new Gd({ab:g})):new We(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lv(){}t=Lv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function an(c,m){et.call(this),this.g=new bv(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ds(this)}d(an,et),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){qd(this.g)},an.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=ve(c),c=g);m.i.push(new hI(m.Ya++,c)),m.I==3&&Ic(m)},an.prototype.N=function(){this.g.l=null,delete this.j,qd(this.g),delete this.g,an.Z.N.call(this)};function Ov(c){Vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}d(Ov,Vi);function jv(){ea.call(this),this.status=1}d(jv,ea);function Ds(c){this.g=c}d(Ds,Lv),Ds.prototype.ra=function(){A(this.g,"a")},Ds.prototype.qa=function(c){A(this.g,new Ov(c))},Ds.prototype.pa=function(c){A(this.g,new jv)},Ds.prototype.oa=function(){A(this.g,"b")},an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,jd.NO_ERROR=0,jd.TIMEOUT=8,jd.HTTP_ERROR=6,aI.COMPLETE="complete",Od.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",et.prototype.listen=et.prototype.J,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const kw="@firebase/firestore",Iw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let It=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new ud("@firebase/firestore");function Rn(t,...e){if(To.logLevel<=ye.DEBUG){const n=e.map(xy);To.debug(`Firestore (${ac}): ${t}`,...n)}}function PT(t,...e){if(To.logLevel<=ye.ERROR){const n=e.map(xy);To.error(`Firestore (${ac}): ${t}`,...n)}}function s3(t,...e){if(To.logLevel<=ye.WARN){const n=e.map(xy);To.warn(`Firestore (${ac}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AT(t,r,n)}function AT(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw PT(r),new Error(r)}function qa(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AT(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class a3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l3{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qa(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ya,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Rn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Rn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ya)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Rn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qa(typeof r.accessToken=="string",31837,{l:r}),new RT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qa(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class c3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new c3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qa(this.o===void 0,3512);const r=s=>{s.error!=null&&Rn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Rn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Rn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Rn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qa(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=d3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ti(t,e){return t<e?-1:t>e?1:0}function p3(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Mf(i)===Mf(s)?Ti(i,s):Mf(i)?1:-1}return Ti(t.length,e.length)}const m3=55296,g3=57343;function Mf(t){const e=t.charCodeAt(0);return e>=m3&&e<=g3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__name__";class qn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pl(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pl(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=qn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ti(e.length,n.length)}static compareSegments(e,n){const r=qn.isNumericId(e),i=qn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?qn.extractNumericId(e).compare(qn.extractNumericId(n)):p3(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wy.fromString(e.substring(4,e.length-2))}}class Cn extends qn{construct(e,n,r){return new Cn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Cn(n)}static emptyPath(){return new Cn([])}}const y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xi extends qn{construct(e,n,r){return new Xi(e,n,r)}static isValidIdentifier(e){return y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pw}static keyField(){return new Xi([Pw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new fe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new fe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xi(n)}static emptyPath(){return new Xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.path=e}static fromPath(e){return new ts(Cn.fromString(e))}static fromName(e){return new ts(Cn.fromString(e).popFirst(5))}static empty(){return new ts(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ts(new Cn(e.slice()))}}function v3(t,e,n,r){if(e===!0&&r===!0)throw new fe(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function w3(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pl(12329,{type:typeof t})}function x3(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=w3(t);throw new fe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function lc(t,e){if(!_3(t))throw new fe(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new fe(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=-62135596800,Rw=1e6;class Xn{static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Rw);return new Xn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Aw)throw new fe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rw}_compareTo(e){return this.seconds===e.seconds?Ti(this.nanoseconds,e.nanoseconds):Ti(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,Xn._jsonSchema))return new Xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xn._jsonSchemaVersion="firestore/timestamp/1.0",Xn._jsonSchema={type:Je("string",Xn._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};function E3(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new S3("Invalid base64 string: "+s):s}}(e);return new _s(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _s(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ti(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const dm="(default)";class mh{constructor(e,n){this.projectId=e,this.database=n||dm}static empty(){return new mh("","")}get isDefaultDatabase(){return this.database===dm}isEqual(e){return e instanceof mh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function T3(t){return new b3(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dw,he;(he=Dw||(Dw={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new wy([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=1048576;function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Rn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ey(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Mw,Lw;(Lw=Mw||(Mw={})).Ma="default",Lw.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",jw=!0;class Fw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=jw}else this.host=e.host,this.ssl=e.ssl??jw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k3)throw new fe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class MT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o3;switch(r.type){case"firstParty":return new u3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ow.get(n);r&&(Rn("ComponentProvider","Removing Datastore"),Ow.delete(n),r.terminate())}(this),Promise.resolve()}}function P3(t,e,n,r={}){var u;t=x3(t,MT);const i=Li(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(od(`https://${a}`),ad("Firestore",!0)),s.host!==DT&&s.host!==a&&s3("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Si(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=It.MOCK_USER;else{h=ay(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new It(p)}t._authCredentials=new a3(new RT(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sy(this.firestore,e,this._query)}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new by(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}toJSON(){return{type:Jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lc(n,Jn._jsonSchema))return new Jn(e,r||null,new ts(Cn.fromString(n.referencePath)))}}Jn._jsonSchemaVersion="firestore/documentReference/1.0",Jn._jsonSchema={type:Je("string",Jn._jsonSchemaVersion),referencePath:Je("string")};class by extends Sy{constructor(e,n,r){super(e,n,T3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ts(e))}withConverter(e){return new by(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I3(this,"async_queue_retry"),this._c=()=>{const r=Lf();r&&Rn(Vw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ya;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!E3(e))throw e;Rn(Vw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,PT("INTERNAL UNHANDLED ERROR: ",$w(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ey.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Pl(47125,{Pc:$w(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $w(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class A3 extends MT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Uw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function R3(t,e){const n=typeof t=="object"?t:hd(),r=typeof t=="string"?t:dm,i=rc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oy("firestore");s&&P3(i,...s)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vr(_s.fromBase64String(e))}catch(n){throw new fe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vr(_s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,vr._jsonSchema))return vr.fromBase64String(e.bytes)}}vr._jsonSchemaVersion="firestore/bytes/1.0",vr._jsonSchema={type:Je("string",vr._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ti(this._lat,e._lat)||Ti(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cs._jsonSchemaVersion}}static fromJSON(e){if(lc(e,cs._jsonSchema))return new cs(e.latitude,e.longitude)}}cs._jsonSchemaVersion="firestore/geoPoint/1.0",cs._jsonSchema={type:Je("string",cs._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new us(e.vectorValues);throw new fe(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:Je("string",us._jsonSchemaVersion),vectorValues:Je("object")};const D3=new RegExp("[~\\*/\\[\\]]");function M3(t,e,n){if(e.search(D3)>=0)throw Bw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new LT(...e.split("."))._internalPath}catch{throw Bw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Bw(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new fe(de.INVALID_ARGUMENT,s+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L3 extends OT{data(){return super.data()}}function jT(t,e){return typeof e=="string"?M3(t,e):e instanceof LT?e._internalPath:e._delegate._internalPath}class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ho extends OT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ho._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:Je("string",ho._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Cu extends ho{data(e={}){return super.data(e)}}class Xa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cu(this._firestore,this._userDataWriter,r.key,r,new Qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Cu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Cu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:O3(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=f3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pl(61501,{type:t})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Je("string",Xa._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};(function(e,n=!0){(function(i){ac=i})(Oi),bi(new Rr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new A3(new l3(r.getProvider("auth-internal")),new h3(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mn(kw,Iw,e),mn(kw,Iw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firebasestorage.googleapis.com",j3="storageBucket",F3=2*60*1e3,V3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends cr{constructor(e,n,r=0){super(Of(e),`Firebase Storage: ${n} (${Of(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Of(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function Of(t){return"storage/"+t}function U3(){const t="An unknown error occurred, please check the error payload for server response.";return new hr(ar.UNKNOWN,t)}function $3(){return new hr(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B3(){return new hr(ar.CANCELED,"User canceled the upload/download.")}function z3(t){return new hr(ar.INVALID_URL,"Invalid URL '"+t+"'.")}function H3(t){return new hr(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zw(t){return new hr(ar.INVALID_ARGUMENT,t)}function VT(){return new hr(ar.APP_DELETED,"The Firebase app was deleted.")}function W3(t){return new hr(ar.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(r.path==="")return r;throw H3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${d}/${h}/b/${i}/o${p}`,"i"),E={bucket:1,path:3},C=n===FT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",w=new RegExp(`^https?://${C}/${i}/${P}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:y,indices:E,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let D=0;D<x.length;D++){const L=x[D],O=L.regex.exec(e);if(O){const b=O[L.indices.bucket];let _=O[L.indices.path];_||(_=""),r=new Dn(b,_),L.postModify(r);break}}if(r==null)throw z3(e);return r}}class G3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...P){u||(u=!0,e.apply(null,P))}function d(P){i=setTimeout(()=>{i=null,t(y,l())},P)}function p(){s&&clearTimeout(s)}function y(P,...w){if(u){p();return}if(P){p(),h.call(null,P,...w);return}if(l()||o){p(),h.call(null,P,...w);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}let E=!1;function C(P){E||(E=!0,p(),!u&&(i!==null?(P||(a=2),clearTimeout(i),d(0)):P||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function q3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){return t!==void 0}function Hw(t,e,n,r){if(r<e)throw zw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zw(`Invalid value for '${t}'. Expected ${n} or less.`)}function X3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var gh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gh||(gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i,s,o,a,l,u,h,d,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,C)=>{this.resolve_=E,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Jc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===gh.NO_ERROR,l=s.getStatus();if(!a||Q3(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===gh.ABORT;r(!1,new Jc(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Jc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Y3(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=U3();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?VT():B3();o(l)}else{const l=$3();o(l)}};this.canceled_?n(!1,new Jc(!1,null,!0)):this.backoffId_=K3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Z3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rL(t,e,n,r,i,s,o=!0,a=!1){const l=X3(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return tL(h,e),Z3(h,n),eL(h,s),nL(h,r),new J3(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yh(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sL(this._location.path)}get storage(){return this._service}get parent(){const e=iL(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new yh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W3(e)}}function Ww(t,e){const n=e==null?void 0:e[j3];return n==null?null:Dn.makeFromBucketSpec(n,t)}function oL(t,e,n,r={}){t.host=`${e}:${n}`;const i=Li(e);i&&(od(`https://${t.host}/b`),ad("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:ay(s,t.app.options.projectId))}class aL{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=FT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F3,this._maxUploadRetryTime=V3,this._requests=new Set,i!=null?this._bucket=Dn.makeFromBucketSpec(i,this._host):this._bucket=Ww(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=Ww(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new G3(VT());{const o=rL(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Gw="@firebase/storage",Kw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="storage";function lL(t=hd(),e){t=Tt(t);const r=rc(t,UT).getImmediate({identifier:e}),i=oy("storage");return i&&cL(r,...i),r}function cL(t,e,n,r={}){oL(t,e,n,r)}function uL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new aL(n,r,i,e,Oi)}function hL(){bi(new Rr(UT,uL,"PUBLIC").setMultipleInstances(!0)),mn(Gw,Kw,""),mn(Gw,Kw,"esm2020")}hL();var qw={};const Yw="@firebase/database",Xw="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $T="";function dL(t){$T=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:kl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ur(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fL(e)}}catch{}return new pL},ns=BT("localStorage"),mL=BT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new ud("@firebase/database"),gL=function(){let t=1;return function(){return t++}}(),zT=function(t){const e=qR(t),n=new HR;n.update(e);const r=n.digest();return iy.encodeByteArray(r)},cc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=cc.apply(null,r):typeof r=="object"?e+=st(r):e+=r,e+=" "}return e};let Qa=null,Qw=!0;const yL=function(t,e){H(!e,"Can't turn on custom loggers persistently."),fo.logLevel=ye.VERBOSE,Qa=fo.log.bind(fo)},mt=function(...t){if(Qw===!0&&(Qw=!1,Qa===null&&mL.get("logging_enabled")===!0&&yL()),Qa){const e=cc.apply(null,t);Qa(e)}},uc=function(t){return function(...e){mt(t,...e)}},fm=function(...t){const e="FIREBASE INTERNAL ERROR: "+cc(...t);fo.error(e)},Lr=function(...t){const e=`FIREBASE FATAL ERROR: ${cc(...t)}`;throw fo.error(e),new Error(e)},Dt=function(...t){const e="FIREBASE WARNING: "+cc(...t);fo.warn(e)},vL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ty=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_L=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Co="[MIN_NAME]",ws="[MAX_NAME]",Ts=function(t,e){if(t===e)return 0;if(t===Co||e===ws)return-1;if(e===Co||t===ws)return 1;{const n=Jw(t),r=Jw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},wL=function(t,e){return t===e?0:t<e?-1:1},ba=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+st(e))},Cy=function(t){if(typeof t!="object"||t===null)return st(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=st(e[r]),n+=":",n+=Cy(t[e[r]]);return n+="}",n},HT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const WT=function(t){H(!Ty(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(l=0;l<64;l+=8){let p=parseInt(h.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),d=d+p}return d.toLowerCase()},xL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const bL=new RegExp("^-?(0*)\\d{1,10}$"),TL=-2147483648,CL=2147483647,Jw=function(t){if(bL.test(t)){const e=Number(t);if(e>=TL&&e<=CL)return e}return null},Bo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},kL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ja=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Jt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(e)}}class ku{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ku.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="5",GT="v",KT="s",qT="r",YT="f",XT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,QT="ls",JT="p",pm="ac",ZT="websocket",eC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ns.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ns.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function PL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function nC(t,e,n){H(typeof e=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let r;if(e===ZT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);PL(t)&&(n.ns=t.namespace);const i=[];return _t(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.counters_={}}incrementCounter(e,n=1){ur(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return CR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf={},Ff={};function Iy(t){const e=t.toString();return jf[e]||(jf[e]=new AL),jf[e]}function RL(t,e){const n=t.toString();return Ff[n]||(Ff[n]=e()),Ff[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="start",ML="close",LL="pLPCommand",OL="pRTLPCB",rC="id",iC="pw",sC="ser",jL="cb",FL="seg",VL="ts",UL="d",$L="dframe",oC=1870,aC=30,BL=oC-aC,zL=25e3,HL=3e4;class Xs{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uc(e),this.stats_=Iy(n),this.urlFn=l=>(this.appCheckToken&&(l[pm]=this.appCheckToken),nC(n,eC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new DL(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(HL)),_L(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ny((...s)=>{const[o,a,l,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Zw)this.id=a,this.password=l;else if(o===ML)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Zw]="t",r[sC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[jL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[GT]=ky,this.transportSessionId&&(r[KT]=this.transportSessionId),this.lastSessionId&&(r[QT]=this.lastSessionId),this.applicationId&&(r[JT]=this.applicationId),this.appCheckToken&&(r[pm]=this.appCheckToken),typeof location<"u"&&location.hostname&&XT.test(location.hostname)&&(r[qT]=YT);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xs.forceAllow_=!0}static forceDisallow(){Xs.forceDisallow_=!0}static isAvailable(){return Xs.forceAllow_?!0:!Xs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xL()&&!EL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$b(n),i=HT(r,BL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[$L]="t",r[rC]=e,r[iC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=st(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ny{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gL(),window[LL+this.uniqueCallbackIdentifier]=e,window[OL+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ny.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){mt("frame writing exception"),a.stack&&mt(a.stack),mt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rC]=this.myID,e[iC]=this.myPW,e[sC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+aC+r.length<=oC;){const o=this.pendingSegs.shift();r=r+"&"+FL+i+"="+o.seg+"&"+VL+i+"="+o.ts+"&"+UL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(zL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=16384,GL=45e3;let vh=null;typeof MozWebSocket<"u"?vh=MozWebSocket:typeof WebSocket<"u"&&(vh=WebSocket);class In{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uc(this.connId),this.stats_=Iy(n),this.connURL=In.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[GT]=ky,typeof location<"u"&&location.hostname&&XT.test(location.hostname)&&(o[qT]=YT),n&&(o[KT]=n),r&&(o[QT]=r),i&&(o[pm]=i),s&&(o[JT]=s),nC(e,ZT,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ns.set("previous_websocket_failure",!0);try{let r;Kb(),this.mySock=new vh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&vh!==null&&!In.forceDisallow_}static previouslyFailed(){return ns.isInMemoryStorage||ns.get("previous_websocket_failure")===!0}markConnectionHealthy(){ns.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=kl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=HT(n,WL);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}In.responsesRequiredToBeHealthy=2;In.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{static get ALL_TRANSPORTS(){return[Xs,In]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=In&&In.isAvailable();let r=n&&!In.previouslyFailed();if(e.webSocketOnly&&(n||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[In];else{const i=this.transports_=[];for(const s of Al.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Al.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Al.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=6e4,qL=5e3,YL=10*1024,XL=100*1024,Vf="t",ex="d",QL="s",tx="r",JL="e",nx="o",rx="a",ix="n",sx="p",ZL="h";class eO{constructor(e,n,r,i,s,o,a,l,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uc("c:"+this.id+":"),this.transportManager_=new Al(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ja(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vf in e){const n=e[Vf];n===rx?this.upgradeIfSecondaryHealthy_():n===tx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===nx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ba("t",e),r=ba("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:rx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ix,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ba("t",e),r=ba("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ba(Vf,e);if(ex in e){const r=e[ex];if(n===ZL){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ix){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===QL?this.onConnectionShutdown_(r):n===tx?this.onReset_(r):n===JL?fm("Server Error: "+r):n===nx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ky!==r&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ja(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ja(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ns.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){H(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends cC{static getInstance(){return new _h}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ly()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=32,ax=768;class Se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ge(){return new Se("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ci(t){return t.pieces_.length-t.pieceNum_}function Ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Se(t.pieces_,e)}function Py(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Rl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Se(e,0)}function Be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Se(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){const n=se(t),r=se(e);if(n===null)return e;if(n===r)return Pt(Ce(t),Ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nO(t,e){const n=Rl(t,0),r=Rl(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ts(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Ay(t,e){if(Ci(t)!==Ci(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ci(t)>Ci(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class rO{constructor(e,n){this.errorPrefix_=n,this.parts_=Rl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=cd(this.parts_[r]);hC(this)}}function iO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=cd(e),hC(t)}function sO(t){const e=t.parts_.pop();t.byteLength_-=cd(e),t.parts_.length>0&&(t.byteLength_-=1)}function hC(t){if(t.byteLength_>ax)throw new Error(t.errorPrefix_+"has a key path longer than "+ax+" bytes ("+t.byteLength_+").");if(t.parts_.length>ox)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ox+") or object contains a cycle "+qi(t))}function qi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends cC{static getInstance(){return new Ry}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=1e3,oO=60*5*1e3,lx=30*1e3,aO=1.3,lO=3e4,cO="server_kill",cx=3;class Cr extends lC{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cr.nextPersistentConnectionId_++,this.log_=uc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ta,this.maxReconnectDelay_=oO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Kb())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ry.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_h.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(st(s)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new tc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Cr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ur(e,"w")){const r=So(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=BR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+st(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):fm("Unrecognized action received from server: "+st(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lO&&(this.reconnectDelay_=Ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Cr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){H(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,p]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,a=new eO(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Dt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(cO)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Dt(d),l())}}}interrupt(e){mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nm(this.interruptReasons_)&&(this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Cy(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Se(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){mt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cx&&(this.reconnectDelay_=lx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$T.replace(/\./g,"-")]=1,ly()?e["framework.cordova"]=1:Gb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_h.getInstance().currentlyOnline();return nm(this.interruptReasons_)&&e}}Cr.nextPersistentConnectionId_=0;Cr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new oe(Co,e),i=new oe(Co,n);return this.compare(r,i)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc;class dC extends md{static get __EMPTY_NODE(){return Zc}static set __EMPTY_NODE(e){Zc=e}compare(e,n){return Ts(e.name,n.name)}isDefinedOn(e){throw Vo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(ws,Zc)}makePost(e,n){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,Zc)}toString(){return".key"}}const po=new dC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??Ht.EMPTY_NODE,this.right=s??Ht.EMPTY_NODE}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ht.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ht.RED=!0;ht.BLACK=!1;class uO{copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ht{constructor(e,n=Ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ht.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new eu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new eu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new eu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new eu(this.root_,null,this.comparator_,!0,e)}}Ht.EMPTY_NODE=new uO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){return Ts(t.name,e.name)}function Dy(t,e){return Ts(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm;function dO(t){mm=t}const fC=function(t){return typeof t=="number"?"number:"+WT(t):"string:"+t},pC=function(t){if(t.isLeafNode()){const e=t.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ur(e,".sv"),"Priority must be a string or number.")}else H(t===mm||t.isEmpty(),"priority of unexpected type.");H(t===mm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ux;class ct{static set __childrenNodeConstructor(e){ux=e}static get __childrenNodeConstructor(){return ux}constructor(e,n=ct.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ct(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:se(e)===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ct.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||Ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ct.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=WT(this.value_):e+=this.value_,this.lazyHash_=zT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ct.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ct.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ct.VALUE_TYPE_ORDER.indexOf(n),s=ct.VALUE_TYPE_ORDER.indexOf(r);return H(i>=0,"Unknown leaf type: "+n),H(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mC,gC;function fO(t){mC=t}function pO(t){gC=t}class mO extends md{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ts(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(ws,new ct("[PRIORITY-POST]",gC))}makePost(e,n){const r=mC(e);return new oe(n,new ct("[PRIORITY-POST]",r))}toString(){return".priority"}}const ze=new mO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=Math.log(2);class yO{constructor(e){const n=s=>parseInt(Math.log(s)/gO,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wh=function(t,e,n,r){t.sort(e);const i=function(l,u){const h=u-l;let d,p;if(h===0)return null;if(h===1)return d=t[l],p=n?n(d):d,new ht(p,d.node,ht.BLACK,null,null);{const y=parseInt(h/2,10)+l,E=i(l,y),C=i(y+1,u);return d=t[y],p=n?n(d):d,new ht(p,d.node,ht.BLACK,E,C)}},s=function(l){let u=null,h=null,d=t.length;const p=function(E,C){const P=d-E,w=d;d-=E;const v=i(P+1,w),x=t[P],D=n?n(x):x;y(new ht(D,x.node,C,null,v))},y=function(E){u?(u.left=E,u=E):(h=E,u=E)};for(let E=0;E<l.count;++E){const C=l.nextBitIsOne(),P=Math.pow(2,l.count-(E+1));C?p(P,ht.BLACK):(p(P,ht.BLACK),p(P,ht.RED))}return h},o=new yO(t.length),a=s(o);return new Ht(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf;const Ls={};class Sr{static get Default(){return H(Ls&&ze,"ChildrenNode.ts has not been loaded"),Uf=Uf||new Sr({".priority":Ls},{".priority":ze}),Uf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=So(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ht?n:null}hasIndex(e){return ur(this.indexSet_,e.toString())}addIndex(e,n){H(e!==po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(oe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=wh(r,e.getCompare()):a=Ls;const l=e.toString(),u={...this.indexSet_};u[l]=e;const h={...this.indexes_};return h[l]=a,new Sr(h,u)}addToIndexes(e,n){const r=ah(this.indexes_,(i,s)=>{const o=So(this.indexSet_,s);if(H(o,"Missing index implementation for "+s),i===Ls)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(oe.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),wh(a,o.getCompare())}else return Ls;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new oe(e.name,a))),l.insert(e,e.node)}});return new Sr(r,this.indexSet_)}removeFromIndexes(e,n){const r=ah(this.indexes_,i=>{if(i===Ls)return i;{const s=n.get(e.name);return s?i.remove(new oe(e.name,s)):i}});return new Sr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;class ee{static get EMPTY_NODE(){return Ca||(Ca=new ee(new Ht(Dy),null,Sr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pC(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ca}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ca:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(Ce(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(H(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new oe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ca:this.priorityNode_;return new ee(i,o,s)}}updateChild(e,n){const r=se(e);if(r===null)return n;{H(se(e)!==".priority"||Ci(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ce(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ze,(o,a)=>{n[o]=a.val(e),r++,s&&ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fC(this.getPriority().val())+":"),this.forEachChild(ze,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":zT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new oe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hc?-1:0}withIndex(e){if(e===po||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===po||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ze),i=n.getIterator(ze);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===po?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vO extends ee{constructor(){super(new Ht(Dy),ee.EMPTY_NODE,Sr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const hc=new vO;Object.defineProperties(oe,{MIN:{value:new oe(Co,ee.EMPTY_NODE)},MAX:{value:new oe(ws,hc)}});dC.__EMPTY_NODE=ee.EMPTY_NODE;ct.__childrenNodeConstructor=ee;dO(hc);pO(hc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=!0;function rt(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ct(n,rt(e))}if(!(t instanceof Array)&&_O){const n=[];let r=!1;if(_t(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=rt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new oe(o,l)))}}),n.length===0)return ee.EMPTY_NODE;const s=wh(n,hO,o=>o.name,Dy);if(r){const o=wh(n,ze.getCompare());return new ee(s,rt(e),new Sr({".priority":o},{".priority":ze}))}else return new ee(s,rt(e),Sr.Default)}else{let n=ee.EMPTY_NODE;return _t(t,(r,i)=>{if(ur(t,r)&&r.substring(0,1)!=="."){const s=rt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(rt(e))}}fO(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO extends md{constructor(e){super(),this.indexPath_=e,H(!ae(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ts(e.name,n.name):s}makePost(e,n){const r=rt(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new oe(n,i)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,hc);return new oe(ws,e)}toString(){return Rl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO extends md{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ts(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const r=rt(e);return new oe(n,r)}toString(){return".value"}}const EO=new xO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){return{type:"value",snapshotNode:t}}function ko(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Dl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ml(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function SO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Dl(n,a)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ko(n,r)):o.trackChildChange(Ml(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ze,(i,s)=>{n.hasChild(i)||r.trackChildChange(Dl(i,s))}),n.isLeafNode()||n.forEachChild(ze,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ml(i,s,o))}else r.trackChildChange(ko(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.indexedFilter_=new My(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ll.getStartPost_(e),this.endPost_=Ll.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new oe(n,r))||(r=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ee.EMPTY_NODE);const s=this;return n.forEachChild(ze,(o,a)=>{s.matches(new oe(o,a))||(i=i.updateImmediateChild(o,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ll(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new oe(n,r))||(r=ee.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ee.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(p,y)=>d(y,p)}else o=this.index_.getCompare();const a=e;H(a.numChildren()===this.limit_,"");const l=new oe(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let p=i.getChildAfterChild(this.index_,u,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);const y=p==null?1:o(p,l);if(h&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Ml(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Dl(n,d));const C=a.updateImmediateChild(n,ee.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(s!=null&&s.trackChildChange(ko(p.name,p.node)),C.updateImmediateChild(p.name,p.node)):C}}else return r.isEmpty()?e:h&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Dl(u.name,u.node)),s.trackChildChange(ko(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Co}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new Ly;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TO(t){return t.loadsAllData()?new My(t.getIndex()):t.hasLimit()?new bO(t):new Ll(t)}function hx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ze?n="$priority":t.index_===EO?n="$value":t.index_===po?n="$key":(H(t.index_ instanceof wO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=st(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=st(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+st(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=st(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+st(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ze&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends lC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=uc("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=xh.getListenId_(e,r),a={};this.listens_[o]=a;const l=hx(e._queryParams);this.restRequest_(s+".json",l,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),So(this.listens_,o)===a){let p;u?u===401?p="permission_denied":p="rest_error:"+u:p="ok",i(p,null)}})}unlisten(e,n){const r=xh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hx(e._queryParams),r=e._path.toString(),i=new tc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Uo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=kl(a.responseText)}catch{Dt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Dt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(){return{value:null,children:new Map}}function vC(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=se(e);t.children.has(r)||t.children.set(r,Eh());const i=t.children.get(r);e=Ce(e),vC(i,e,n)}}function gm(t,e,n){t.value!==null?n(e,t.value):kO(t,(r,i)=>{const s=new Se(e.toString()+"/"+r);gm(i,s,n)})}function kO(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&_t(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=10*1e3,NO=30*1e3,PO=5*60*1e3;class AO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IO(e);const r=fx+(NO-fx)*Math.random();Ja(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;_t(e,(i,s)=>{s>0&&ur(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ja(this.reportStats_.bind(this),Math.floor(Math.random()*2*PO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mn||(Mn={}));function Oy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mn.ACK_USER_WRITE,this.source=Oy()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Se(e));return new Sh(ge(),n,this.revert)}}else return H(se(this.path)===e,"operationForChild called for unrelated child."),new Sh(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.source=e,this.path=n,this.type=Mn.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new Ol(this.source,ge()):new Ol(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mn.OVERWRITE}operationForChild(e){return ae(this.path)?new xs(this.source,ge(),this.snap.getImmediateChild(e)):new xs(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mn.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Se(e));return n.isEmpty()?null:n.value?new xs(this.source,ge(),n.value):new Io(this.source,ge(),n)}else return H(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Io(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function DO(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(SO(o.childName,o.snapshotNode))}),ka(t,i,"child_removed",e,r,n),ka(t,i,"child_added",e,r,n),ka(t,i,"child_moved",s,r,n),ka(t,i,"child_changed",e,r,n),ka(t,i,"value",e,r,n),i}function ka(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>LO(t,a,l)),o.forEach(a=>{const l=MO(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function MO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function LO(t,e,n){if(e.childName==null||n.childName==null)throw Vo("Should only compare child_ events.");const r=new oe(e.childName,e.snapshotNode),i=new oe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e){return{eventCache:t,serverCache:e}}function Za(t,e,n,r){return gd(new ki(e,n,r),t.serverCache)}function _C(t,e,n,r){return gd(t.eventCache,new ki(e,n,r))}function bh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Es(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;const OO=()=>($f||($f=new Ht(wL)),$f);class Te{static fromObject(e){let n=new Te(null);return _t(e,(r,i)=>{n=n.set(new Se(r),i)}),n}constructor(e,n=OO()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ae(e))return null;{const r=se(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ce(e),n);return s!=null?{path:Be(new Se(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=se(e),r=this.children.get(n);return r!==null?r.subtree(Ce(e)):new Te(null)}}set(e,n){if(ae(e))return new Te(n,this.children);{const r=se(e),s=(this.children.get(r)||new Te(null)).set(Ce(e),n),o=this.children.insert(r,s);return new Te(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const n=se(e),r=this.children.get(n);if(r){const i=r.remove(Ce(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Te(null):new Te(this.value,s)}else return this}}get(e){if(ae(e))return this.value;{const n=se(e),r=this.children.get(n);return r?r.get(Ce(e)):null}}setTree(e,n){if(ae(e))return n;{const r=se(e),s=(this.children.get(r)||new Te(null)).setTree(Ce(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Te(this.value,o)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ae(e))return null;{const s=se(e),o=this.children.get(s);return o?o.findOnPath_(Ce(e),Be(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,r){if(ae(e))return this;{this.value&&r(n,this.value);const i=se(e),s=this.children.get(i);return s?s.foreachOnPath_(Ce(e),Be(n,i),r):new Te(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.writeTree_=e}static empty(){return new Fn(new Te(null))}}function el(t,e,n){if(ae(e))return new Fn(new Te(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Pt(i,e);return s=s.updateChild(o,n),new Fn(t.writeTree_.set(i,s))}else{const i=new Te(n),s=t.writeTree_.setTree(e,i);return new Fn(s)}}}function ym(t,e,n){let r=t;return _t(n,(i,s)=>{r=el(r,Be(e,i),s)}),r}function px(t,e){if(ae(e))return Fn.empty();{const n=t.writeTree_.setTree(e,new Te(null));return new Fn(n)}}function vm(t,e){return Cs(t,e)!=null}function Cs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function mx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ze,(r,i)=>{e.push(new oe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new oe(r,i.value))}),e}function _i(t,e){if(ae(e))return t;{const n=Cs(t,e);return n!=null?new Fn(new Te(n)):new Fn(t.writeTree_.subtree(e))}}function _m(t){return t.writeTree_.isEmpty()}function No(t,e){return wC(ge(),t.writeTree_,e)}function wC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(H(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=wC(Be(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Be(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e){return bC(e,t)}function jO(t,e,n,r,i){H(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=el(t.visibleWrites,e,n)),t.lastWriteId=r}function FO(t,e,n,r){H(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ym(t.visibleWrites,e,n),t.lastWriteId=r}function VO(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function UO(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);H(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&$O(a,r.path)?i=!1:fn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return BO(t),!0;if(r.snap)t.visibleWrites=px(t.visibleWrites,r.path);else{const a=r.children;_t(a,l=>{t.visibleWrites=px(t.visibleWrites,Be(r.path,l))})}return!0}else return!1}function $O(t,e){if(t.snap)return fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fn(Be(t.path,n),e))return!0;return!1}function BO(t){t.visibleWrites=xC(t.allWrites,zO,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zO(t){return t.visible}function xC(t,e,n){let r=Fn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)fn(n,o)?(a=Pt(n,o),r=el(r,a,s.snap)):fn(o,n)&&(a=Pt(o,n),r=el(r,ge(),s.snap.getChild(a)));else if(s.children){if(fn(n,o))a=Pt(n,o),r=ym(r,a,s.children);else if(fn(o,n))if(a=Pt(o,n),ae(a))r=ym(r,ge(),s.children);else{const l=So(s.children,se(a));if(l){const u=l.getChild(Ce(a));r=el(r,ge(),u)}}}else throw Vo("WriteRecord should have .snap or .children")}}return r}function EC(t,e,n,r,i){if(!r&&!i){const s=Cs(t.visibleWrites,e);if(s!=null)return s;{const o=_i(t.visibleWrites,e);if(_m(o))return n;if(n==null&&!vm(o,ge()))return null;{const a=n||ee.EMPTY_NODE;return No(o,a)}}}else{const s=_i(t.visibleWrites,e);if(!i&&_m(s))return n;if(!i&&n==null&&!vm(s,ge()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(fn(u.path,e)||fn(e,u.path))},a=xC(t.allWrites,o,e),l=n||ee.EMPTY_NODE;return No(a,l)}}}function HO(t,e,n){let r=ee.EMPTY_NODE;const i=Cs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ze,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=_i(t.visibleWrites,e);return n.forEachChild(ze,(o,a)=>{const l=No(_i(s,new Se(o)),a);r=r.updateImmediateChild(o,l)}),mx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=_i(t.visibleWrites,e);return mx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function WO(t,e,n,r,i){H(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Be(e,n);if(vm(t.visibleWrites,s))return null;{const o=_i(t.visibleWrites,s);return _m(o)?i.getChild(n):No(o,i.getChild(n))}}function GO(t,e,n,r){const i=Be(e,n),s=Cs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=_i(t.visibleWrites,i);return No(o,r.getNode().getImmediateChild(n))}else return null}function KO(t,e){return Cs(t.visibleWrites,e)}function qO(t,e,n,r,i,s,o){let a;const l=_i(t.visibleWrites,e),u=Cs(l,ge());if(u!=null)a=u;else if(n!=null)a=No(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],d=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=p.getNext();for(;y&&h.length<i;)d(y,r)!==0&&h.push(y),y=p.getNext();return h}else return[]}function YO(){return{visibleWrites:Fn.empty(),allWrites:[],lastWriteId:-1}}function Th(t,e,n,r){return EC(t.writeTree,t.treePath,e,n,r)}function Vy(t,e){return HO(t.writeTree,t.treePath,e)}function gx(t,e,n,r){return WO(t.writeTree,t.treePath,e,n,r)}function Ch(t,e){return KO(t.writeTree,Be(t.treePath,e))}function XO(t,e,n,r,i,s){return qO(t.writeTree,t.treePath,e,n,r,i,s)}function Uy(t,e,n){return GO(t.writeTree,t.treePath,e,n)}function SC(t,e){return bC(Be(t.treePath,e),t.writeTree)}function bC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ml(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Dl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ko(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ml(r,e.snapshotNode,i.oldSnap));else throw Vo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const TC=new JO;class $y{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uy(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Es(this.viewCache_),s=XO(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){return{filter:t}}function e6(t,e){H(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function t6(t,e,n,r,i){const s=new QO;let o,a;if(n.type===Mn.OVERWRITE){const u=n;u.source.fromUser?o=wm(t,e,u.path,u.snap,r,i,s):(H(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ae(u.path),o=kh(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Mn.MERGE){const u=n;u.source.fromUser?o=r6(t,e,u.path,u.children,r,i,s):(H(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=xm(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Mn.ACK_USER_WRITE){const u=n;u.revert?o=o6(t,e,u.path,r,i,s):o=i6(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Mn.LISTEN_COMPLETE)o=s6(t,e,n.path,r,s);else throw Vo("Unknown operation type: "+n.type);const l=s.getChanges();return n6(e,o,l),{viewCache:o,changes:l}}function n6(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=bh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(yC(bh(e)))}}function CC(t,e,n,r,i,s){const o=e.eventCache;if(Ch(r,n)!=null)return e;{let a,l;if(ae(n))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Es(e),h=u instanceof ee?u:ee.EMPTY_NODE,d=Vy(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Th(r,Es(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=se(n);if(u===".priority"){H(Ci(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const d=gx(r,n,h,l);d!=null?a=t.filter.updatePriority(h,d):a=o.getNode()}else{const h=Ce(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const p=gx(r,n,o.getNode(),l);p!=null?d=o.getNode().getImmediateChild(u).updateChild(h,p):d=o.getNode().getImmediateChild(u)}else d=Uy(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,h,i,s):a=o.getNode()}}return Za(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function kh(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if(ae(n))u=h.updateFullNode(l.getNode(),r,null);else if(h.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(n,r);u=h.updateFullNode(l.getNode(),y,null)}else{const y=se(n);if(!l.isCompleteForPath(n)&&Ci(n)>1)return e;const E=Ce(n),P=l.getNode().getImmediateChild(y).updateChild(E,r);y===".priority"?u=h.updatePriority(l.getNode(),P):u=h.updateChild(l.getNode(),y,P,E,TC,null)}const d=_C(e,u,l.isFullyInitialized()||ae(n),h.filtersNodes()),p=new $y(i,d,s);return CC(t,d,n,i,p,a)}function wm(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const h=new $y(i,e,s);if(ae(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Za(e,u,!0,t.filter.filtersNodes());else{const d=se(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Za(e,u,a.isFullyInitialized(),a.isFiltered());else{const p=Ce(n),y=a.getNode().getImmediateChild(d);let E;if(ae(p))E=r;else{const C=h.getCompleteChild(d);C!=null?Py(p)===".priority"&&C.getChild(uC(p)).isEmpty()?E=C:E=C.updateChild(p,r):E=ee.EMPTY_NODE}if(y.equals(E))l=e;else{const C=t.filter.updateChild(a.getNode(),d,E,p,h,o);l=Za(e,C,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function yx(t,e){return t.eventCache.isCompleteForChild(e)}function r6(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const h=Be(n,l);yx(e,se(h))&&(a=wm(t,a,h,u,i,s,o))}),r.foreach((l,u)=>{const h=Be(n,l);yx(e,se(h))||(a=wm(t,a,h,u,i,s,o))}),a}function vx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ae(n)?u=r:u=new Te(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((d,p)=>{if(h.hasChild(d)){const y=e.serverCache.getNode().getImmediateChild(d),E=vx(t,y,p);l=kh(t,l,new Se(d),E,i,s,o,a)}}),u.children.inorderTraversal((d,p)=>{const y=!e.serverCache.isCompleteForChild(d)&&p.value===null;if(!h.hasChild(d)&&!y){const E=e.serverCache.getNode().getImmediateChild(d),C=vx(t,E,p);l=kh(t,l,new Se(d),C,i,s,o,a)}}),l}function i6(t,e,n,r,i,s,o){if(Ch(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ae(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ae(n)){let u=new Te(null);return l.getNode().forEachChild(po,(h,d)=>{u=u.set(new Se(h),d)}),xm(t,e,n,u,i,s,a,o)}else return e}else{let u=new Te(null);return r.foreach((h,d)=>{const p=Be(n,h);l.isCompleteForPath(p)&&(u=u.set(h,l.getNode().getChild(p)))}),xm(t,e,n,u,i,s,a,o)}}function s6(t,e,n,r,i){const s=e.serverCache,o=_C(e,s.getNode(),s.isFullyInitialized()||ae(n),s.isFiltered());return CC(t,o,n,r,TC,i)}function o6(t,e,n,r,i,s){let o;if(Ch(r,n)!=null)return e;{const a=new $y(r,e,i),l=e.eventCache.getNode();let u;if(ae(n)||se(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Th(r,Es(e));else{const d=e.serverCache.getNode();H(d instanceof ee,"serverChildren would be complete if leaf node"),h=Vy(r,d)}h=h,u=t.filter.updateFullNode(l,h,s)}else{const h=se(n);let d=Uy(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),d!=null?u=t.filter.updateChild(l,h,d,Ce(n),a,s):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(l,h,ee.EMPTY_NODE,Ce(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Th(r,Es(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ch(r,ge())!=null,Za(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new My(r.getIndex()),s=TO(r);this.processor_=ZO(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ee.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(ee.EMPTY_NODE,a.getNode(),null),h=new ki(l,o.isFullyInitialized(),i.filtersNodes()),d=new ki(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=gd(d,h),this.eventGenerator_=new RO(this.query_)}get query(){return this.query_}}function l6(t){return t.viewCache_.serverCache.getNode()}function c6(t){return bh(t.viewCache_)}function u6(t,e){const n=Es(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function _x(t){return t.eventRegistrations_.length===0}function h6(t,e){t.eventRegistrations_.push(e)}function wx(t,e,n){const r=[];if(n){H(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function xx(t,e,n,r){e.type===Mn.MERGE&&e.source.queryId!==null&&(H(Es(t.viewCache_),"We should always have a full cache before handling merges"),H(bh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=t6(t.processor_,i,e,n,r);return e6(t.processor_,s.viewCache),H(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,kC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function d6(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ze,(s,o)=>{r.push(ko(s,o))}),n.isFullyInitialized()&&r.push(yC(n.getNode())),kC(t,r,n.getNode(),e)}function kC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return DO(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih;class IC{constructor(){this.views=new Map}}function f6(t){H(!Ih,"__referenceConstructor has already been defined"),Ih=t}function p6(){return H(Ih,"Reference.ts has not been loaded"),Ih}function m6(t){return t.views.size===0}function By(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return H(s!=null,"SyncTree gave us an op for an invalid query."),xx(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(xx(o,e,n,r));return s}}function NC(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Th(n,i?r:null),l=!1;a?l=!0:r instanceof ee?(a=Vy(n,r),l=!1):(a=ee.EMPTY_NODE,l=!1);const u=gd(new ki(a,l,!1),new ki(r,i,!1));return new a6(e,u)}return o}function g6(t,e,n,r,i,s){const o=NC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),h6(o,n),d6(o,n)}function y6(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ii(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(wx(u,n,r)),_x(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(wx(l,n,r)),_x(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ii(t)&&s.push(new(p6())(e._repo,e._path)),{removed:s,events:o}}function PC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wi(t,e){let n=null;for(const r of t.views.values())n=n||u6(r,e);return n}function AC(t,e){if(e._queryParams.loadsAllData())return vd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function RC(t,e){return AC(t,e)!=null}function Ii(t){return vd(t)!=null}function vd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;function v6(t){H(!Nh,"__referenceConstructor has already been defined"),Nh=t}function _6(){return H(Nh,"Reference.ts has not been loaded"),Nh}let w6=1;class Ex{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Te(null),this.pendingWriteTree_=YO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DC(t,e,n,r,i){return jO(t.pendingWriteTree_,e,n,r,i),i?zo(t,new xs(Oy(),e,n)):[]}function x6(t,e,n,r){FO(t.pendingWriteTree_,e,n,r);const i=Te.fromObject(n);return zo(t,new Io(Oy(),e,i))}function ai(t,e,n=!1){const r=VO(t.pendingWriteTree_,e);if(UO(t.pendingWriteTree_,e)){let s=new Te(null);return r.snap!=null?s=s.set(ge(),!0):_t(r.children,o=>{s=s.set(new Se(o),!0)}),zo(t,new Sh(r.path,s,n))}else return[]}function dc(t,e,n){return zo(t,new xs(jy(),e,n))}function E6(t,e,n){const r=Te.fromObject(n);return zo(t,new Io(jy(),e,r))}function S6(t,e){return zo(t,new Ol(jy(),e))}function b6(t,e,n){const r=Hy(t,n);if(r){const i=Wy(r),s=i.path,o=i.queryId,a=Pt(s,e),l=new Ol(Fy(o),a);return Gy(t,s,l)}else return[]}function Ph(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||RC(o,e))){const l=y6(o,e,n,r);m6(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const h=u.findIndex(p=>p._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(p,y)=>Ii(y));if(h&&!d){const p=t.syncPointTree_.subtree(s);if(!p.isEmpty()){const y=k6(p);for(let E=0;E<y.length;++E){const C=y[E],P=C.query,w=jC(t,C);t.listenProvider_.startListening(tl(P),jl(t,P),w.hashFn,w.onComplete)}}}!d&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(tl(e),null):u.forEach(p=>{const y=t.queryToTagMap.get(_d(p));t.listenProvider_.stopListening(tl(p),y)}))}I6(t,u)}return a}function MC(t,e,n,r){const i=Hy(t,r);if(i!=null){const s=Wy(i),o=s.path,a=s.queryId,l=Pt(o,e),u=new xs(Fy(a),l,n);return Gy(t,o,u)}else return[]}function T6(t,e,n,r){const i=Hy(t,r);if(i){const s=Wy(i),o=s.path,a=s.queryId,l=Pt(o,e),u=Te.fromObject(n),h=new Io(Fy(a),l,u);return Gy(t,o,h)}else return[]}function Em(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(p,y)=>{const E=Pt(p,i);s=s||wi(y,E),o=o||Ii(y)});let a=t.syncPointTree_.get(i);a?(o=o||Ii(a),s=s||wi(a,ge())):(a=new IC,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,E)=>{const C=wi(E,ge());C&&(s=s.updateImmediateChild(y,C))}));const u=RC(a,e);if(!u&&!e._queryParams.loadsAllData()){const p=_d(e);H(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const y=N6();t.queryToTagMap.set(p,y),t.tagToQueryMap.set(y,p)}const h=yd(t.pendingWriteTree_,i);let d=g6(a,e,n,h,s,l);if(!u&&!o&&!r){const p=AC(a,e);d=d.concat(P6(t,e,p))}return d}function zy(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Pt(o,e),u=wi(a,l);if(u)return u});return EC(i,e,s,n,!0)}function C6(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const d=Pt(u,n);r=r||wi(h,d)});let i=t.syncPointTree_.get(n);i?r=r||wi(i,ge()):(i=new IC,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ki(r,!0,!1):null,a=yd(t.pendingWriteTree_,e._path),l=NC(i,e,a,s?o.getNode():ee.EMPTY_NODE,s);return c6(l)}function zo(t,e){return LC(e,t.syncPointTree_,null,yd(t.pendingWriteTree_,ge()))}function LC(t,e,n,r){if(ae(t.path))return OC(t,e,n,r);{const i=e.get(ge());n==null&&i!=null&&(n=wi(i,ge()));let s=[];const o=se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,h=SC(r,o);s=s.concat(LC(a,l,u,h))}return i&&(s=s.concat(By(i,t,r,n))),s}}function OC(t,e,n,r){const i=e.get(ge());n==null&&i!=null&&(n=wi(i,ge()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=SC(r,o),h=t.operationForChild(o);h&&(s=s.concat(OC(h,a,l,u)))}),i&&(s=s.concat(By(i,t,r,n))),s}function jC(t,e){const n=e.query,r=jl(t,n);return{hashFn:()=>(l6(e)||ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?b6(t,n._path,r):S6(t,n._path);{const s=SL(i,n);return Ph(t,n,null,s)}}}}function jl(t,e){const n=_d(e);return t.queryToTagMap.get(n)}function _d(t){return t._path.toString()+"$"+t._queryIdentifier}function Hy(t,e){return t.tagToQueryMap.get(e)}function Wy(t){const e=t.indexOf("$");return H(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Se(t.substr(0,e))}}function Gy(t,e,n){const r=t.syncPointTree_.get(e);H(r,"Missing sync point for query tag that we're tracking");const i=yd(t.pendingWriteTree_,e);return By(r,n,i,null)}function k6(t){return t.fold((e,n,r)=>{if(n&&Ii(n))return[vd(n)];{let i=[];return n&&(i=PC(n)),_t(r,(s,o)=>{i=i.concat(o)}),i}})}function tl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_6())(t._repo,t._path):t}function I6(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=_d(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function N6(){return w6++}function P6(t,e,n){const r=e._path,i=jl(t,e),s=jC(t,n),o=t.listenProvider_.startListening(tl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)H(!Ii(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,h,d)=>{if(!ae(u)&&h&&Ii(h))return[vd(h).query];{let p=[];return h&&(p=p.concat(PC(h).map(y=>y.query))),_t(d,(y,E)=>{p=p.concat(E)}),p}});for(let u=0;u<l.length;++u){const h=l[u];t.listenProvider_.stopListening(tl(h),jl(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ky(n)}node(){return this.node_}}class qy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Be(this.path_,e);return new qy(this.syncTree_,n)}node(){return zy(this.syncTree_,this.path_)}}const A6=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sx=function(t,e,n){if(!t||typeof t!="object")return t;if(H(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return R6(t[".sv"],e,n);if(typeof t[".sv"]=="object")return D6(t[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},R6=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+t)}},D6=function(t,e,n){t.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const i=e.node();if(H(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},FC=function(t,e,n,r){return Yy(e,new qy(n,t),r)},VC=function(t,e,n){return Yy(t,new Ky(e),n)};function Yy(t,e,n){const r=t.getPriority().val(),i=Sx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Sx(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ct(a,rt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ct(i))),o.forEachChild(ze,(a,l)=>{const u=Yy(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Qy(t,e){let n=e instanceof Se?e:new Se(e),r=t,i=se(n);for(;i!==null;){const s=So(r.node.children,i)||{children:{},childCount:0};r=new Xy(i,r,s),n=Ce(n),i=se(n)}return r}function Ho(t){return t.node.value}function UC(t,e){t.node.value=e,Sm(t)}function $C(t){return t.node.childCount>0}function M6(t){return Ho(t)===void 0&&!$C(t)}function wd(t,e){_t(t.node.children,(n,r)=>{e(new Xy(n,t,r))})}function BC(t,e,n,r){n&&!r&&e(t),wd(t,i=>{BC(i,e,!0,r)}),n&&r&&e(t)}function L6(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fc(t){return new Se(t.parent===null?t.name:fc(t.parent)+"/"+t.name)}function Sm(t){t.parent!==null&&O6(t.parent,t.name,t)}function O6(t,e,n){const r=M6(n),i=ur(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Sm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=/[\[\].#$\/\u0000-\u001F\u007F]/,F6=/[\[\].#$\u0000-\u001F\u007F]/,Bf=10*1024*1024,Jy=function(t){return typeof t=="string"&&t.length!==0&&!j6.test(t)},zC=function(t){return typeof t=="string"&&t.length!==0&&!F6.test(t)},V6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zC(t)},U6=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ty(t)||t&&typeof t=="object"&&ur(t,".sv")},HC=function(t,e,n,r){r&&e===void 0||xd(ld(t,"value"),e,n)},xd=function(t,e,n){const r=n instanceof Se?new rO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qi(r));if(typeof e=="function")throw new Error(t+"contains a function "+qi(r)+" with contents = "+e.toString());if(Ty(e))throw new Error(t+"contains "+e.toString()+" "+qi(r));if(typeof e=="string"&&e.length>Bf/3&&cd(e)>Bf)throw new Error(t+"contains a string greater than "+Bf+" utf8 bytes "+qi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(_t(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Jy(o)))throw new Error(t+" contains an invalid key ("+o+") "+qi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iO(r,o),xd(t,a,r),sO(r)}),i&&s)throw new Error(t+' contains ".value" child '+qi(r)+" in addition to actual children.")}},$6=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Rl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Jy(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(nO);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&fn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},B6=function(t,e,n,r){const i=ld(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];_t(e,(o,a)=>{const l=new Se(o);if(xd(i,a,Be(n,l)),Py(l)===".priority"&&!U6(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),$6(i,s)},WC=function(t,e,n,r){if(!zC(n))throw new Error(ld(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},z6=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WC(t,e,n)},Zy=function(t,e){if(se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},H6=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!V6(n))throw new Error(ld(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ed(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Ay(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function GC(t,e,n){Ed(t,n),KC(t,r=>Ay(r,e))}function _n(t,e,n){Ed(t,n),KC(t,r=>fn(r,e)||fn(e,r))}function KC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(G6(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function G6(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qa&&mt("event: "+n.toString()),Bo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="repo_interrupt",q6=25;class Y6{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new W6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Eh(),this.transactionQueueTree_=new Xy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function X6(t,e,n){if(t.stats_=Iy(t.repoInfo_),t.forceRestClient_||kL())t.server_=new xh(t.repoInfo_,(r,i,s,o)=>{bx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Tx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cr(t.repoInfo_,e,(r,i,s,o)=>{bx(t,r,i,s,o)},r=>{Tx(t,r)},r=>{Q6(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=RL(t.repoInfo_,()=>new AO(t.stats_,t.server_)),t.infoData_=new CO,t.infoSyncTree_=new Ex({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=dc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),e0(t,"connected",!1),t.serverSyncTree_=new Ex({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);_n(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function qC(t){const n=t.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Sd(t){return A6({timestamp:qC(t)})}function bx(t,e,n,r,i){t.dataUpdateCount++;const s=new Se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ah(n,u=>rt(u));o=T6(t.serverSyncTree_,s,l,i)}else{const l=rt(n);o=MC(t.serverSyncTree_,s,l,i)}else if(r){const l=ah(n,u=>rt(u));o=E6(t.serverSyncTree_,s,l)}else{const l=rt(n);o=dc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Po(t,s)),_n(t.eventQueue_,a,o)}function Tx(t,e){e0(t,"connected",e),e===!1&&tj(t)}function Q6(t,e){_t(e,(n,r)=>{e0(t,n,r)})}function e0(t,e,n){const r=new Se("/.info/"+e),i=rt(n);t.infoData_.updateSnapshot(r,i);const s=dc(t.infoSyncTree_,r,i);_n(t.eventQueue_,r,s)}function t0(t){return t.nextWriteId_++}function J6(t,e,n){const r=C6(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=rt(i).withIndex(e._queryParams.getIndex());Em(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=dc(t.serverSyncTree_,e._path,s);else{const a=jl(t.serverSyncTree_,e);o=MC(t.serverSyncTree_,e._path,s,a)}return _n(t.eventQueue_,e._path,o),Ph(t.serverSyncTree_,e,n,null,!0),s},i=>(pc(t,"get for query "+st(e)+" failed: "+i),Promise.reject(new Error(i))))}function Z6(t,e,n,r,i){pc(t,"set",{path:e.toString(),value:n,priority:r});const s=Sd(t),o=rt(n,r),a=zy(t.serverSyncTree_,e),l=VC(o,a,s),u=t0(t),h=DC(t.serverSyncTree_,e,l,u,!0);Ed(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(p,y)=>{const E=p==="ok";E||Dt("set at "+e+" failed: "+p);const C=ai(t.serverSyncTree_,u,!E);_n(t.eventQueue_,e,C),bm(t,i,p,y)});const d=r0(t,e);Po(t,d),_n(t.eventQueue_,d,[])}function ej(t,e,n,r){pc(t,"update",{path:e.toString(),value:n});let i=!0;const s=Sd(t),o={};if(_t(n,(a,l)=>{i=!1,o[a]=FC(Be(e,a),rt(l),t.serverSyncTree_,s)}),i)mt("update() called with empty data.  Don't do anything."),bm(t,r,"ok",void 0);else{const a=t0(t),l=x6(t.serverSyncTree_,e,o,a);Ed(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,h)=>{const d=u==="ok";d||Dt("update at "+e+" failed: "+u);const p=ai(t.serverSyncTree_,a,!d),y=p.length>0?Po(t,e):e;_n(t.eventQueue_,y,p),bm(t,r,u,h)}),_t(n,u=>{const h=r0(t,Be(e,u));Po(t,h)}),_n(t.eventQueue_,e,[])}}function tj(t){pc(t,"onDisconnectEvents");const e=Sd(t),n=Eh();gm(t.onDisconnect_,ge(),(i,s)=>{const o=FC(i,s,t.serverSyncTree_,e);vC(n,i,o)});let r=[];gm(n,ge(),(i,s)=>{r=r.concat(dc(t.serverSyncTree_,i,s));const o=r0(t,i);Po(t,o)}),t.onDisconnect_=Eh(),_n(t.eventQueue_,ge(),r)}function nj(t,e,n){let r;se(e._path)===".info"?r=Em(t.infoSyncTree_,e,n):r=Em(t.serverSyncTree_,e,n),GC(t.eventQueue_,e._path,r)}function rj(t,e,n){let r;se(e._path)===".info"?r=Ph(t.infoSyncTree_,e,n):r=Ph(t.serverSyncTree_,e,n),GC(t.eventQueue_,e._path,r)}function ij(t){t.persistentConnection_&&t.persistentConnection_.interrupt(K6)}function pc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mt(n,...e)}function bm(t,e,n,r){e&&Bo(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function YC(t,e,n){return zy(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function n0(t,e=t.transactionQueueTree_){if(e||bd(t,e),Ho(e)){const n=QC(t,e);H(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&sj(t,fc(e),n)}else $C(e)&&wd(e,n=>{n0(t,n)})}function sj(t,e,n){const r=n.map(u=>u.currentWriteId),i=YC(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const h=n[u];H(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Pt(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{pc(t,"transaction put response",{path:l.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let p=0;p<n.length;p++)n[p].status=2,h=h.concat(ai(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&d.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();bd(t,Qy(t.transactionQueueTree_,e)),n0(t,t.transactionQueueTree_),_n(t.eventQueue_,e,h);for(let p=0;p<d.length;p++)Bo(d[p])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Dt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Po(t,e)}},o)}function Po(t,e){const n=XC(t,e),r=fc(n),i=QC(t,n);return oj(t,i,r),r}function oj(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Pt(n,l.path);let h=!1,d;if(H(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,d=l.abortReason,i=i.concat(ai(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=q6)h=!0,d="maxretry",i=i.concat(ai(t.serverSyncTree_,l.currentWriteId,!0));else{const p=YC(t,l.path,o);l.currentInputSnapshot=p;const y=e[a].update(p.val());if(y!==void 0){xd("transaction failed: Data returned ",y,l.path);let E=rt(y);typeof y=="object"&&y!=null&&ur(y,".priority")||(E=E.updatePriority(p.getPriority()));const P=l.currentWriteId,w=Sd(t),v=VC(E,p,w);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=v,l.currentWriteId=t0(t),o.splice(o.indexOf(P),1),i=i.concat(DC(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(ai(t.serverSyncTree_,P,!0))}else h=!0,d="nodata",i=i.concat(ai(t.serverSyncTree_,l.currentWriteId,!0))}_n(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}bd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Bo(r[a]);n0(t,t.transactionQueueTree_)}function XC(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&Ho(r)===void 0;)r=Qy(r,n),e=Ce(e),n=se(e);return r}function QC(t,e){const n=[];return JC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function JC(t,e,n){const r=Ho(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);wd(e,i=>{JC(t,i,n)})}function bd(t,e){const n=Ho(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,UC(e,n.length>0?n:void 0)}wd(e,r=>{bd(t,r)})}function r0(t,e){const n=fc(XC(t,e)),r=Qy(t.transactionQueueTree_,e);return L6(r,i=>{zf(t,i)}),zf(t,r),BC(r,i=>{zf(t,i)}),n}function zf(t,e){const n=Ho(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(H(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(H(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ai(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?UC(e,void 0):n.length=s+1,_n(t.eventQueue_,fc(e),i);for(let o=0;o<r.length;o++)Bo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function lj(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Cx=function(t,e){const n=cj(t),r=n.namespace;n.domain==="firebase.com"&&Lr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Lr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Se(n.pathString)}},cj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=aj(t.substring(h,d)));const p=lj(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uj=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=kx.charAt(n%64),n=Math.floor(n/64);H(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=kx.charAt(e[i]);return H(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class dj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ae(this._path)?null:Py(this._path)}get ref(){return new Ur(this._repo,this._path)}get _queryIdentifier(){const e=dx(this._queryParams),n=Cy(e);return n==="{}"?"default":n}get _queryObject(){return dx(this._queryParams)}isEqual(e){if(e=Tt(e),!(e instanceof i0))return!1;const n=this._repo===e._repo,r=Ay(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+tO(this._path)}}class Ur extends i0{constructor(e,n){super(e,n,new Ly,!1)}get parent(){const e=uC(this._path);return e===null?null:new Ur(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Se(e),r=Vl(this.ref,e);return new Fl(this._node.getChild(n),r,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Fl(i,Vl(this.ref,r),ze)))}hasChild(e){const n=new Se(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gt(t,e){return t=Tt(t),t._checkNotDeleted("ref"),e!==void 0?Vl(t._root,e):t._root}function Vl(t,e){return t=Tt(t),se(t._path)===null?z6("child","path",e):WC("child","path",e),new Ur(t._repo,Be(t._path,e))}function e2(t,e){t=Tt(t),Zy("push",t._path),HC("push",e,t._path,!0);const n=qC(t._repo),r=uj(n),i=Vl(t,r),s=Vl(t,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function t2(t){return Zy("remove",t._path),s0(t,null)}function s0(t,e){t=Tt(t),Zy("set",t._path),HC("set",e,t._path,!1);const n=new tc;return Z6(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function o0(t,e){B6("update",e,t._path);const n=new tc;return ej(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ul(t){t=Tt(t);const e=new ZC(()=>{}),n=new Td(e);return J6(t._repo,t,n).then(r=>new Fl(r,new Ur(t._repo,t._path),t._queryParams.getIndex()))}class Td{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new hj("value",this,new Fl(e.snapshotNode,new Ur(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new dj(this,e,n):null}matches(e){return e instanceof Td?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function fj(t,e,n,r,i){const s=new ZC(n,void 0),o=new Td(s);return nj(t._repo,t,o),()=>rj(t._repo,t,o)}function n2(t,e,n,r){return fj(t,"value",e)}f6(Ur);v6(Ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="FIREBASE_DATABASE_EMULATOR_HOST",Tm={};let mj=!1;function gj(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Li(s);t.repoInfo_=new tC(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function yj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Lr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Cx(s,i),a=o.repoInfo,l;typeof process<"u"&&qw&&(l=qw[pj]),l?(s=`http://${l}?ns=${a.namespace}`,o=Cx(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new NL(t.name,t.options,e);H6("Invalid Firebase Database URL",o),ae(o.path)||Lr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=_j(a,t,u,new IL(t,n));return new wj(h,t)}function vj(t,e){const n=Tm[e];(!n||n[t.key]!==t)&&Lr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ij(t),delete n[t.key]}function _j(t,e,n,r){let i=Tm[e.name];i||(i={},Tm[e.name]=i);let s=i[t.toURLString()];return s&&Lr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Y6(t,mj,n,r),i[t.toURLString()]=s,s}let wj=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(X6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ur(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Lr("Cannot call "+e+" on a deleted database.")}};function xj(t=hd(),e){const n=rc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=oy("database");r&&Ej(n,...r)}return n}function Ej(t,e,n,r={}){t=Tt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Si(r,s.repoInfo_.emulatorOptions))return;Lr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Lr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ku(ku.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:ay(r.mockUserToken,t.app.options.projectId);o=new ku(a)}Li(e)&&(od(e),ad("Database",!0)),gj(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){dL(Oi),bi(new Rr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return yj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mn(Yw,Xw,t),mn(Yw,Xw,"esm2020")}Cr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sj();const bj={apiKey:"AIzaSyCOYnafjAZ2T3XI_7BRhejE5mBIMw5nB3Y",authDomain:"sam-portfolio-8580e.firebaseapp.com",projectId:"sam-portfolio-8580e",storageBucket:"sam-portfolio-8580e.firebasestorage.app",messagingSenderId:"367246192819",appId:"1:367246192819:web:b25cfc376c1caa98dd40c6",measurementId:"G-NR49MCL481",databaseURL:"https://sam-portfolio-8580e-default-rtdb.firebaseio.com"},Cd=Qb(bj);R3(Cd);const li=t3(Cd);lL(Cd);const Bt=xj(Cd);let Tj={data:""},Cj=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Tj,kj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ij=/\/\*[^]*?\*\/|  +/g,Ix=/\n+/g,ri=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?ri(o,s):s+"{"+ri(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=ri(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ri.p?ri.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},pr={},r2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+r2(t[n]);return e}return t},Nj=(t,e,n,r,i)=>{let s=r2(t),o=pr[s]||(pr[s]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(s));if(!pr[o]){let l=s!==t?t:(u=>{let h,d,p=[{}];for(;h=kj.exec(u.replace(Ij,""));)h[4]?p.shift():h[3]?(d=h[3].replace(Ix," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][h[1]]=h[2].replace(Ix," ").trim();return p[0]})(t);pr[o]=ri(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&pr.g?pr.g:null;return n&&(pr.g=pr[o]),((l,u,h,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(pr[o],e,r,a),o},Pj=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ri(a,""):a===!1?"":a}return r+i+(o??"")},"");function kd(t){let e=this||{},n=t.call?t(e.p):t;return Nj(n.unshift?n.raw?Pj(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,Cj(e.target),e.g,e.o,e.k)}let i2,Cm,km;kd.bind({g:1});let Or=kd.bind({k:1});function Aj(t,e,n,r){ri.p=e,i2=t,Cm=n,km=r}function ji(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Cm&&Cm()},a),n.o=/ *go\d+/.test(l),a.className=kd.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),km&&u[0]&&km(a),i2(u,a)}return i}}var Rj=t=>typeof t=="function",Ah=(t,e)=>Rj(t)?t(e):t,Dj=(()=>{let t=0;return()=>(++t).toString()})(),s2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Mj=20,a0="default",o2=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return o2(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Iu=[],a2={toasts:[],pausedAt:void 0,settings:{toastLimit:Mj}},Zn={},l2=(t,e=a0)=>{Zn[e]=o2(Zn[e]||a2,t),Iu.forEach(([n,r])=>{n===e&&r(Zn[e])})},c2=t=>Object.keys(Zn).forEach(e=>l2(t,e)),Lj=t=>Object.keys(Zn).find(e=>Zn[e].toasts.some(n=>n.id===t)),Id=(t=a0)=>e=>{l2(e,t)},Oj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jj=(t={},e=a0)=>{let[n,r]=I.useState(Zn[e]||a2),i=I.useRef(Zn[e]);I.useEffect(()=>(i.current!==Zn[e]&&r(Zn[e]),Iu.push([e,r]),()=>{let o=Iu.findIndex(([a])=>a===e);o>-1&&Iu.splice(o,1)}),[e]);let s=n.toasts.map(o=>{var a,l,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((a=t[o.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||Oj[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:s}},Fj=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Dj()}),mc=t=>(e,n)=>{let r=Fj(e,t,n);return Id(r.toasterId||Lj(r.id))({type:2,toast:r}),r.id},it=(t,e)=>mc("blank")(t,e);it.error=mc("error");it.success=mc("success");it.loading=mc("loading");it.custom=mc("custom");it.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Id(e)(n):c2(n)};it.dismissAll=t=>it.dismiss(void 0,t);it.remove=(t,e)=>{let n={type:4,toastId:t};e?Id(e)(n):c2(n)};it.removeAll=t=>it.remove(void 0,t);it.promise=(t,e,n)=>{let r=it.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Ah(e.success,i):void 0;return s?it.success(s,{id:r,...n,...n==null?void 0:n.success}):it.dismiss(r),i}).catch(i=>{let s=e.error?Ah(e.error,i):void 0;s?it.error(s,{id:r,...n,...n==null?void 0:n.error}):it.dismiss(r)}),t};var Vj=1e3,Uj=(t,e="default")=>{let{toasts:n,pausedAt:r}=jj(t,e),i=I.useRef(new Map).current,s=I.useCallback((d,p=Vj)=>{if(i.has(d))return;let y=setTimeout(()=>{i.delete(d),o({type:4,toastId:d})},p);i.set(d,y)},[]);I.useEffect(()=>{if(r)return;let d=Date.now(),p=n.map(y=>{if(y.duration===1/0)return;let E=(y.duration||0)+y.pauseDuration-(d-y.createdAt);if(E<0){y.visible&&it.dismiss(y.id);return}return setTimeout(()=>it.dismiss(y.id,e),E)});return()=>{p.forEach(y=>y&&clearTimeout(y))}},[n,r,e]);let o=I.useCallback(Id(e),[e]),a=I.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=I.useCallback((d,p)=>{o({type:1,toast:{id:d,height:p}})},[o]),u=I.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=I.useCallback((d,p)=>{let{reverseOrder:y=!1,gutter:E=8,defaultPosition:C}=p||{},P=n.filter(x=>(x.position||C)===(d.position||C)&&x.height),w=P.findIndex(x=>x.id===d.id),v=P.filter((x,D)=>D<w&&x.visible).length;return P.filter(x=>x.visible).slice(...y?[v+1]:[0,v]).reduce((x,D)=>x+(D.height||0)+E,0)},[n]);return I.useEffect(()=>{n.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let p=i.get(d.id);p&&(clearTimeout(p),i.delete(d.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:h}}},$j=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Bj=Or`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zj=Or`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Hj=ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$j} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Bj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zj} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wj=Or`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gj=ji("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Wj} 1s linear infinite;
`,Kj=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qj=Or`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Yj=ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Xj=ji("div")`
  position: absolute;
`,Qj=ji("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Jj=Or`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Zj=ji("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Jj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,e5=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?I.createElement(Zj,null,e):e:n==="blank"?null:I.createElement(Qj,null,I.createElement(Gj,{...r}),n!=="loading"&&I.createElement(Xj,null,n==="error"?I.createElement(Hj,{...r}):I.createElement(Yj,{...r})))},t5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,n5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,r5="0%{opacity:0;} 100%{opacity:1;}",i5="0%{opacity:1;} 100%{opacity:0;}",s5=ji("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,o5=ji("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,a5=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=s2()?[r5,i5]:[t5(n),n5(n)];return{animation:e?`${Or(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Or(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l5=I.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?a5(t.position||e||"top-center",t.visible):{opacity:0},s=I.createElement(e5,{toast:t}),o=I.createElement(o5,{...t.ariaProps},Ah(t.message,t));return I.createElement(s5,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):I.createElement(I.Fragment,null,s,o))});Aj(I.createElement);var c5=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=I.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return I.createElement("div",{ref:s,className:e,style:n},i)},u5=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:s2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},h5=kd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,tu=16,d5=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=Uj(n,s);return I.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:tu,left:tu,right:tu,bottom:tu,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(h=>{let d=h.position||e,p=u.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),y=u5(d,p);return I.createElement(c5,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?h5:"",style:y},h.type==="custom"?Ah(h.message,h):i?i(h):I.createElement(l5,{toast:h,position:d}))}))},Ee=it;const Nx="settings",Im={async getSettings(){const t=gt(Bt,Nx),e=await Ul(t);return e.exists()?e.val():{maintenanceMode:!1,maintenanceMessage:"We are currently performing scheduled maintenance. We should be back online shortly.",maintenanceEndTime:new Date(Date.now()+2*60*60*1e3).toISOString()}},async updateSettings(t){const e=gt(Bt,Nx);await o0(e,t)}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=I.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},h)=>I.createElement("svg",{ref:h,...f5,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${p5(t)}`,a].join(" "),...u},[...e.map(([d,p])=>I.createElement(d,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ce("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=ce("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ce("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ce("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=ce("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=ce("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ce("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=ce("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D5=({message:t,isDark:e,toggleDarkMode:n,endTime:r})=>{const[i,s]=I.useState(""),[o,a]=I.useState(!1),[l,u]=I.useState(""),[h,d]=I.useState(!1),[p,y]=I.useState(0),E=I.useRef(null),[C,P]=I.useState(!1);I.useEffect(()=>{const D=r?new Date(r):(()=>{const O=new Date;return O.setHours(O.getHours()+2),O})(),L=setInterval(()=>{const O=new Date,b=D.getTime()-O.getTime();if(b<=0){s("00:00:00"),clearInterval(L);return}const _=Math.floor(b/(1e3*60*60)),T=Math.floor(b%(1e3*60*60)/(1e3*60)),N=Math.floor(b%(1e3*60)/1e3);s(`${_.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(L)},[r]);const w=()=>{y(D=>D+1),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{p===3&&a(!0),y(0)},3e3),p===3&&(a(!0),y(0),E.current&&(clearTimeout(E.current),E.current=null))},v=async()=>{d(!0);try{if(!li)throw console.error("Authentication system not initialized"),new Error("Authentication system not initialized");const D=new kn;D.addScope("email");const L=await hm(li,D);if(!L||!L.user)throw new Error("Authentication failed. No user data received.");if(L.user.email==="samuvel1official@gmail.com"){console.log("Admin authentication successful!"),P(!0);try{localStorage.setItem("adminAuthenticated","true"),localStorage.setItem("adminBypassedMaintenance","true"),setTimeout(()=>{window.location.href="/admin-welcome"},1e3)}catch(O){console.error("Error during redirect:",O),window.location.assign("/admin-welcome")}}else console.log("Not an admin email:",L.user.email),u("You do not have admin privileges"),d(!1),a(!0)}catch(D){if(console.error("Authentication error:",D),d(!1),D instanceof Error){const L=D;L.code!=="auth/popup-closed-by-user"&&(u(L.message||"Authentication failed. Please try again."),a(!0))}else u("Authentication failed. Please try again."),a(!0)}},x=async()=>{d(!0),u("");try{if(!li)throw console.error("Authentication system not initialized"),new Error("Authentication system not initialized");const D=new kn;D.addScope("email");const L=await hm(li,D);if(!L||!L.user)throw new Error("Authentication failed. No user data received.");if(L.user.email==="samuvel1official@gmail.com"){console.log("Admin authentication successful!"),P(!0);try{localStorage.setItem("adminAuthenticated","true"),localStorage.setItem("adminBypassedMaintenance","true"),setTimeout(()=>{window.location.href="/admin-welcome"},1e3)}catch(O){console.error("Error during redirect:",O),window.location.assign("/admin-welcome")}}else console.log("Not an admin email:",L.user.email),u("You do not have admin privileges"),d(!1)}catch(D){if(console.error("Authentication error:",D),D instanceof Error){const L=D;L.code==="auth/popup-closed-by-user"?u("Sign-in popup was closed. Please try again."):L.code==="auth/popup-blocked"?u("Sign-in popup was blocked by your browser. Please allow popups for this site."):L.code==="auth/cancelled-popup-request"?u("Multiple popup requests were triggered. Please try again."):L.code==="auth/network-request-failed"?u("Network error. Please check your internet connection and try again."):u(L.message||"Authentication failed. Please try again.")}else u("Authentication failed. Please try again.");d(!1)}};return C?f.jsx("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-800 dark:text-gray-200",children:"Redirecting to admin dashboard..."})]})}):f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900",children:[n&&f.jsx("div",{className:"absolute top-4 right-4 z-10",children:f.jsx("button",{onClick:n,className:"p-2 rounded-full bg-white dark:bg-gray-800 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e?"Switch to Light Mode":"Switch to Dark Mode",children:e?f.jsx(Rm,{className:"w-6 h-6 text-yellow-500"}):f.jsx(Am,{className:"w-6 h-6 text-blue-600"})})}),f.jsxs("div",{className:"w-full max-w-3xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden transform transition-all",children:[f.jsx("div",{className:"h-3 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),f.jsxs("div",{className:"p-8 md:p-12",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-20 h-20 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",children:f.jsx(A5,{className:"w-10 h-10 animate-pulse"})}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-3",children:"Site Under Maintenance"}),f.jsx("div",{className:"h-1.5 w-24 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto rounded-full mb-6"})]}),f.jsxs("div",{className:"mb-10 text-center",children:[f.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:t}),i&&f.jsxs("div",{className:"mb-8",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Estimated time remaining:"}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:i.split(":")[0]}),f.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"HOURS"})]}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:":"})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:i.split(":")[1]}),f.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"MINUTES"})]}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:":"})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:i.split(":")[2]}),f.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"SECONDS"})]})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 mt-8",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-yellow-600 dark:text-yellow-400 bg-yellow-100 dark:bg-yellow-900/30 px-4 py-3 rounded-lg",children:[f.jsx(m5,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-medium",children:"Scheduled Maintenance"})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-4 py-3 rounded-lg",children:[f.jsx(g5,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-medium",children:"Back soon"})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30 px-4 py-3 rounded-lg",children:[f.jsx(Nu,{className:"w-5 h-5 animate-spin-slow"}),f.jsx("span",{className:"text-sm font-medium",children:"Working on it"})]})]})]}),f.jsx("div",{className:"flex justify-center mb-10",children:f.jsxs("div",{className:"relative w-64 h-64",children:[f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-40 h-40 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-32 h-32 border-t-4 border-b-4 border-purple-500 rounded-full animate-spin-reverse"})}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-24 h-24 border-t-4 border-b-4 border-pink-500 rounded-full animate-spin-slow"})}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx(S5,{className:"w-12 h-12 text-gray-800 dark:text-white cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:w})})]})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Need to get in touch?"}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[f.jsxs("a",{href:"mailto:samuvel1official@gmail.com",className:"flex items-center space-x-2 px-5 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-md hover:shadow-lg",children:[f.jsx(c0,{className:"w-5 h-5"}),f.jsx("span",{children:"Email Us"})]}),f.jsxs("button",{onClick:v,disabled:h,className:"flex items-center space-x-2 px-5 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors shadow-md hover:shadow-lg dark:bg-gray-700 dark:hover:bg-gray-600",children:[f.jsx(P5,{className:"w-5 h-5"}),f.jsx("span",{children:"Samuvel"}),h&&f.jsx(Nu,{className:"w-4 h-4 ml-2 animate-spin"})]})]})]})]}),f.jsx("div",{className:"h-3 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"})]}),f.jsx("div",{className:"mt-8 text-center text-sm text-gray-500 dark:text-gray-400",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," | All rights reserved"]})}),o&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden transform transition-all animate-fade-in",children:[f.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4",children:f.jsx("h3",{className:"text-xl font-bold text-white",children:"Admin Authentication"})}),f.jsxs("div",{className:"p-6",children:[l&&f.jsx("div",{className:"mb-4 bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded",children:f.jsx("p",{children:l})}),f.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-300",children:"This area is restricted to administrators only. Please authenticate to continue."}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancel"}),f.jsxs("button",{type:"button",onClick:x,disabled:h||C,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:[h?f.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}):f.jsx(d2,{className:"w-4 h-4 mr-2"}),f.jsx("span",{children:"Sign in with Google"})]})]})]})]})})]})},u0=I.createContext({});function h0(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const d0=typeof window<"u",m2=d0?I.useLayoutEffect:I.useEffect,Nd=I.createContext(null);function f0(t,e){t.indexOf(e)===-1&&t.push(e)}function p0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const jr=(t,e,n)=>n>e?e:n<t?t:n;let Dh=()=>{};const Fr={},g2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function y2(t){return typeof t=="object"&&t!==null}const v2=t=>/^0[^.\s]+$/u.test(t);function m0(t){let e;return()=>(e===void 0&&(e=t()),e)}const gn=t=>t,M5=(t,e)=>n=>e(t(n)),gc=(...t)=>t.reduce(M5),$l=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class g0{constructor(){this.subscriptions=[]}add(e){return f0(this.subscriptions,e),()=>p0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=t=>t*1e3,ir=t=>t/1e3;function _2(t,e){return e?t*(1e3/e):0}const w2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L5=1e-7,O5=12;function j5(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=w2(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>L5&&++a<O5);return o}function yc(t,e,n,r){if(t===e&&n===r)return gn;const i=s=>j5(s,0,1,t,n);return s=>s===0||s===1?s:w2(i(s),e,r)}const x2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,E2=t=>e=>1-t(1-e),S2=yc(.33,1.53,.69,.99),y0=E2(S2),b2=x2(y0),T2=t=>(t*=2)<1?.5*y0(t):.5*(2-Math.pow(2,-10*(t-1))),v0=t=>1-Math.sin(Math.acos(t)),C2=E2(v0),k2=x2(v0),F5=yc(.42,0,1,1),V5=yc(0,0,.58,1),I2=yc(.42,0,.58,1),U5=t=>Array.isArray(t)&&typeof t[0]!="number",N2=t=>Array.isArray(t)&&typeof t[0]=="number",Dx={linear:gn,easeIn:F5,easeInOut:I2,easeOut:V5,circIn:v0,circInOut:k2,circOut:C2,backIn:y0,backInOut:b2,backOut:S2,anticipate:T2},$5=t=>typeof t=="string",Mx=t=>{if(N2(t)){Dh(t.length===4);const[e,n,r,i]=t;return yc(e,n,r,i)}else if($5(t))return Dh(Dx[t]!==void 0),Dx[t];return t},ru=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Lx={value:null,addProjectionMetrics:null};function B5(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(h.schedule(d),t()),l++,d(a)}const h={schedule:(d,p=!1,y=!1)=>{const C=y&&i?n:r;return p&&o.add(d),C.has(d)||C.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&Lx.value&&Lx.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,h.process(d))}};return h}const z5=40;function P2(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ru.reduce((x,D)=>(x[D]=B5(s,e?D:void 0),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:d,preRender:p,render:y,postRender:E}=o,C=()=>{const x=Fr.useManualTiming?i.timestamp:performance.now();n=!1,Fr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,z5),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),d.process(i),p.process(i),y.process(i),E.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(C))},P=()=>{n=!0,r=!0,i.isProcessing||t(C)};return{schedule:ru.reduce((x,D)=>{const L=o[D];return x[D]=(O,b=!1,_=!1)=>(n||P(),L.schedule(O,b,_)),x},{}),cancel:x=>{for(let D=0;D<ru.length;D++)o[ru[D]].cancel(x)},state:i,steps:o}}const{schedule:De,cancel:Ni,state:pt,steps:Hf}=P2(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0);let Pu;function H5(){Pu=void 0}const Wt={now:()=>(Pu===void 0&&Wt.set(pt.isProcessing||Fr.useManualTiming?pt.timestamp:performance.now()),Pu),set:t=>{Pu=t,queueMicrotask(H5)}},A2=t=>e=>typeof e=="string"&&e.startsWith(t),_0=A2("--"),W5=A2("var(--"),w0=t=>W5(t)?G5.test(t.split("/*")[0].trim()):!1,G5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bl={...Wo,transform:t=>jr(0,1,t)},iu={...Wo,default:1},nl=t=>Math.round(t*1e5)/1e5,x0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function K5(t){return t==null}const q5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E0=(t,e)=>n=>!!(typeof n=="string"&&q5.test(n)&&n.startsWith(t)||e&&!K5(n)&&Object.prototype.hasOwnProperty.call(n,e)),R2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(x0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Y5=t=>jr(0,255,t),Wf={...Wo,transform:t=>Math.round(Y5(t))},rs={test:E0("rgb","red"),parse:R2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wf.transform(t)+", "+Wf.transform(e)+", "+Wf.transform(n)+", "+nl(Bl.transform(r))+")"};function X5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Dm={test:E0("#"),parse:X5,transform:rs.transform},vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yr=vc("deg"),sr=vc("%"),te=vc("px"),Q5=vc("vh"),J5=vc("vw"),Ox={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},Qs={test:E0("hsl","hue"),parse:R2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+sr.transform(nl(e))+", "+sr.transform(nl(n))+", "+nl(Bl.transform(r))+")"},Ye={test:t=>rs.test(t)||Dm.test(t)||Qs.test(t),parse:t=>rs.test(t)?rs.parse(t):Qs.test(t)?Qs.parse(t):Dm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rs.transform(t):Qs.transform(t),getAnimatableNone:t=>{const e=Ye.parse(t);return e.alpha=0,Ye.transform(e)}},Z5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(x0))==null?void 0:e.length)||0)+(((n=t.match(Z5))==null?void 0:n.length)||0)>0}const D2="number",M2="color",tF="var",nF="var(",jx="${}",rF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(rF,l=>(Ye.test(l)?(r.color.push(s),i.push(M2),n.push(Ye.parse(l))):l.startsWith(nF)?(r.var.push(s),i.push(tF),n.push(l)):(r.number.push(s),i.push(D2),n.push(parseFloat(l))),++s,jx)).split(jx);return{values:n,split:a,indexes:r,types:i}}function L2(t){return zl(t).values}function O2(t){const{split:e,types:n}=zl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===D2?s+=nl(i[o]):a===M2?s+=Ye.transform(i[o]):s+=i[o]}return s}}const iF=t=>typeof t=="number"?0:Ye.test(t)?Ye.getAnimatableNone(t):t;function sF(t){const e=L2(t);return O2(t)(e.map(iF))}const Pi={test:eF,parse:L2,createTransformer:O2,getAnimatableNone:sF};function Gf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Gf(l,a,t+1/3),s=Gf(l,a,t),o=Gf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Mh(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,Kf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},aF=[Dm,rs,Qs],lF=t=>aF.find(e=>e.test(t));function Fx(t){const e=lF(t);if(!e)return!1;let n=e.parse(t);return e===Qs&&(n=oF(n)),n}const Vx=(t,e)=>{const n=Fx(t),r=Fx(e);if(!n||!r)return Mh(t,e);const i={...n};return s=>(i.red=Kf(n.red,r.red,s),i.green=Kf(n.green,r.green,s),i.blue=Kf(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),rs.transform(i))},Mm=new Set(["none","hidden"]);function cF(t,e){return Mm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uF(t,e){return n=>je(t,e,n)}function S0(t){return typeof t=="number"?uF:typeof t=="string"?w0(t)?Mh:Ye.test(t)?Vx:fF:Array.isArray(t)?j2:typeof t=="object"?Ye.test(t)?Vx:hF:Mh}function j2(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>S0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function hF(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=S0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function dF(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const fF=(t,e)=>{const n=Pi.createTransformer(e),r=zl(t),i=zl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Mm.has(t)&&!i.values.length||Mm.has(e)&&!r.values.length?cF(t,e):gc(j2(dF(r,i),i.values),n):Mh(t,e)};function F2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):S0(t)(t,e)}const pF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>De.update(e,n),stop:()=>Ni(e),now:()=>pt.isProcessing?pt.timestamp:Wt.now()}},V2=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Lh=2e4;function b0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Lh;)e+=n,r=t.next(e);return e>=Lh?1/0:e}function mF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(b0(r),Lh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ir(i)}}const gF=5;function U2(t,e,n){const r=Math.max(e-gF,0);return _2(n-t(r),e-r)}const Ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qf=.001;function yF({duration:t=Ue.duration,bounce:e=Ue.bounce,velocity:n=Ue.velocity,mass:r=Ue.mass}){let i,s,o=1-e;o=jr(Ue.minDamping,Ue.maxDamping,o),t=jr(Ue.minDuration,Ue.maxDuration,ir(t)),o<1?(i=u=>{const h=u*o,d=h*t,p=h-n,y=Lm(u,o),E=Math.exp(-d);return qf-p/y*E},s=u=>{const d=u*o*t,p=d*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-d),C=Lm(Math.pow(u,2),o);return(-i(u)+qf>0?-1:1)*((p-y)*E)/C}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-qf+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=_F(i,s,a);if(t=rr(t),isNaN(l))return{stiffness:Ue.stiffness,damping:Ue.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const vF=12;function _F(t,e,n){let r=n;for(let i=1;i<vF;i++)r=r-t(r)/e(r);return r}function Lm(t,e){return t*Math.sqrt(1-e*e)}const wF=["duration","bounce"],xF=["stiffness","damping","mass"];function Ux(t,e){return e.some(n=>t[n]!==void 0)}function EF(t){let e={velocity:Ue.velocity,stiffness:Ue.stiffness,damping:Ue.damping,mass:Ue.mass,isResolvedFromDuration:!1,...t};if(!Ux(t,xF)&&Ux(t,wF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*jr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ue.mass,stiffness:i,damping:s}}else{const n=yF(t);e={...e,...n,mass:Ue.mass},e.isResolvedFromDuration=!0}return e}function Oh(t=Ue.visualDuration,e=Ue.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:d,velocity:p,isResolvedFromDuration:y}=EF({...n,velocity:-ir(n.velocity||0)}),E=p||0,C=u/(2*Math.sqrt(l*h)),P=o-s,w=ir(Math.sqrt(l/h)),v=Math.abs(P)<5;r||(r=v?Ue.restSpeed.granular:Ue.restSpeed.default),i||(i=v?Ue.restDelta.granular:Ue.restDelta.default);let x;if(C<1){const L=Lm(w,C);x=O=>{const b=Math.exp(-C*w*O);return o-b*((E+C*w*P)/L*Math.sin(L*O)+P*Math.cos(L*O))}}else if(C===1)x=L=>o-Math.exp(-w*L)*(P+(E+w*P)*L);else{const L=w*Math.sqrt(C*C-1);x=O=>{const b=Math.exp(-C*w*O),_=Math.min(L*O,300);return o-b*((E+C*w*P)*Math.sinh(_)+L*P*Math.cosh(_))/L}}const D={calculatedDuration:y&&d||null,next:L=>{const O=x(L);if(y)a.done=L>=d;else{let b=L===0?E:0;C<1&&(b=L===0?rr(E):U2(x,L,O));const _=Math.abs(b)<=r,T=Math.abs(o-O)<=i;a.done=_&&T}return a.value=a.done?o:O,a},toString:()=>{const L=Math.min(b0(D),Lh),O=V2(b=>D.next(L*b).value,L,30);return L+"ms "+O},toTransition:()=>{}};return D}Oh.applyToOptions=t=>{const e=mF(t,100,Oh);return t.ease=e.ease,t.duration=rr(e.duration),t.type="keyframes",t};function Om({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},y=_=>a!==void 0&&_<a||l!==void 0&&_>l,E=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let C=n*e;const P=d+C,w=o===void 0?P:o(P);w!==P&&(C=w-d);const v=_=>-C*Math.exp(-_/r),x=_=>w+v(_),D=_=>{const T=v(_),N=x(_);p.done=Math.abs(T)<=u,p.value=p.done?w:N};let L,O;const b=_=>{y(p.value)&&(L=_,O=Oh({keyframes:[p.value,E(p.value)],velocity:U2(x,_,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return b(0),{calculatedDuration:null,next:_=>{let T=!1;return!O&&L===void 0&&(T=!0,D(_),b(_)),L!==void 0&&_>=L?O.next(_-L):(!T&&D(_),p)}}}function SF(t,e,n){const r=[],i=n||Fr.mix||F2,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||gn:e;a=gc(l,a)}r.push(a)}return r}function bF(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Dh(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=SF(e,r,i),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const p=$l(t[d],t[d+1],h);return a[d](p)};return n?h=>u(jr(t[0],t[s-1],h)):u}function TF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=$l(0,e,r);t.push(je(n,1,i))}}function CF(t){const e=[0];return TF(e,t.length-1),e}function kF(t,e){return t.map(n=>n*e)}function IF(t,e){return t.map(()=>e||I2).splice(0,t.length-1)}function rl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=U5(r)?r.map(Mx):Mx(r),s={done:!1,value:e[0]},o=kF(n&&n.length===e.length?n:CF(e),t),a=bF(o,e,{ease:Array.isArray(i)?i:IF(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const NF=t=>t!==null;function T0(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(NF),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const PF={decay:Om,inertia:Om,tween:rl,keyframes:rl,spring:Oh};function $2(t){typeof t.type=="string"&&(t.type=PF[t.type])}class C0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const AF=t=>t/100;class k0 extends C0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Wt.now()&&this.tick(Wt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$2(e);const{type:n=rl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||rl;l!==rl&&typeof a[0]!="number"&&(this.mixKeyframes=gc(AF,F2(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=b0(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:p,repeatDelay:y,type:E,onUpdate:C,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,D=r;if(d){const _=Math.min(this.currentTime,i)/a;let T=Math.floor(_),N=_%1;!N&&_>=1&&(N=1),N===1&&T--,T=Math.min(T,d+1),!!(T%2)&&(p==="reverse"?(N=1-N,y&&(N-=y/a)):p==="mirror"&&(D=o)),x=jr(0,1,N)*a}const L=v?{done:!1,value:h[0]}:D.next(x);s&&(L.value=s(L.value));let{done:O}=L;!v&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return b&&E!==Om&&(L.value=T0(h,this.options,P,this.speed)),C&&C(L.value),b&&this.finish(),L}then(e,n){return this.finished.then(e,n)}get duration(){return ir(this.calculatedDuration)}get time(){return ir(this.currentTime)}set time(e){var n;e=rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ir(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=pF,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function RF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const is=t=>t*180/Math.PI,jm=t=>{const e=is(Math.atan2(t[1],t[0]));return Fm(e)},DF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jm,rotateZ:jm,skewX:t=>is(Math.atan(t[1])),skewY:t=>is(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fm=t=>(t=t%360,t<0&&(t+=360),t),$x=jm,Bx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),MF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Bx,scaleY:zx,scale:t=>(Bx(t)+zx(t))/2,rotateX:t=>Fm(is(Math.atan2(t[6],t[5]))),rotateY:t=>Fm(is(Math.atan2(-t[2],t[0]))),rotateZ:$x,rotate:$x,skewX:t=>is(Math.atan(t[4])),skewY:t=>is(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vm(t){return t.includes("scale")?1:0}function Um(t,e){if(!t||t==="none")return Vm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=MF,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DF,i=a}if(!i)return Vm(e);const s=r[e],o=i[1].split(",").map(OF);return typeof s=="function"?s(o):o[s]}const LF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Um(n,e)};function OF(t){return parseFloat(t.trim())}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(Go),Hx=t=>t===Wo||t===te,jF=new Set(["x","y","z"]),FF=Go.filter(t=>!jF.has(t));function VF(t){const e=[];return FF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const hs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Um(e,"x"),y:(t,{transform:e})=>Um(e,"y")};hs.translateX=hs.x;hs.translateY=hs.y;const ds=new Set;let $m=!1,Bm=!1,zm=!1;function B2(){if(Bm){const t=Array.from(ds).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=VF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bm=!1,$m=!1,ds.forEach(t=>t.complete(zm)),ds.clear()}function z2(){ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bm=!0)})}function UF(){zm=!0,z2(),B2(),zm=!1}class I0{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ds.add(this),$m||($m=!0,De.read(z2),De.resolveKeyframes(B2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}RF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ds.delete(this)}cancel(){this.state==="scheduled"&&(ds.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $F=t=>t.startsWith("--");function BF(t,e,n){$F(e)?t.style.setProperty(e,n):t.style[e]=n}const zF=m0(()=>window.ScrollTimeline!==void 0),HF={};function WF(t,e){const n=m0(t);return()=>HF[e]??n()}const H2=WF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Wx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oa([0,.65,.55,1]),circOut:Oa([.55,0,1,.45]),backIn:Oa([.31,.01,.66,-.59]),backOut:Oa([.33,1.53,.69,.99])};function W2(t,e){if(t)return typeof t=="function"?H2()?V2(t,e):"ease-out":N2(t)?Oa(t):Array.isArray(t)?t.map(n=>W2(n,e)||Wx.easeOut):Wx[t]}function GF(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:n};l&&(h.offset=l);const d=W2(a,i);Array.isArray(d)&&(h.easing=d);const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(h,p)}function G2(t){return typeof t=="function"&&"applyToOptions"in t}function KF({type:t,...e}){return G2(t)&&H2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qF extends C0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Dh(typeof e.type!="string");const u=KF(e);this.animation=GF(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=T0(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):BF(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ir(Number(e))}get time(){return ir(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&zF()?(this.animation.timeline=e,gn):n(this)}}const K2={anticipate:T2,backInOut:b2,circInOut:k2};function YF(t){return t in K2}function XF(t){typeof t.ease=="string"&&YF(t.ease)&&(t.ease=K2[t.ease])}const Gx=10;class QF extends qF{constructor(e){XF(e),$2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new k0({...o,autoplay:!1}),l=rr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Gx).value,a.sample(l).value,Gx),a.stop()}}const Kx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pi.test(t)||t==="0")&&!t.startsWith("url("));function JF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ZF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Kx(i,e),a=Kx(s,e);return!o||!a?!1:JF(t)||(n==="spring"||G2(n))&&r}function Hm(t){t.duration=0,t.type}const eV=new Set(["opacity","clipPath","filter","transform"]),tV=m0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nV(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return tV()&&n&&eV.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const rV=40;class iV extends C0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...d}){var E;super(),this.stop=()=>{var C,P;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Wt.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:h,...d},y=(h==null?void 0:h.KeyframeResolver)||I0;this.keyframeResolver=new y(a,(C,P,w)=>this.onKeyframesResolved(C,P,p,!w),l,u,h),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=Wt.now(),ZF(e,s,o,a)||((Fr.instantAnimations||!l)&&(h==null||h(T0(e,r,n))),e[0]=e[e.length-1],Hm(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>rV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!u&&nV(p)?new QF({...p,element:p.motionValue.owner.current}):new k0(p);y.finished.then(()=>this.notifyFinished()).catch(gn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),UF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const sV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oV(t){const e=sV.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function q2(t,e,n=1){const[r,i]=oV(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return g2(o)?parseFloat(o):o}return w0(i)?q2(i,e,n+1):i}function N0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Y2=new Set(["width","height","top","left","right","bottom",...Go]),aV={test:t=>t==="auto",parse:t=>t},X2=t=>e=>e.test(t),Q2=[Wo,te,sr,Yr,J5,Q5,aV],qx=t=>Q2.find(X2(t));function lV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||v2(t):!0}const cV=new Set(["brightness","contrast","saturate","opacity"]);function uV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(x0)||[];if(!r)return t;const i=n.replace(r,"");let s=cV.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const hV=/\b([a-z-]*)\(.*?\)/gu,Wm={...Pi,getAnimatableNone:t=>{const e=t.match(hV);return e?e.map(uV).join(" "):t}},Yx={...Wo,transform:Math.round},dV={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:iu,scaleX:iu,scaleY:iu,scaleZ:iu,skew:Yr,skewX:Yr,skewY:Yr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Bl,originX:Ox,originY:Ox,originZ:te},P0={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,backgroundPositionX:te,backgroundPositionY:te,...dV,zIndex:Yx,fillOpacity:Bl,strokeOpacity:Bl,numOctaves:Yx},fV={...P0,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:Wm,WebkitFilter:Wm},J2=t=>fV[t];function Z2(t,e){let n=J2(t);return n!==Wm&&(n=Pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pV=new Set(["auto","none","0"]);function mV(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!pV.has(s)&&zl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Z2(n,i)}class gV extends I0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),w0(u))){const h=q2(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Y2.has(r)||e.length!==2)return;const[i,s]=e,o=qx(i),a=qx(s);if(o!==a)if(Hx(o)&&Hx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else hs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||lV(e[i]))&&r.push(i);r.length&&mV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=hs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function yV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const ek=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function tk(t){return y2(t)&&"offsetHeight"in t}const Xx=30,vV=t=>!isNaN(parseFloat(t));class _V{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Wt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new g0);const r=this.events[e].add(n);return e==="change"?()=>{r(),De.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xx);return _2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ao(t,e){return new _V(t,e)}const{schedule:A0,cancel:a8}=P2(queueMicrotask,!1),En={x:!1,y:!1};function nk(){return En.x||En.y}function wV(t){return t==="x"||t==="y"?En[t]?null:(En[t]=!0,()=>{En[t]=!1}):En.x||En.y?null:(En.x=En.y=!0,()=>{En.x=En.y=!1})}function rk(t,e){const n=yV(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Qx(t){return!(t.pointerType==="touch"||nk())}function xV(t,e,n={}){const[r,i,s]=rk(t,n),o=a=>{if(!Qx(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=d=>{Qx(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const ik=(t,e)=>e?t===e?!0:ik(t,e.parentElement):!1,R0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,EV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SV(t){return EV.has(t.tagName)||t.tabIndex!==-1}const Au=new WeakSet;function Jx(t){return e=>{e.key==="Enter"&&t(e)}}function Yf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Jx(()=>{if(Au.has(n))return;Yf(n,"down");const i=Jx(()=>{Yf(n,"up")}),s=()=>Yf(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Zx(t){return R0(t)&&!nk()}function TV(t,e,n={}){const[r,i,s]=rk(t,n),o=a=>{const l=a.currentTarget;if(!Zx(a))return;Au.add(l);const u=e(l,a),h=(y,E)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),Au.has(l)&&Au.delete(l),Zx(y)&&typeof u=="function"&&u(y,{success:E})},d=y=>{h(y,l===window||l===document||n.useGlobalTarget||ik(l,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),tk(a)&&(a.addEventListener("focus",u=>bV(u,i)),!SV(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function sk(t){return y2(t)&&"ownerSVGElement"in t}function CV(t){return sk(t)&&t.tagName==="svg"}const St=t=>!!(t&&t.getVelocity),kV=[...Q2,Ye,Pi],IV=t=>kV.find(X2(t)),D0=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function e1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NV(...t){return e=>{let n=!1;const r=t.map(i=>{const s=e1(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():e1(t[i],null)}}}}function PV(...t){return I.useCallback(NV(...t),t)}class AV extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=tk(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RV({children:t,isPresent:e,anchorX:n,root:r}){const i=I.useId(),s=I.useRef(null),o=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=I.useContext(D0),l=PV(s,t==null?void 0:t.ref);return I.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:p,right:y}=o.current;if(e||!s.current||!u||!h)return;const E=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const C=document.createElement("style");a&&(C.nonce=a);const P=r??document.head;return P.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${E}px !important;
            top: ${d}px !important;
          }
        `),()=>{P.contains(C)&&P.removeChild(C)}},[e]),f.jsx(AV,{isPresent:e,childRef:s,sizeRef:o,children:I.cloneElement(t,{ref:l})})}const DV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=h0(MV),h=I.useId();let d=!0,p=I.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:y=>{u.set(y,!0);for(const E of u.values())if(!E)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[n,u,r]);return s&&d&&(p={...p}),I.useMemo(()=>{u.forEach((y,E)=>u.set(E,!1))},[n]),I.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(RV,{isPresent:n,anchorX:a,root:l,children:t})),f.jsx(Nd.Provider,{value:p,children:t})};function MV(){return new Map}function ok(t=!0){const e=I.useContext(Nd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=I.useId();I.useEffect(()=>{if(t)return i(s)},[t]);const o=I.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const su=t=>t.key||"";function t1(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const n1=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=ok(o),d=I.useMemo(()=>t1(t),[t]),p=o&&!u?[]:d.map(su),y=I.useRef(!0),E=I.useRef(d),C=h0(()=>new Map),[P,w]=I.useState(d),[v,x]=I.useState(d);m2(()=>{y.current=!1,E.current=d;for(let O=0;O<v.length;O++){const b=su(v[O]);p.includes(b)?C.delete(b):C.get(b)!==!0&&C.set(b,!1)}},[v,p.length,p.join("-")]);const D=[];if(d!==P){let O=[...d];for(let b=0;b<v.length;b++){const _=v[b],T=su(_);p.includes(T)||(O.splice(b,0,_),D.push(_))}return s==="wait"&&D.length&&(O=D),x(t1(O)),w(d),null}const{forceRender:L}=I.useContext(u0);return f.jsx(f.Fragment,{children:v.map(O=>{const b=su(O),_=o&&!u?!1:d===v||p.includes(b),T=()=>{if(C.has(b))C.set(b,!0);else return;let N=!0;C.forEach(R=>{R||(N=!1)}),N&&(L==null||L(),x(E.current),o&&(h==null||h()),r&&r())};return f.jsx(DV,{isPresent:_,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:_?void 0:T,anchorX:a,children:O},b)})})},ak=I.createContext({strict:!1}),r1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ro={};for(const t in r1)Ro[t]={isEnabled:e=>r1[t].some(n=>!!e[n])};function LV(t){for(const e in t)Ro[e]={...Ro[e],...t[e]}}const OV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OV.has(t)}let lk=t=>!jh(t);function jV(t){typeof t=="function"&&(lk=e=>e.startsWith("on")?!jh(e):t(e))}try{jV(require("@emotion/is-prop-valid").default)}catch{}function FV(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(lk(i)||n===!0&&jh(i)||!e&&!jh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Pd=I.createContext({});function Ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hl(t){return typeof t=="string"||Array.isArray(t)}const M0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],L0=["initial",...M0];function Rd(t){return Ad(t.animate)||L0.some(e=>Hl(t[e]))}function ck(t){return!!(Rd(t)||t.variants)}function VV(t,e){if(Rd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Hl(n)?n:void 0,animate:Hl(r)?r:void 0}}return t.inherit!==!1?e:{}}function UV(t){const{initial:e,animate:n}=VV(t,I.useContext(Pd));return I.useMemo(()=>({initial:e,animate:n}),[i1(e),i1(n)])}function i1(t){return Array.isArray(t)?t.join(" "):t}const Wl={};function $V(t){for(const e in t)Wl[e]=t[e],_0(e)&&(Wl[e].isCSSVariable=!0)}function uk(t,{layout:e,layoutId:n}){return Ko.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wl[t]||t==="opacity")}const BV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zV=Go.length;function HV(t,e,n){let r="",i=!0;for(let s=0;s<zV;s++){const o=Go[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=ek(a,P0[o]);if(!l){i=!1;const h=BV[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function O0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Ko.has(l)){o=!0;continue}else if(_0(l)){i[l]=u;continue}else{const h=ek(u,P0[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=HV(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const j0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hk(t,e,n){for(const r in e)!St(e[r])&&!uk(r,n)&&(t[r]=e[r])}function WV({transformTemplate:t},e){return I.useMemo(()=>{const n=j0();return O0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GV(t,e){const n=t.style||{},r={};return hk(r,n,t),Object.assign(r,WV(t,e)),r}function KV(t,e){const n={},r=GV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const qV={offset:"stroke-dashoffset",array:"stroke-dasharray"},YV={offset:"strokeDashoffset",array:"strokeDasharray"};function XV(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?qV:YV;t[s.offset]=te.transform(-r);const o=te.transform(e),a=te.transform(n);t[s.array]=`${o} ${a}`}function dk(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,h){if(O0(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p}=t;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&XV(d,i,s,o,!1)}const fk=()=>({...j0(),attrs:{}}),pk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QV(t,e,n,r){const i=I.useMemo(()=>{const s=fk();return dk(s,e,pk(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};hk(s,t.style,t),i.style={...s,...i.style}}return i}const JV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F0(t){return typeof t!="string"||t.includes("-")?!1:!!(JV.indexOf(t)>-1||/[A-Z]/u.test(t))}function ZV(t,e,n,{latestValues:r},i,s=!1){const a=(F0(t)?QV:KV)(e,r,i,t),l=FV(e,typeof t=="string",s),u=t!==I.Fragment?{...l,...a,ref:n}:{},{children:h}=e,d=I.useMemo(()=>St(h)?h.get():h,[h]);return I.createElement(t,{...u,children:d})}function s1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function V0(t,e,n,r){if(typeof e=="function"){const[i,s]=s1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=s1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Ru(t){return St(t)?t.get():t}function e9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:t9(n,r,i,t),renderState:e()}}function t9(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Ru(s[p]);let{initial:o,animate:a}=t;const l=Rd(t),u=ck(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!Ad(d)){const p=Array.isArray(d)?d:[d];for(let y=0;y<p.length;y++){const E=V0(t,p[y]);if(E){const{transitionEnd:C,transition:P,...w}=E;for(const v in w){let x=w[v];if(Array.isArray(x)){const D=h?x.length-1:0;x=x[D]}x!==null&&(i[v]=x)}for(const v in C)i[v]=C[v]}}}return i}const mk=t=>(e,n)=>{const r=I.useContext(Pd),i=I.useContext(Nd),s=()=>e9(t,e,r,i);return n?s():h0(s)};function U0(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(St(r[o])||e.style&&St(e.style[o])||uk(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const n9=mk({scrapeMotionValuesFromProps:U0,createRenderState:j0});function gk(t,e,n){const r=U0(t,e,n);for(const i in t)if(St(t[i])||St(e[i])){const s=Go.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const r9=mk({scrapeMotionValuesFromProps:gk,createRenderState:fk}),i9=Symbol.for("motionComponentSymbol");function Js(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function s9(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Js(n)&&(n.current=r))},[e])}const $0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o9="framerAppearId",yk="data-"+$0(o9),vk=I.createContext({});function a9(t,e,n,r,i){var C,P;const{visualElement:s}=I.useContext(Pd),o=I.useContext(ak),a=I.useContext(Nd),l=I.useContext(D0).reducedMotion,u=I.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,d=I.useContext(vk);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&l9(u.current,n,i,d);const p=I.useRef(!1);I.useInsertionEffect(()=>{h&&p.current&&h.update(n,a)});const y=n[yk],E=I.useRef(!!y&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,y))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,y)));return m2(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),E.current&&h.animationState&&h.animationState.animateChanges())}),I.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),E.current=!1),h.enteringChildren=void 0)}),h}function l9(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_k(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Js(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function _k(t){if(t)return t.options.allowProjection!==!1?t.projection:_k(t.parent)}function Xf(t,{forwardMotionProps:e=!1}={},n,r){n&&LV(n);const i=F0(t)?r9:n9;function s(a,l){let u;const h={...I.useContext(D0),...a,layoutId:c9(a)},{isStatic:d}=h,p=UV(a),y=i(a,d);if(!d&&d0){u9();const E=h9(h);u=E.MeasureLayout,p.visualElement=a9(t,y,h,r,E.ProjectionNode)}return f.jsxs(Pd.Provider,{value:p,children:[u&&p.visualElement?f.jsx(u,{visualElement:p.visualElement,...h}):null,ZV(t,a,s9(y,p.visualElement,l),y,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=I.forwardRef(s);return o[i9]=t,o}function c9({layoutId:t}){const e=I.useContext(u0).id;return e&&t!==void 0?e+"-"+t:t}function u9(t,e){I.useContext(ak).strict}function h9(t){const{drag:e,layout:n}=Ro;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function d9(t,e){if(typeof Proxy>"u")return Xf;const n=new Map,r=(s,o)=>Xf(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Xf(o,void 0,t,e)),n.get(o))})}function wk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function f9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qf(t){return t===void 0||t===1}function Gm({scale:t,scaleX:e,scaleY:n}){return!Qf(t)||!Qf(e)||!Qf(n)}function Yi(t){return Gm(t)||xk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xk(t){return o1(t.x)||o1(t.y)}function o1(t){return t&&t!=="0%"}function Fh(t,e,n){const r=t-n,i=e*r;return n+i}function a1(t,e,n,r,i){return i!==void 0&&(t=Fh(t,i,r)),Fh(t,n,r)+e}function Km(t,e=0,n=1,r,i){t.min=a1(t.min,e,n,r,i),t.max=a1(t.max,e,n,r,i)}function Ek(t,{x:e,y:n}){Km(t.x,e.translate,e.scale,e.originPoint),Km(t.y,n.translate,n.scale,n.originPoint)}const l1=.999999999999,c1=1.0000000000001;function m9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&eo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ek(t,o)),r&&Yi(s.latestValues)&&eo(t,s.latestValues))}e.x<c1&&e.x>l1&&(e.x=1),e.y<c1&&e.y>l1&&(e.y=1)}function Zs(t,e){t.min=t.min+e,t.max=t.max+e}function u1(t,e,n,r,i=.5){const s=je(t.min,t.max,i);Km(t,e,n,s,r)}function eo(t,e){u1(t.x,e.x,e.scaleX,e.scale,e.originX),u1(t.y,e.y,e.scaleY,e.scale,e.originY)}function Sk(t,e){return wk(p9(t.getBoundingClientRect(),e))}function g9(t,e,n){const r=Sk(t,n),{scroll:i}=e;return i&&(Zs(r.x,i.offset.x),Zs(r.y,i.offset.y)),r}const h1=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:h1(),y:h1()}),d1=()=>({min:0,max:0}),Ge=()=>({x:d1(),y:d1()}),qm={current:null},bk={current:!1};function y9(){if(bk.current=!0,!!d0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qm.current=t.matches;t.addEventListener("change",e),e()}else qm.current=!1}const v9=new WeakMap;function _9(t,e,n){for(const r in e){const i=e[r],s=n[r];if(St(i))t.addValue(r,i);else if(St(s))t.addValue(r,Ao(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ao(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const f1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=I0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Wt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,De.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Rd(n),this.isVariantNode=ck(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const y=d[p];l[p]!==void 0&&St(y)&&y.set(l[p])}}mount(e){var n;this.current=e,v9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),bk.current||y9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ko.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&De.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ro){const n=Ro[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<f1.length;r++){const i=f1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=_9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ao(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(g2(r)||v2(r))?r=parseFloat(r):!IV(r)&&Pi.test(n)&&(r=Z2(e,n)),this.setBaseTarget(e,St(r)?r.get():r)),St(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=V0(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!St(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new g0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){A0.render(this.render)}}class Tk extends w9{constructor(){super(...arguments),this.KeyframeResolver=gV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ck(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function x9(t){return window.getComputedStyle(t)}class E9 extends Tk{constructor(){super(...arguments),this.type="html",this.renderInstance=Ck}readValueFromInstance(e,n){var r;if(Ko.has(n))return(r=this.projection)!=null&&r.isProjecting?Vm(n):LF(e,n);{const i=x9(e),s=(_0(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Sk(e,n)}build(e,n,r){O0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return U0(e,n,r)}}const kk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S9(t,e,n,r){Ck(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kk.has(i)?i:$0(i),e.attrs[i])}class b9 extends Tk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ko.has(n)){const r=J2(n);return r&&r.default||0}return n=kk.has(n)?n:$0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gk(e,n,r)}build(e,n,r){dk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){S9(e,n,r,i)}mount(e){this.isSVGTag=pk(e.tagName),super.mount(e)}}const T9=(t,e)=>F0(t)?new b9(e):new E9(e,{allowProjection:t!==I.Fragment});function mo(t,e,n){const r=t.getProps();return V0(r,e,n!==void 0?n:r.custom,t)}const Ym=t=>Array.isArray(t);function C9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ao(n))}function k9(t){return Ym(t)?t[t.length-1]||0:t}function I9(t,e){const n=mo(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=k9(s[o]);C9(t,o,a)}}function N9(t){return!!(St(t)&&t.add)}function Xm(t,e){const n=t.getValue("willChange");if(N9(n))return n.add(e);if(!n&&Fr.WillChange){const r=new Fr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Ik(t){return t.props[yk]}const P9=t=>t!==null;function A9(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(P9),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const R9={type:"spring",stiffness:500,damping:25,restSpeed:10},D9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),M9={type:"keyframes",duration:.8},L9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O9=(t,{keyframes:e})=>e.length>2?M9:Ko.has(t)?t.startsWith("scale")?D9(e[1]):R9:L9;function j9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const B0=(t,e,n,r={},i,s)=>o=>{const a=N0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-rr(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};j9(a)||Object.assign(h,O9(t,h)),h.duration&&(h.duration=rr(h.duration)),h.repeatDelay&&(h.repeatDelay=rr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Hm(h),h.delay===0&&(d=!0)),(Fr.instantAnimations||Fr.skipAnimations)&&(d=!0,Hm(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const p=A9(h.keyframes,a);if(p!==void 0){De.update(()=>{h.onUpdate(p),h.onComplete()});return}}return a.isSync?new k0(h):new iV(h)};function F9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Nk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),p=a[h];if(p===void 0||u&&F9(u,h))continue;const y={delay:n,...N0(s||{},h)},E=d.get();if(E!==void 0&&!d.isAnimating&&!Array.isArray(p)&&p===E&&!y.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const w=Ik(t);if(w){const v=window.MotionHandoffAnimation(w,h,De);v!==null&&(y.startTime=v,C=!0)}}Xm(t,h),d.start(B0(h,d,p,t.shouldReduceMotion&&Y2.has(h)?{type:!1}:y,t,C));const P=d.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{De.update(()=>{o&&I9(t,o)})}),l}function Pk(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Qm(t,e,n={}){var l;const r=mo(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Nk(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=i;return V9(t,e,u,h,d,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,h]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function V9(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Qm(l,e,{...o,delay:n+(typeof r=="function"?0:r)+Pk(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function U9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Qm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Qm(t,e,n);else{const i=typeof e=="function"?mo(t,e,n.custom):e;r=Promise.all(Nk(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Ak(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $9=L0.length;function Rk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Rk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$9;n++){const r=L0[n],i=t.props[r];(Hl(i)||i===!1)&&(e[r]=i)}return e}const B9=[...M0].reverse(),z9=M0.length;function H9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>U9(t,n,r)))}function W9(t){let e=H9(t),n=p1(),r=!0;const i=l=>(u,h)=>{var p;const d=mo(t,h,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:y,transitionEnd:E,...C}=d;u={...u,...C,...E}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,h=Rk(t.parent)||{},d=[],p=new Set;let y={},E=1/0;for(let P=0;P<z9;P++){const w=B9[P],v=n[w],x=u[w]!==void 0?u[w]:h[w],D=Hl(x),L=w===l?v.isActive:null;L===!1&&(E=P);let O=x===h[w]&&x!==u[w]&&D;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),v.protectedKeys={...y},!v.isActive&&L===null||!x&&!v.prevProp||Ad(x)||typeof x=="boolean")continue;const b=G9(v.prevProp,x);let _=b||w===l&&v.isActive&&!O&&D||P>E&&D,T=!1;const N=Array.isArray(x)?x:[x];let R=N.reduce(i(w),{});L===!1&&(R={});const{prevResolvedValues:M={}}=v,k={...M,...R},re=ue=>{_=!0,p.has(ue)&&(T=!0,p.delete(ue)),v.needsAnimating[ue]=!0;const z=t.getValue(ue);z&&(z.liveStyle=!1)};for(const ue in k){const z=R[ue],X=M[ue];if(y.hasOwnProperty(ue))continue;let Z=!1;Ym(z)&&Ym(X)?Z=!Ak(z,X):Z=z!==X,Z?z!=null?re(ue):p.add(ue):z!==void 0&&p.has(ue)?re(ue):v.protectedKeys[ue]=!0}v.prevProp=x,v.prevResolvedValues=R,v.isActive&&(y={...y,...R}),r&&t.blockInitialAnimation&&(_=!1);const xe=O&&b;_&&(!xe||T)&&d.push(...N.map(ue=>{const z={type:w};if(typeof ue=="string"&&r&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,Z=mo(X,ue);if(X.enteringChildren&&Z){const{delayChildren:_e}=Z.transition||{};z.delay=Pk(X.enteringChildren,t,_e)}}return{animation:ue,options:z}}))}if(p.size){const P={};if(typeof u.initial!="boolean"){const w=mo(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(P.transition=w.transition)}p.forEach(w=>{const v=t.getBaseTarget(w),x=t.getValue(w);x&&(x.liveStyle=!0),P[w]=v??null}),d.push({animation:P})}let C=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=p1(),r=!0}}}function G9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ak(e,t):!1}function Hi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p1(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class Fi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class K9 extends Fi{constructor(e){super(e),e.animationState||(e.animationState=W9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ad(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let q9=0;class Y9 extends Fi{constructor(){super(...arguments),this.id=q9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const X9={animation:{Feature:K9},exit:{Feature:Y9}};function Gl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function _c(t){return{point:{x:t.pageX,y:t.pageY}}}const Q9=t=>e=>R0(e)&&t(e,_c(e));function il(t,e,n,r){return Gl(t,e,Q9(n),r)}const Dk=1e-4,J9=1-Dk,Z9=1+Dk,Mk=.01,eU=0-Mk,tU=0+Mk;function At(t){return t.max-t.min}function nU(t,e,n){return Math.abs(t-e)<=n}function m1(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=At(n)/At(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=J9&&t.scale<=Z9||isNaN(t.scale))&&(t.scale=1),(t.translate>=eU&&t.translate<=tU||isNaN(t.translate))&&(t.translate=0)}function sl(t,e,n,r){m1(t.x,e.x,n.x,r?r.originX:void 0),m1(t.y,e.y,n.y,r?r.originY:void 0)}function g1(t,e,n){t.min=n.min+e.min,t.max=t.min+At(e)}function rU(t,e,n){g1(t.x,e.x,n.x),g1(t.y,e.y,n.y)}function y1(t,e,n){t.min=e.min-n.min,t.max=t.min+At(e)}function ol(t,e,n){y1(t.x,e.x,n.x),y1(t.y,e.y,n.y)}function cn(t){return[t("x"),t("y")]}const Lk=({current:t})=>t?t.ownerDocument.defaultView:null,v1=(t,e)=>Math.abs(t-e);function iU(t,e){const n=v1(t.x,e.x),r=v1(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ok{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Zf(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,E=iU(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!E)return;const{point:C}=p,{timestamp:P}=pt;this.history.push({...C,timestamp:P});const{onStart:w,onMove:v}=this.handlers;y||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Jf(y,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Zf(p.type==="pointercancel"?this.lastMoveEventInfo:Jf(y,this.transformPagePoint),this.history);this.startEvent&&E&&E(p,w),C&&C(p,w)},!R0(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=_c(e),l=Jf(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=pt;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,Zf(l,this.history)),this.removeListeners=gc(il(this.contextWindow,"pointermove",this.handlePointerMove),il(this.contextWindow,"pointerup",this.handlePointerUp),il(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function Jf(t,e){return e?{point:e(t.point)}:t}function _1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zf({point:t},e){return{point:t,delta:_1(t,jk(e)),offset:_1(t,sU(e)),velocity:oU(e,.1)}}function sU(t){return t[0]}function jk(t){return t[t.length-1]}function oU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=jk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>rr(e)));)n--;if(!r)return{x:0,y:0};const s=ir(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function aU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function w1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lU(t,{top:e,left:n,bottom:r,right:i}){return{x:w1(t.x,n,i),y:w1(t.y,e,r)}}function x1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cU(t,e){return{x:x1(t.x,e.x),y:x1(t.y,e.y)}}function uU(t,e){let n=.5;const r=At(t),i=At(e);return i>r?n=$l(e.min,e.max-r,t.min):r>i&&(n=$l(t.min,t.max-i,e.min)),jr(0,1,n)}function hU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jm=.35;function dU(t=Jm){return t===!1?t=0:t===!0&&(t=Jm),{x:E1(t,"left","right"),y:E1(t,"top","bottom")}}function E1(t,e,n){return{min:S1(t,e),max:S1(t,n)}}function S1(t,e){return typeof t=="number"?t:t[e]||0}const fU=new WeakMap;class pU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_c(d).point)},o=(d,p)=>{const{drag:y,dragPropagation:E,onDragStart:C}=this.getProps();if(y&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wV(y),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(w=>{let v=this.getAxisMotionValue(w).get()||0;if(sr.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const D=x.layout.layoutBox[w];D&&(v=At(D)*(parseFloat(v)/100))}}this.originPoint[w]=v}),C&&De.postRender(()=>C(d,p)),Xm(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},a=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:E,onDirectionLock:C,onDrag:P}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:w}=p;if(E&&this.currentDirection===null){this.currentDirection=mU(w),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),P&&P(d,p)},l=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p,this.stop(d,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>cn(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Ok(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:Lk(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&De.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ou(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=aU(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Js(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lU(r.layoutBox,e):this.constraints=!1,this.elastic=dU(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hU(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Js(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=g9(r,i.root,this.visualElement.getTransformPagePoint());let o=cU(i.layout.layoutBox,s);if(n){const a=n(f9(o));this.hasMutatedConstraints=!!a,a&&(o=wk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=cn(h=>{if(!ou(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Xm(this.visualElement,e),r.start(B0(e,r,0,n,this.visualElement,!1))}stopAnimation(){cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cn(n=>{const{drag:r}=this.getProps();if(!ou(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Js(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};cn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=uU({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cn(o=>{if(!ou(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(je(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;fU.set(this.visualElement,this);const e=this.visualElement.current,n=il(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Js(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),De.read(r);const o=Gl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(cn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Jm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ou(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gU extends Fi{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new pU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const b1=t=>(e,n)=>{t&&De.postRender(()=>t(e,n))};class yU extends Fi{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new Ok(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:b1(e),onStart:b1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&De.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=il(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function T1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ia={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=T1(t,e.target.x),r=T1(t,e.target.y);return`${n}% ${r}%`}},vU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Pi.parse(t);if(i.length>5)return r;const s=Pi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let ep=!1;class _U extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;$V(wU),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),ep&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Du.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,ep=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||De.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),A0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;ep=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fk(t){const[e,n]=ok(),r=I.useContext(u0);return f.jsx(_U,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(vk),isPresent:e,safeToRemove:n})}const wU={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:vU};function xU(t,e,n){const r=St(t)?t:Ao(t);return r.start(B0("",r,e,n)),r.animation}const EU=(t,e)=>t.depth-e.depth;class SU{constructor(){this.children=[],this.isDirty=!1}add(e){f0(this.children,e),this.isDirty=!0}remove(e){p0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EU),this.isDirty=!1,this.children.forEach(e)}}function bU(t,e){const n=Wt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ni(r),t(s-e))};return De.setup(r,!0),()=>Ni(r)}const Vk=["TopLeft","TopRight","BottomLeft","BottomRight"],TU=Vk.length,C1=t=>typeof t=="string"?parseFloat(t):t,k1=t=>typeof t=="number"||te.test(t);function CU(t,e,n,r,i,s){i?(t.opacity=je(0,n.opacity??1,kU(r)),t.opacityExit=je(e.opacity??1,0,IU(r))):s&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<TU;o++){const a=`border${Vk[o]}Radius`;let l=I1(e,a),u=I1(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||k1(l)===k1(u)?(t[a]=Math.max(je(C1(l),C1(u),r),0),(sr.test(u)||sr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function I1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kU=Uk(0,.5,C2),IU=Uk(.5,.95,gn);function Uk(t,e,n){return r=>r<t?0:r>e?1:n($l(t,e,r))}function N1(t,e){t.min=e.min,t.max=e.max}function ln(t,e){N1(t.x,e.x),N1(t.y,e.y)}function P1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function A1(t,e,n,r,i){return t-=e,t=Fh(t,1/n,r),i!==void 0&&(t=Fh(t,1/i,r)),t}function NU(t,e=0,n=1,r=.5,i,s=t,o=t){if(sr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(s.min,s.max,r);t===s&&(a-=e),t.min=A1(t.min,e,n,a,i),t.max=A1(t.max,e,n,a,i)}function R1(t,e,[n,r,i],s,o){NU(t,e[n],e[r],e[i],e.scale,s,o)}const PU=["x","scaleX","originX"],AU=["y","scaleY","originY"];function D1(t,e,n,r){R1(t.x,e,PU,n?n.x:void 0,r?r.x:void 0),R1(t.y,e,AU,n?n.y:void 0,r?r.y:void 0)}function M1(t){return t.translate===0&&t.scale===1}function $k(t){return M1(t.x)&&M1(t.y)}function L1(t,e){return t.min===e.min&&t.max===e.max}function RU(t,e){return L1(t.x,e.x)&&L1(t.y,e.y)}function O1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bk(t,e){return O1(t.x,e.x)&&O1(t.y,e.y)}function j1(t){return At(t.x)/At(t.y)}function F1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DU{constructor(){this.members=[]}add(e){f0(this.members,e),e.scheduleRender()}remove(e){if(p0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MU(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:p,skewX:y,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const tp=["","X","Y","Z"],LU=1e3;let OU=0;function np(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ik(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zk(r)}function Hk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=OU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VU),this.nodes.forEach(zU),this.nodes.forEach(HU),this.nodes.forEach(UU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new SU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new g0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=sk(o)&&!CV(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const p=()=>this.root.updateBlockedByResize=!1;De.read(()=>{d=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==d&&(d=y,this.root.updateBlockedByResize=!0,h&&h(),h=bU(p,250),Du.hasAnimatedSinceResize&&(Du.hasAnimatedSinceResize=!1,this.nodes.forEach($1)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||u.getDefaultTransition()||YU,{onLayoutAnimationStart:C,onLayoutAnimationComplete:P}=u.getProps(),w=!this.targetLayout||!Bk(this.targetLayout,y),v=!d&&p;if(this.options.layoutRoot||this.resumeFrom||v||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...N0(E,"layout"),onPlay:C,onComplete:P};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,v)}else d||$1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BU),this.nodes.forEach(jU),this.nodes.forEach(FU)):this.nodes.forEach(U1),this.clearAllSnapshots();const a=Wt.now();pt.delta=jr(0,1e3/60,a-pt.timestamp),pt.timestamp=a,pt.isProcessing=!0,Hf.update.process(pt),Hf.preRender.process(pt),Hf.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($U),this.sharedNodes.forEach(GU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$k(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Yi(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),XU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ge();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(QU))){const{scroll:h}=this.root;h&&(Zs(a.x,h.offset.x),Zs(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=Ge();if(ln(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&ln(a,o),Zs(a.x,d.offset.x),Zs(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ge();ln(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&eo(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Yi(h.latestValues)&&eo(l,h.latestValues)}return Yi(this.latestValues)&&eo(l,this.latestValues),l}removeTransform(o){const a=Ge();ln(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Yi(u.latestValues))continue;Gm(u.latestValues)&&u.updateSnapshot();const h=Ge(),d=u.measurePageBox();ln(h,d),D1(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Yi(this.latestValues)&&D1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),ol(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),Ek(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),ol(this.relativeTargetOrigin,this.target,y.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gm(this.parent.latestValues)||xk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ln(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;m9(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ge());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P1(this.prevProjectionDelta.x,this.projectionDelta.x),P1(this.prevProjectionDelta.y,this.projectionDelta.y)),sl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!F1(this.projectionDelta.x,this.prevProjectionDelta.x)||!F1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=to(),this.projectionDelta=to(),this.projectionDeltaWithTransform=to()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ge(),y=l?l.source:void 0,E=this.layout?this.layout.source:void 0,C=y!==E,P=this.getStack(),w=!P||P.members.length<=1,v=!!(C&&!w&&this.options.crossfade===!0&&!this.path.some(qU));this.animationProgress=0;let x;this.mixTargetDelta=D=>{const L=D/1e3;B1(d.x,o.x,L),B1(d.y,o.y,L),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ol(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KU(this.relativeTarget,this.relativeTargetOrigin,p,L),x&&RU(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ge()),ln(x,this.relativeTarget)),C&&(this.animationValues=h,CU(h,u,this.latestValues,L,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{Du.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ao(0)),this.currentAnimation=xU(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Wk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ge();const d=At(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=At(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ln(a,l),eo(a,h),sl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DU),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&np("z",o,u,this.animationValues);for(let h=0;h<tp.length;h++)np(`rotate${tp[h]}`,o,u,this.animationValues),np(`skew${tp[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ru(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ru(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=MU(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:p,y}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const E in Wl){if(h[E]===void 0)continue;const{correct:C,applyTo:P,isCSSVariable:w}=Wl[E],v=d==="none"?h[E]:C(h[E],u);if(P){const x=P.length;for(let D=0;D<x;D++)o[P[D]]=v}else w?this.options.visualElement.renderState.vars[E]=v:o[E]=v}this.options.layoutId&&(o.pointerEvents=u===this?Ru(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(V1),this.root.sharedNodes.clear()}}}function jU(t){t.updateLayout()}function FU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?cn(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],y=At(p);p.min=r[d].min,p.max=p.min+y}):Wk(s,e.layoutBox,r)&&cn(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],y=At(r[d]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=to();sl(a,r,e.layoutBox);const l=to();o?sl(l,t.applyTransform(i,!0),e.measuredBox):sl(l,r,e.layoutBox);const u=!$k(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:y}=d;if(p&&y){const E=Ge();ol(E,e.layoutBox,p.layoutBox);const C=Ge();ol(C,r,y.layoutBox),Bk(E,C)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=E,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function VU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $U(t){t.clearSnapshot()}function V1(t){t.clearMeasurements()}function U1(t){t.isLayoutDirty=!1}function BU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zU(t){t.resolveTargetDelta()}function HU(t){t.calcProjection()}function WU(t){t.resetSkewAndRotation()}function GU(t){t.removeLeadSnapshot()}function B1(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function z1(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function KU(t,e,n,r){z1(t.x,e.x,n.x,r),z1(t.y,e.y,n.y,r)}function qU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YU={duration:.45,ease:[.4,0,.1,1]},H1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W1=H1("applewebkit/")&&!H1("chrome/")?Math.round:gn;function G1(t){t.min=W1(t.min),t.max=W1(t.max)}function XU(t){G1(t.x),G1(t.y)}function Wk(t,e,n){return t==="position"||t==="preserve-aspect"&&!nU(j1(e),j1(n),.2)}function QU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const JU=Hk({attachResizeListener:(t,e)=>Gl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rp={current:void 0},Gk=Hk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rp.current){const t=new JU({});t.mount(window),t.setOptions({layoutScroll:!0}),rp.current=t}return rp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZU={pan:{Feature:yU},drag:{Feature:gU,ProjectionNode:Gk,MeasureLayout:Fk}};function K1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&De.postRender(()=>s(e,_c(e)))}class e$ extends Fi{mount(){const{current:e}=this.node;e&&(this.unmount=xV(e,(n,r)=>(K1(this.node,r,"Start"),i=>K1(this.node,i,"End"))))}unmount(){}}class t$ extends Fi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gc(Gl(this.node.current,"focus",()=>this.onFocus()),Gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&De.postRender(()=>s(e,_c(e)))}class n$ extends Fi{mount(){const{current:e}=this.node;e&&(this.unmount=TV(e,(n,r)=>(q1(this.node,r,"Start"),(i,{success:s})=>q1(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zm=new WeakMap,ip=new WeakMap,r$=t=>{const e=Zm.get(t.target);e&&e(t)},i$=t=>{t.forEach(r$)};function s$({root:t,...e}){const n=t||document;ip.has(n)||ip.set(n,{});const r=ip.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(i$,{root:t,...e})),r[i]}function o$(t,e,n){const r=s$(e);return Zm.set(t,n),r.observe(t),()=>{Zm.delete(t),r.unobserve(t)}}const a$={some:0,all:1};class l$ extends Fi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:a$[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=u?h:d;p&&p(l)};return o$(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(c$(e,n))&&this.startObserver()}unmount(){}}function c$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const u$={inView:{Feature:l$},tap:{Feature:n$},focus:{Feature:t$},hover:{Feature:e$}},h$={layout:{ProjectionNode:Gk,MeasureLayout:Fk}},d$={...X9,...u$,...ZU,...h$},K=d9(d$,T9),f$=()=>{const{isDark:t,toggleTheme:e}=jt(),[n,r]=I.useState(!1),[i,s]=I.useState(!1),[o,a]=I.useState(0),l=id();I.useEffect(()=>{if(o>0){const d=setTimeout(()=>{a(0)},2e3);return()=>clearTimeout(d)}},[o]),I.useEffect(()=>{const d=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const u=[{name:"Home",href:"#home"},{name:"About",href:"#about"},{name:"Skills",href:"#skills"},{name:"Projects",href:"#projects"},{name:"Certificates",href:"#certificates"},{name:"Education",href:"#education"},{name:"Contact",href:"#contact"}],h=d=>{const p=document.querySelector(d);p&&(p.scrollIntoView({behavior:"smooth"}),r(!1))};return f.jsxs(K.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${i?t?"bg-[#0d1117]/95 backdrop-blur-md border-b border-[#21262d]":"bg-white/95 backdrop-blur-md border-b border-gray-200":"bg-transparent"}`,children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center py-4",children:[f.jsx(K.button,{onClick:()=>{const d=o+1;a(d),d===3&&(l("/admin-secret-panel"),a(0))},whileHover:{scale:1.05},className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:"SAMUVEL TAMILARASAN B"}),f.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.map(d=>f.jsx(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(d.href),className:`text-sm font-medium transition-colors ${t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:d.name},d.name)),f.jsx(K.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:`p-2 rounded-lg transition-colors ${t?"bg-[#21262d] text-yellow-400 hover:bg-[#30363d]":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t?f.jsx(Rm,{size:20}):f.jsx(Am,{size:20})})]}),f.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[f.jsx(K.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:`p-2 rounded-lg transition-colors ${t?"bg-[#21262d] text-yellow-400 hover:bg-[#30363d]":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t?f.jsx(Rm,{size:20}):f.jsx(Am,{size:20})}),f.jsx(K.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r(!n),className:`p-2 rounded-lg transition-colors ${t?"bg-[#21262d] text-white hover:bg-[#30363d]":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n?f.jsx(R5,{size:20}):f.jsx(C5,{size:20})})]})]})}),n&&f.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`md:hidden border-t ${t?"bg-[#0d1117] border-[#21262d]":"bg-white border-gray-200"}`,children:f.jsx("div",{className:"px-4 py-2 space-y-1",children:u.map(d=>f.jsx(K.button,{whileHover:{x:10},onClick:()=>h(d.href),className:`block w-full text-left px-3 py-2 text-sm font-medium transition-colors ${t?"text-gray-300 hover:text-white hover:bg-[#21262d]":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"} rounded-lg`,children:d.name},d.name))})})]})},p$="/assets/Samuvel_Resume-D57p8fZa.pdf",m$=()=>{const{isDark:t}=jt(),e=[{icon:f.jsx(Rh,{size:24}),href:"https://github.com/samuvel1",label:"GitHub"},{icon:f.jsx(h2,{size:24}),href:"https://www.linkedin.com/in/samuvel-tamilarasan-b-480805378/",label:"LinkedIn"},{icon:f.jsx(c0,{size:24}),href:"mailto:samuvel1official@gmail.com",label:"Email"}],n=()=>{const r=document.createElement("a");r.href=p$,r.download="Samuvel_Tamilarasan_Resume.pdf",r.click()};return f.jsxs("section",{id:"home",className:`min-h-screen flex items-center justify-center relative overflow-hidden ${t?"bg-[#0d1117]":"bg-gradient-to-br from-blue-50 to-indigo-100"}`,children:[f.jsx("div",{className:"absolute inset-0",children:[...Array(6)].map((r,i)=>f.jsx(K.div,{className:`absolute w-64 h-64 rounded-full opacity-10 ${t?"bg-blue-400":"bg-blue-300"}`,animate:{x:[0,100,-50,0],y:[0,-100,50,0],rotate:[0,360]},transition:{duration:20+i*5,repeat:1/0,ease:"linear"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},i))}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:f.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[f.jsxs(K.h1,{className:`text-4xl md:text-6xl lg:text-7xl font-bold mb-6 ${t?"text-white":"text-gray-800"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},children:["SAMUVEL",f.jsx("br",{}),f.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"TAMILARASAN B"})]}),f.jsx(K.p,{className:`text-xl md:text-2xl mb-4 ${t?"text-gray-300":"text-gray-600"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},children:"Full Stack Developer & Software Engineer"}),f.jsx(K.p,{className:`text-lg mb-8 max-w-2xl mx-auto ${t?"text-gray-400":"text-gray-500"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},children:"Passionate about creating innovative solutions and building scalable applications. Based in Udumalpet, Tamil Nadu."}),f.jsxs(K.div,{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},children:[f.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[f.jsx(_5,{className:"mr-2",size:20}),"Download Resume"]}),f.jsx(K.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"#contact",onClick:r=>{var i;r.preventDefault(),(i=document.querySelector("#contact"))==null||i.scrollIntoView({behavior:"smooth"})},className:`inline-flex items-center px-6 py-3 font-medium rounded-lg transition-all duration-200 ${t?"bg-[#21262d] text-white hover:bg-[#30363d]":"bg-white text-gray-700 hover:bg-gray-50"} shadow-lg hover:shadow-xl`,children:"Get In Touch"})]}),f.jsx(K.div,{className:"flex items-center justify-center space-x-6 mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},children:e.map(r=>f.jsx(K.a,{href:r.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,y:-2},whileTap:{scale:.9},className:`p-3 rounded-lg transition-colors ${t?"bg-[#21262d] text-gray-300 hover:text-white hover:bg-[#30363d]":"bg-white text-gray-600 hover:text-gray-800 hover:bg-gray-50"} shadow-lg hover:shadow-xl`,"aria-label":r.label,children:r.icon},r.label))})]})})]})},g$=()=>{const{isDark:t}=jt(),e=[{icon:f.jsx(u2,{size:24}),title:"Full Stack Development",description:"Experienced in both frontend and backend technologies"},{icon:f.jsx(v5,{size:24}),title:"Database Design",description:"Proficient in SQL and NoSQL database management"},{icon:f.jsx(x5,{size:24}),title:"Web Technologies",description:"Modern web development with latest frameworks"},{icon:f.jsx(N5,{size:24}),title:"Mobile Development",description:"Cross-platform mobile application development"}];return f.jsx("section",{id:"about",className:`py-20 ${t?"bg-[#0d1117]":"bg-white"}`,children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[f.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"About Me"}),f.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto"})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsx(K.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:f.jsxs("div",{className:`p-8 rounded-xl shadow-xl ${t?"bg-[#21262d]":"bg-gray-50"}`,children:[f.jsx("h3",{className:`text-2xl font-semibold mb-6 ${t?"text-white":"text-gray-800"}`,children:"Professional Overview"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:`text-lg leading-relaxed ${t?"text-gray-300":"text-gray-600"}`,children:"I am a dedicated Full Stack Developer with a passion for creating innovative digital solutions. Based in Udumalpet, Tamil Nadu, I specialize in modern web technologies and have experience across the entire software development lifecycle."}),f.jsx("p",{className:`text-lg leading-relaxed ${t?"text-gray-300":"text-gray-600"}`,children:"My expertise spans from frontend frameworks like React and Angular to backend technologies including Node.js, Python, and various databases. I'm committed to writing clean, efficient code and staying updated with the latest industry trends."}),f.jsx("div",{className:`mt-6 p-4 rounded-lg ${t?"bg-[#0d1117]":"bg-white"} border-l-4 border-blue-600`,children:f.jsx("p",{className:`font-medium ${t?"text-gray-200":"text-gray-700"}`,children:'"Passionate about building scalable applications that make a difference."'})})]})]})}),f.jsx(K.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"space-y-6",children:e.map((n,r)=>f.jsx(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},whileHover:{scale:1.02},className:`p-6 rounded-lg shadow-lg transition-all duration-300 ${t?"bg-[#21262d] hover:bg-[#30363d]":"bg-white hover:bg-gray-50"} border ${t?"border-[#30363d]":"border-gray-200"}`,children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:`p-3 rounded-lg ${t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:n.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-white":"text-gray-800"}`,children:n.title}),f.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:n.description})]})]})},n.title))})]}),f.jsx(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"mt-16 text-center",children:f.jsxs("div",{className:`inline-flex items-center space-x-8 p-6 rounded-xl ${t?"bg-[#21262d]":"bg-gray-50"}`,children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-3xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"2+"}),f.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Years Experience"})]}),f.jsx("div",{className:`h-12 w-px ${t?"bg-gray-600":"bg-gray-300"}`}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-3xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"15+"}),f.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Projects Completed"})]}),f.jsx("div",{className:`h-12 w-px ${t?"bg-gray-600":"bg-gray-300"}`}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-3xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"10+"}),f.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Technologies"})]})]})})]})})},y$=()=>{const{isDark:t}=jt(),e=[{title:"Frontend Development",skills:[{name:"React.js",level:90},{name:"JavaScript/TypeScript",level:88},{name:"HTML5 & CSS3",level:95},{name:"Angular",level:80},{name:"Vue.js",level:75},{name:"Tailwind CSS",level:90}]},{title:"Backend Development",skills:[{name:"Node.js",level:85},{name:"Python",level:80},{name:"Express.js",level:85},{name:"Django",level:75},{name:"REST APIs",level:90},{name:"GraphQL",level:70}]},{title:"Database & Cloud",skills:[{name:"MongoDB",level:85},{name:"PostgreSQL",level:80},{name:"MySQL",level:82},{name:"Firebase",level:88},{name:"AWS",level:75},{name:"Docker",level:70}]},{title:"Tools & Others",skills:[{name:"Git & GitHub",level:92},{name:"Linux/Unix",level:80},{name:"Figma",level:75},{name:"Postman",level:85},{name:"VS Code",level:95},{name:"Agile/Scrum",level:80}]}],n=["AWS Cloud Practitioner","Google Cloud Associate","MongoDB Developer Certification","React Developer Certification","Full Stack Web Development","Python Programming Certification"];return f.jsx("section",{id:"skills",className:`py-20 ${t?"bg-[#21262d]":"bg-gray-50"}`,children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[f.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Skills & Expertise"}),f.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto mb-6"}),f.jsx("p",{className:`text-lg max-w-2xl mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"A comprehensive overview of my technical skills and proficiency levels"})]}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 gap-8 mb-16",children:e.map((r,i)=>f.jsxs(K.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:i*.1},viewport:{once:!0},className:`p-6 rounded-xl shadow-lg ${t?"bg-[#0d1117]":"bg-white"}`,children:[f.jsx("h3",{className:`text-xl font-semibold mb-6 ${t?"text-white":"text-gray-800"}`,children:r.title}),f.jsx("div",{className:"space-y-4",children:r.skills.map((s,o)=>f.jsxs(K.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:i*.1+o*.05},viewport:{once:!0},className:"relative",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:`font-medium ${t?"text-gray-200":"text-gray-700"}`,children:s.name}),f.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[s.level,"%"]})]}),f.jsx("div",{className:`h-2 rounded-full ${t?"bg-[#30363d]":"bg-gray-200"}`,children:f.jsx(K.div,{className:"h-full bg-gradient-to-r from-blue-600 to-purple-600 rounded-full",initial:{width:0},whileInView:{width:`${s.level}%`},transition:{duration:1.2,delay:i*.1+o*.05,ease:"easeOut"},viewport:{once:!0}})})]},s.name))})]},r.title))}),f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:`p-8 rounded-xl shadow-lg ${t?"bg-[#0d1117]":"bg-white"}`,children:[f.jsx("h3",{className:`text-2xl font-semibold mb-6 text-center ${t?"text-white":"text-gray-800"}`,children:"Certifications & Achievements"}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((r,i)=>f.jsxs(K.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:i*.1},viewport:{once:!0},whileHover:{scale:1.05},className:`p-4 rounded-lg text-center transition-all duration-300 ${t?"bg-[#21262d] hover:bg-[#30363d] text-gray-200":"bg-gray-50 hover:bg-gray-100 text-gray-700"} border ${t?"border-[#30363d]":"border-gray-200"}`,children:[f.jsx("div",{className:`w-8 h-8 rounded-full mx-auto mb-2 flex items-center justify-center ${t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:"✓"}),f.jsx("p",{className:"text-sm font-medium",children:r})]},r))})]})]})})},Na="projects",sp={async getAllProjects(){const t=gt(Bt,Na),e=await Ul(t);if(e.exists()){const n=[];return e.forEach(r=>{n.push({id:r.key,...r.val()})}),n}return[]},async createProject(t){const e=gt(Bt,Na),n=e2(e),r={...t,createdAt:new Date().toISOString()};return await s0(n,r),n.key},async updateProject(t,e){const n=gt(Bt,`${Na}/${t}`);await o0(n,e)},async deleteProject(t){const e=gt(Bt,`${Na}/${t}`);await t2(e)},async getProject(t){const e=gt(Bt,`${Na}/${t}`),n=await Ul(e);return n.exists()?{id:n.key,...n.val()}:null}},z0=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0);return I.useEffect(()=>{r(!0);const a=gt(Bt,"projects"),l=n2(a,u=>{try{if(u.exists()){const h=[];u.forEach(d=>{h.push({id:d.key,...d.val()})}),e(h)}else e([])}catch(h){Ee.error("Failed to fetch projects"),console.error("Error fetching projects:",h)}finally{r(!1)}});return()=>{try{l()}catch{gt&&gt.off&&gt.off(a)}}},[]),{projects:t,loading:n,addProject:async a=>{try{const l=await sp.createProject(a);return Ee.success("Project added successfully"),l}catch(l){throw Ee.error("Failed to add project"),console.error("Error adding project:",l),l}},updateProject:async(a,l)=>{try{await sp.updateProject(a,l),Ee.success("Project updated successfully")}catch(u){throw Ee.error("Failed to update project"),console.error("Error updating project:",u),u}},deleteProject:async a=>{try{await sp.deleteProject(a),Ee.success("Project deleted successfully")}catch(l){throw Ee.error("Failed to delete project"),console.error("Error deleting project:",l),l}}}},v$=()=>{const{isDark:t}=jt(),{projects:e,loading:n}=z0(),r=e,i=r.filter(o=>o.featured),s=r.filter(o=>!o.featured);return n?f.jsx("section",{id:"projects",className:`py-20 ${t?"bg-[#0d1117]":"bg-white"}`,children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:`mt-4 ${t?"text-gray-300":"text-gray-600"}`,children:"Loading projects..."})]})})}):f.jsx("section",{id:"projects",className:`py-20 ${t?"bg-[#0d1117]":"bg-white"}`,children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[f.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Featured Projects"}),f.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto mb-6"}),f.jsx("p",{className:`text-lg max-w-2xl mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"A showcase of my recent work and personal projects"})]}),i.length>0&&f.jsx("div",{className:"grid lg:grid-cols-2 gap-8 mb-16",children:i.map((o,a)=>f.jsxs(K.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:a*.2},viewport:{once:!0},whileHover:{y:-5},className:`group rounded-xl overflow-hidden shadow-xl transition-all duration-300 ${t?"bg-[#21262d]":"bg-white"} hover:shadow-2xl`,children:[f.jsxs("div",{className:"relative overflow-hidden",children:[o.videoUrl?f.jsx("video",{src:o.videoUrl,poster:o.imageUrl,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}):f.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),f.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[o.githubUrl&&f.jsx(K.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:o.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg text-white hover:bg-white/30 transition-colors",children:f.jsx(Rh,{size:18})}),o.liveUrl&&f.jsx(K.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:o.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg text-white hover:bg-white/30 transition-colors",children:f.jsx(Pm,{size:18})})]})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:`text-xl font-semibold ${t?"text-white":"text-gray-800"}`,children:o.title}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:"Featured"})]}),f.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-gray-600"}`,children:o.description}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.technologies.map(l=>f.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${t?"bg-[#30363d] text-gray-300":"bg-gray-100 text-gray-700"}`,children:l},l))}),f.jsxs("div",{className:`flex items-center text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[f.jsx(l0,{size:16,className:"mr-2"}),new Date(o.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"})]})]})]},o.id))}),s.length>0&&f.jsxs(f.Fragment,{children:[f.jsx(K.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:`text-2xl font-semibold mb-8 text-center ${t?"text-white":"text-gray-800"}`,children:"Other Projects"}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((o,a)=>f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:a*.1},viewport:{once:!0},whileHover:{y:-3},className:`group rounded-lg overflow-hidden shadow-lg transition-all duration-300 ${t?"bg-[#21262d]":"bg-white"} hover:shadow-xl`,children:[f.jsxs("div",{className:"relative overflow-hidden",children:[o.videoUrl?f.jsx("video",{src:o.videoUrl,poster:o.imageUrl,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}):f.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),f.jsxs("div",{className:"absolute top-3 right-3 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[o.githubUrl&&f.jsx(K.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:o.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-white/20 backdrop-blur-sm rounded text-white hover:bg-white/30 transition-colors",children:f.jsx(Rh,{size:16})}),o.liveUrl&&f.jsx(K.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:o.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-white/20 backdrop-blur-sm rounded text-white hover:bg-white/30 transition-colors",children:f.jsx(Pm,{size:16})})]})]}),f.jsxs("div",{className:"p-5",children:[f.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-white":"text-gray-800"}`,children:o.title}),f.jsx("p",{className:`text-sm mb-3 line-clamp-3 ${t?"text-gray-300":"text-gray-600"}`,children:o.description}),f.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[o.technologies.slice(0,3).map(l=>f.jsx("span",{className:`px-2 py-1 text-xs rounded ${t?"bg-[#30363d] text-gray-300":"bg-gray-100 text-gray-600"}`,children:l},l)),o.technologies.length>3&&f.jsxs("span",{className:`px-2 py-1 text-xs rounded ${t?"text-gray-400":"text-gray-500"}`,children:["+",o.technologies.length-3," more"]})]})]})]},o.id))})]}),r.length===0&&f.jsx(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center py-12",children:f.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"No projects to display at the moment. Check back soon!"})})]})})},Pa="certificates",op={async getAllCertificates(){const t=gt(Bt,Pa),e=await Ul(t);if(e.exists()){const n=[];return e.forEach(r=>{n.push({id:r.key,...r.val()})}),n}return[]},async createCertificate(t){const e=gt(Bt,Pa),n=e2(e),r={...t,createdAt:new Date().toISOString()};return await s0(n,r),n.key},async updateCertificate(t,e){const n=gt(Bt,`${Pa}/${t}`);await o0(n,e)},async deleteCertificate(t){const e=gt(Bt,`${Pa}/${t}`);await t2(e)},async getCertificate(t){const e=gt(Bt,`${Pa}/${t}`),n=await Ul(e);return n.exists()?{id:n.key,...n.val()}:null}},H0=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0);return I.useEffect(()=>{r(!0);const a=gt(Bt,"certificates"),l=n2(a,u=>{try{if(u.exists()){const h=[];u.forEach(d=>{h.push({id:d.key,...d.val()})}),e(h)}else e([])}catch(h){Ee.error("Failed to fetch certificates"),console.error("Error fetching certificates:",h)}finally{r(!1)}});return()=>{try{l()}catch{}}},[]),{certificates:t,loading:n,addCertificate:async a=>{try{const l=await op.createCertificate(a);return Ee.success("Certificate added successfully"),l}catch(l){throw Ee.error("Failed to add certificate"),console.error("Error adding certificate:",l),l}},updateCertificate:async(a,l)=>{try{await op.updateCertificate(a,l),Ee.success("Certificate updated successfully")}catch(u){throw Ee.error("Failed to update certificate"),console.error("Error updating certificate:",u),u}},deleteCertificate:async a=>{try{await op.deleteCertificate(a),Ee.success("Certificate deleted successfully")}catch(l){throw Ee.error("Failed to delete certificate"),console.error("Error deleting certificate:",l),l}}}},_$=()=>{const{isDark:t}=jt(),{certificates:e,loading:n}=H0();return n?f.jsx("section",{id:"certificates",className:`py-20 ${t?"bg-[#0d1117]":"bg-white"}`,children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:`mt-4 ${t?"text-gray-300":"text-gray-600"}`,children:"Loading certificates..."})]})})}):f.jsx("section",{id:"certificates",className:`py-20 ${t?"bg-[#161b22]":"bg-gray-50"}`,children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[f.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Certifications"}),f.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto mb-6"}),f.jsx("p",{className:`text-lg max-w-2xl mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"My professional certifications and credentials"})]}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,i)=>f.jsxs(K.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:i*.2},viewport:{once:!0},whileHover:{y:-5},className:`group rounded-xl overflow-hidden shadow-lg transition-all duration-300 ${t?"bg-[#21262d]":"bg-white"} hover:shadow-2xl`,children:[f.jsxs("div",{className:"relative overflow-hidden",children:[f.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-56 object-cover transition-transform duration-300 group-hover:scale-110"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),f.jsxs("div",{className:"absolute bottom-0 left-0 p-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:r.title}),f.jsx("p",{className:"text-sm text-gray-300",children:r.issuingOrganization})]})]}),f.jsxs("div",{className:"p-5",children:[f.jsxs("div",{className:`flex items-center text-sm mb-4 ${t?"text-gray-400":"text-gray-500"}`,children:[f.jsx(l0,{size:16,className:"mr-2"}),"Issued on"," ",new Date(r.issueDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),r.credentialUrl&&f.jsxs(K.a,{href:r.credentialUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium rounded-lg transition-colors ${t?"bg-blue-600/20 text-blue-300 hover:bg-blue-600/30":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[f.jsx(Pm,{size:16,className:"mr-2"}),"View Credential"]})]})]},r.id))}),e.length===0&&f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center py-12",children:[f.jsx(Nm,{size:48,className:`mx-auto mb-4 ${t?"text-gray-500":"text-gray-400"}`}),f.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"No certificates to display at the moment."})]})]})})},w$=()=>{const{isDark:t}=jt(),e=[{degree:"Bachelor of Commerce - Professional Accounting",institution:"Sree Saraswathi Thyagaraja College",location:"Pollachi, Tamil Nadu",period:"2021 - 2024",grade:"CGPA: 6.5/10"},{degree:"Higher Secondary Certificate (12th)",institution:"Rajalakshmi Genguswamy Higher Secondary School",location:"Udumalpet, Tamil Nadu",period:"2020 - 2021",grade:"84%",description:"Specialized in Commerce with Computer Application."}],n=[{title:"Best Final Year Project",description:"AI-powered E-commerce Recommendation System",year:"2024"},{title:"Coding Competition Winner",description:"Inter-college Programming Contest",year:"2023"},{title:"Hackathon Runner-up",description:"Smart India Hackathon Regional Round",year:"2023"}];return f.jsx("section",{id:"education",className:`py-20 ${t?"bg-[#21262d]":"bg-gray-50"}`,children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[f.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Education & Achievements"}),f.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto mb-6"}),f.jsx("p",{className:`text-lg max-w-2xl mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"My academic journey and notable accomplishments"})]}),f.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx(K.h3,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:`text-2xl font-semibold mb-8 ${t?"text-white":"text-gray-800"}`,children:"Academic Background"}),f.jsx("div",{className:"space-y-8",children:e.map((r,i)=>f.jsx(K.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:i*.2},viewport:{once:!0},className:`relative p-6 rounded-xl shadow-lg ${t?"bg-[#0d1117]":"bg-white"} border-l-4 border-blue-600`,children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:`p-3 rounded-lg ${t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:f.jsx(E5,{size:24})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2",children:[f.jsx("h4",{className:`text-xl font-semibold ${t?"text-white":"text-gray-800"}`,children:r.degree}),f.jsxs("div",{className:`flex items-center text-sm ${t?"bg-[#21262d] text-green-400":"bg-green-100 text-green-700"} px-3 py-1 rounded-full mt-2 sm:mt-0`,children:[f.jsx(Nm,{size:14,className:"mr-1"}),r.grade]})]}),f.jsx("div",{className:`text-lg font-medium mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:r.institution}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4",children:[f.jsxs("div",{className:`flex items-center text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[f.jsx(l0,{size:16,className:"mr-2"}),r.period]}),f.jsxs("div",{className:`flex items-center text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[f.jsx(f2,{size:16,className:"mr-2"}),r.location]})]}),f.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-gray-600"}`,children:r.description}),f.jsx("div",{className:"space-y-2",children:f.jsx("h5",{className:`font-medium ${t?"text-white":"text-gray-800"}`,children:"Key Achievements:"})})]})]})},i))})]}),f.jsxs("div",{children:[f.jsx(K.h3,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:`text-2xl font-semibold mb-8 ${t?"text-white":"text-gray-800"}`,children:"Notable Awards"}),f.jsx("div",{className:"space-y-4",children:n.map((r,i)=>f.jsx(K.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0},whileHover:{scale:1.02},className:`p-4 rounded-lg shadow-md transition-all duration-300 ${t?"bg-[#0d1117] hover:bg-[#21262d]":"bg-white hover:bg-gray-50"} border ${t?"border-[#30363d]":"border-gray-200"}`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:`p-2 rounded ${t?"bg-yellow-600/20 text-yellow-400":"bg-yellow-100 text-yellow-600"}`,children:f.jsx(Nm,{size:18})}),f.jsxs("div",{children:[f.jsx("h4",{className:`font-semibold mb-1 ${t?"text-white":"text-gray-800"}`,children:r.title}),f.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-300":"text-gray-600"}`,children:r.description}),f.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${t?"bg-[#21262d] text-gray-400":"bg-gray-100 text-gray-500"}`,children:r.year})]})]})},i))}),f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:`mt-8 p-6 rounded-xl ${t?"bg-[#0d1117]":"bg-white"} shadow-lg`,children:[f.jsx("h4",{className:`text-lg font-semibold mb-4 text-center ${t?"text-white":"text-gray-800"}`,children:"Academic Highlights"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:`text-2xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"8.5"}),f.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"CGPA"})]}),f.jsxs("div",{children:[f.jsx("div",{className:`text-2xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"3"}),f.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Awards"})]})]})]})]})]})]})})},Kl={_origin:"https://api.emailjs.com"},Kk=(t,e="https://api.emailjs.com")=>{Kl._userID=t,Kl._origin=e},qk=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Y1{constructor(e){this.status=e.status,this.text=e.responseText}}const Yk=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new Y1(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new Y1(o))}),s.open("POST",Kl._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),x$=(t,e,n,r)=>{const i=r||Kl._userID;return qk(i,t,e),Yk("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},E$=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},S$=(t,e,n,r)=>{const i=r||Kl._userID,s=E$(n);qk(i,t,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),Yk("/api/v1.0/email/send-form",o)},b$={init:Kk,send:x$,sendForm:S$};var wc=t=>t.type==="checkbox",ss=t=>t instanceof Date,Nt=t=>t==null;const Xk=t=>typeof t=="object";var Ze=t=>!Nt(t)&&!Array.isArray(t)&&Xk(t)&&!ss(t),T$=t=>Ze(t)&&t.target?wc(t.target)?t.target.checked:t.target.value:t,C$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,k$=(t,e)=>t.has(C$(e)),I$=t=>{const e=t.constructor&&t.constructor.prototype;return Ze(e)&&e.hasOwnProperty("isPrototypeOf")},W0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function lt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(W0&&(t instanceof Blob||r))&&(n||Ze(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!I$(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=lt(t[i]));else return t;return e}var Dd=t=>/^\w*$/.test(t),Xe=t=>t===void 0,G0=t=>Array.isArray(t)?t.filter(Boolean):[],K0=t=>G0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Q=(t,e,n)=>{if(!e||!Ze(t))return n;const r=(Dd(e)?[e]:K0(e)).reduce((i,s)=>Nt(i)?i:i[s],t);return Xe(r)||r===t?Xe(t[e])?n:t[e]:r},Yn=t=>typeof t=="boolean",Ae=(t,e,n)=>{let r=-1;const i=Dd(e)?[e]:K0(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Ze(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const X1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},N$=Xt.createContext(null);N$.displayName="HookFormContext";var P$=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Nn.all&&(e._proxyFormState[o]=!r||Nn.all),t[o]}});return i};const A$=typeof window<"u"?Xt.useLayoutEffect:Xt.useEffect;var Zt=t=>typeof t=="string",R$=(t,e,n,r,i)=>Zt(t)?(r&&e.watch.add(t),Q(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Q(n,s))):(r&&(e.watchAll=!0),n),eg=t=>Nt(t)||!Xk(t);function ii(t,e,n=new WeakSet){if(eg(t)||eg(e))return t===e;if(ss(t)&&ss(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(ss(o)&&ss(a)||Ze(o)&&Ze(a)||Array.isArray(o)&&Array.isArray(a)?!ii(o,a,n):o!==a)return!1}}return!0}var D$=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},al=t=>Array.isArray(t)?t:[t],Q1=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function Qk(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&Ze(i)&&s){const o=Qk(i,s);Ze(o)&&(n[r]=o)}else t[r]&&(n[r]=s)}return n}var Ut=t=>Ze(t)&&!Object.keys(t).length,q0=t=>t.type==="file",Pn=t=>typeof t=="function",Vh=t=>{if(!W0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Jk=t=>t.type==="select-multiple",Y0=t=>t.type==="radio",M$=t=>Y0(t)||wc(t),ap=t=>Vh(t)&&t.isConnected;function L$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Xe(t)?r++:t[e[r++]];return t}function O$(t){for(const e in t)if(t.hasOwnProperty(e)&&!Xe(t[e]))return!1;return!0}function qe(t,e){const n=Array.isArray(e)?e:Dd(e)?[e]:K0(e),r=n.length===1?t:L$(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ze(r)&&Ut(r)||Array.isArray(r)&&O$(r))&&qe(t,n.slice(0,-1)),t}var j$=t=>{for(const e in t)if(Pn(t[e]))return!0;return!1};function Zk(t){return Array.isArray(t)||Ze(t)&&!j$(t)}function tg(t,e={}){for(const n in t)Zk(t[n])?(e[n]=Array.isArray(t[n])?[]:{},tg(t[n],e[n])):Nt(t[n])||(e[n]=!0);return e}function js(t,e,n){n||(n=tg(e));for(const r in t)Zk(t[r])?Xe(e)||eg(n[r])?n[r]=tg(t[r],Array.isArray(t[r])?[]:{}):js(t[r],Nt(e)?{}:e[r],n[r]):n[r]=!ii(t[r],e[r]);return n}const J1={value:!1,isValid:!1},Z1={value:!0,isValid:!0};var eI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Xe(t[0].attributes.value)?Xe(t[0].value)||t[0].value===""?Z1:{value:t[0].value,isValid:!0}:Z1:J1}return J1},tI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Xe(t)?t:e?t===""?NaN:t&&+t:n&&Zt(t)?new Date(t):r?r(t):t;const eE={isValid:!1,value:null};var nI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,eE):eE;function tE(t){const e=t.ref;return q0(e)?e.files:Y0(e)?nI(t.refs).value:Jk(e)?[...e.selectedOptions].map(({value:n})=>n):wc(e)?eI(t.refs).value:tI(Xe(e.value)?t.ref.value:e.value,t)}var F$=(t,e,n,r)=>{const i={};for(const s of t){const o=Q(e,s);o&&Ae(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Uh=t=>t instanceof RegExp,Aa=t=>Xe(t)?t:Uh(t)?t.source:Ze(t)?Uh(t.value)?t.value.source:t.value:t,nE=t=>({isOnSubmit:!t||t===Nn.onSubmit,isOnBlur:t===Nn.onBlur,isOnChange:t===Nn.onChange,isOnAll:t===Nn.all,isOnTouch:t===Nn.onTouched});const rE="AsyncFunction";var V$=t=>!!t&&!!t.validate&&!!(Pn(t.validate)&&t.validate.constructor.name===rE||Ze(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rE)),U$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),iE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ll=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Q(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ll(a,e))break}else if(Ze(a)&&ll(a,e))break}}};function sE(t,e,n){const r=Q(t,n);if(r||Dd(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Q(e,s),a=Q(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:n}}var $$=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Ut(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Nn.all))},B$=(t,e,n)=>!t||!e||t===e||al(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),z$=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,H$=(t,e)=>!G0(Q(t,e)).length&&qe(t,e),W$=(t,e,n)=>{const r=al(Q(t,n));return Ae(r,"root",e[n]),Ae(t,n,r),t};function oE(t,e,n="validate"){if(Zt(t)||Array.isArray(t)&&t.every(Zt)||Yn(t)&&!t)return{type:n,message:Zt(t)?t:"",ref:e}}var Os=t=>Ze(t)&&!Uh(t)?t:{value:t,message:""},aE=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:h,min:d,max:p,pattern:y,validate:E,name:C,valueAsNumber:P,mount:w}=t._f,v=Q(n,C);if(!w||e.has(C))return{};const x=a?a[0]:o,D=M=>{i&&x.reportValidity&&(x.setCustomValidity(Yn(M)?"":M||""),x.reportValidity())},L={},O=Y0(o),b=wc(o),_=O||b,T=(P||q0(o))&&Xe(o.value)&&Xe(v)||Vh(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,N=D$.bind(null,C,r,L),R=(M,k,re,xe=mr.maxLength,He=mr.minLength)=>{const ue=M?k:re;L[C]={type:M?xe:He,message:ue,ref:o,...N(M?xe:He,ue)}};if(s?!Array.isArray(v)||!v.length:l&&(!_&&(T||Nt(v))||Yn(v)&&!v||b&&!eI(a).isValid||O&&!nI(a).isValid)){const{value:M,message:k}=Zt(l)?{value:!!l,message:l}:Os(l);if(M&&(L[C]={type:mr.required,message:k,ref:x,...N(mr.required,k)},!r))return D(k),L}if(!T&&(!Nt(d)||!Nt(p))){let M,k;const re=Os(p),xe=Os(d);if(!Nt(v)&&!isNaN(v)){const He=o.valueAsNumber||v&&+v;Nt(re.value)||(M=He>re.value),Nt(xe.value)||(k=He<xe.value)}else{const He=o.valueAsDate||new Date(v),ue=Z=>new Date(new Date().toDateString()+" "+Z),z=o.type=="time",X=o.type=="week";Zt(re.value)&&v&&(M=z?ue(v)>ue(re.value):X?v>re.value:He>new Date(re.value)),Zt(xe.value)&&v&&(k=z?ue(v)<ue(xe.value):X?v<xe.value:He<new Date(xe.value))}if((M||k)&&(R(!!M,re.message,xe.message,mr.max,mr.min),!r))return D(L[C].message),L}if((u||h)&&!T&&(Zt(v)||s&&Array.isArray(v))){const M=Os(u),k=Os(h),re=!Nt(M.value)&&v.length>+M.value,xe=!Nt(k.value)&&v.length<+k.value;if((re||xe)&&(R(re,M.message,k.message),!r))return D(L[C].message),L}if(y&&!T&&Zt(v)){const{value:M,message:k}=Os(y);if(Uh(M)&&!v.match(M)&&(L[C]={type:mr.pattern,message:k,ref:o,...N(mr.pattern,k)},!r))return D(k),L}if(E){if(Pn(E)){const M=await E(v,n),k=oE(M,x);if(k&&(L[C]={...k,...N(mr.validate,k.message)},!r))return D(k.message),L}else if(Ze(E)){let M={};for(const k in E){if(!Ut(M)&&!r)break;const re=oE(await E[k](v,n),x,k);re&&(M={...re,...N(k,re.message)},D(re.message),r&&(L[C]=M))}if(!Ut(M)&&(L[C]={ref:x,...M},!r))return L}}return D(!0),L};const G$={mode:Nn.onSubmit,reValidateMode:Nn.onChange,shouldFocusError:!0};function K$(t={}){let e={...G$,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Ze(e.defaultValues)||Ze(e.values)?lt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:lt(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...h};const p={array:Q1(),state:Q1()},y=e.criteriaMode===Nn.all,E=A=>F=>{clearTimeout(u),u=setTimeout(A,F)},C=async A=>{if(!e.disabled&&(h.isValid||d.isValid||A)){const F=e.resolver?Ut((await b()).errors):await T(r,!0);F!==n.isValid&&p.state.next({isValid:F})}},P=(A,F)=>{!e.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((A||Array.from(a.mount)).forEach(U=>{U&&(F?Ae(n.validatingFields,U,F):qe(n.validatingFields,U))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ut(n.validatingFields)}))},w=(A,F=[],U,q,G=!0,B=!0)=>{if(q&&U&&!e.disabled){if(o.action=!0,B&&Array.isArray(Q(r,A))){const J=U(Q(r,A),q.argA,q.argB);G&&Ae(r,A,J)}if(B&&Array.isArray(Q(n.errors,A))){const J=U(Q(n.errors,A),q.argA,q.argB);G&&Ae(n.errors,A,J),H$(n.errors,A)}if((h.touchedFields||d.touchedFields)&&B&&Array.isArray(Q(n.touchedFields,A))){const J=U(Q(n.touchedFields,A),q.argA,q.argB);G&&Ae(n.touchedFields,A,J)}(h.dirtyFields||d.dirtyFields)&&(n.dirtyFields=js(i,s)),p.state.next({name:A,isDirty:R(A,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ae(s,A,F)},v=(A,F)=>{Ae(n.errors,A,F),p.state.next({errors:n.errors})},x=A=>{n.errors=A,p.state.next({errors:n.errors,isValid:!1})},D=(A,F,U,q)=>{const G=Q(r,A);if(G){const B=Q(s,A,Xe(U)?Q(i,A):U);Xe(B)||q&&q.defaultChecked||F?Ae(s,A,F?B:tE(G._f)):re(A,B),o.mount&&C()}},L=(A,F,U,q,G)=>{let B=!1,J=!1;const me={name:A};if(!e.disabled){if(!U||q){(h.isDirty||d.isDirty)&&(J=n.isDirty,n.isDirty=me.isDirty=R(),B=J!==me.isDirty);const ve=ii(Q(i,A),F);J=!!Q(n.dirtyFields,A),ve?qe(n.dirtyFields,A):Ae(n.dirtyFields,A,!0),me.dirtyFields=n.dirtyFields,B=B||(h.dirtyFields||d.dirtyFields)&&J!==!ve}if(U){const ve=Q(n.touchedFields,A);ve||(Ae(n.touchedFields,A,U),me.touchedFields=n.touchedFields,B=B||(h.touchedFields||d.touchedFields)&&ve!==U)}B&&G&&p.state.next(me)}return B?me:{}},O=(A,F,U,q)=>{const G=Q(n.errors,A),B=(h.isValid||d.isValid)&&Yn(F)&&n.isValid!==F;if(e.delayError&&U?(l=E(()=>v(A,U)),l(e.delayError)):(clearTimeout(u),l=null,U?Ae(n.errors,A,U):qe(n.errors,A)),(U?!ii(G,U):G)||!Ut(q)||B){const J={...q,...B&&Yn(F)?{isValid:F}:{},errors:n.errors,name:A};n={...n,...J},p.state.next(J)}},b=async A=>{P(A,!0);const F=await e.resolver(s,e.context,F$(A||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return P(A),F},_=async A=>{const{errors:F}=await b(A);if(A)for(const U of A){const q=Q(F,U);q?Ae(n.errors,U,q):qe(n.errors,U)}else n.errors=F;return F},T=async(A,F,U={valid:!0})=>{for(const q in A){const G=A[q];if(G){const{_f:B,...J}=G;if(B){const me=a.array.has(B.name),ve=G._f&&V$(G._f);ve&&h.validatingFields&&P([B.name],!0);const Vt=await aE(G,a.disabled,s,y,e.shouldUseNativeValidation&&!F,me);if(ve&&h.validatingFields&&P([B.name]),Vt[B.name]&&(U.valid=!1,F))break;!F&&(Q(Vt,B.name)?me?W$(n.errors,Vt,B.name):Ae(n.errors,B.name,Vt[B.name]):qe(n.errors,B.name))}!Ut(J)&&await T(J,F,U)}}return U.valid},N=()=>{for(const A of a.unMount){const F=Q(r,A);F&&(F._f.refs?F._f.refs.every(U=>!ap(U)):!ap(F._f.ref))&&on(A)}a.unMount=new Set},R=(A,F)=>!e.disabled&&(A&&F&&Ae(s,A,F),!ii(Z(),i)),M=(A,F,U)=>R$(A,a,{...o.mount?s:Xe(F)?i:Zt(A)?{[A]:F}:F},U,F),k=A=>G0(Q(o.mount?s:i,A,e.shouldUnregister?Q(i,A,[]):[])),re=(A,F,U={})=>{const q=Q(r,A);let G=F;if(q){const B=q._f;B&&(!B.disabled&&Ae(s,A,tI(F,B)),G=Vh(B.ref)&&Nt(F)?"":F,Jk(B.ref)?[...B.ref.options].forEach(J=>J.selected=G.includes(J.value)):B.refs?wc(B.ref)?B.refs.forEach(J=>{(!J.defaultChecked||!J.disabled)&&(Array.isArray(G)?J.checked=!!G.find(me=>me===J.value):J.checked=G===J.value||!!G)}):B.refs.forEach(J=>J.checked=J.value===G):q0(B.ref)?B.ref.value="":(B.ref.value=G,B.ref.type||p.state.next({name:A,values:lt(s)})))}(U.shouldDirty||U.shouldTouch)&&L(A,G,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&X(A)},xe=(A,F,U)=>{for(const q in F){if(!F.hasOwnProperty(q))return;const G=F[q],B=A+"."+q,J=Q(r,B);(a.array.has(A)||Ze(G)||J&&!J._f)&&!ss(G)?xe(B,G,U):re(B,G,U)}},He=(A,F,U={})=>{const q=Q(r,A),G=a.array.has(A),B=lt(F);Ae(s,A,B),G?(p.array.next({name:A,values:lt(s)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&U.shouldDirty&&p.state.next({name:A,dirtyFields:js(i,s),isDirty:R(A,B)})):q&&!q._f&&!Nt(B)?xe(A,B,U):re(A,B,U),iE(A,a)&&p.state.next({...n,name:A}),p.state.next({name:o.mount?A:void 0,values:lt(s)})},ue=async A=>{o.mount=!0;const F=A.target;let U=F.name,q=!0;const G=Q(r,U),B=ve=>{q=Number.isNaN(ve)||ss(ve)&&isNaN(ve.getTime())||ii(ve,Q(s,U,ve))},J=nE(e.mode),me=nE(e.reValidateMode);if(G){let ve,Vt;const Ns=F.type?tE(G._f):T$(A),wn=A.type===X1.BLUR||A.type===X1.FOCUS_OUT,Od=!U$(G._f)&&!e.resolver&&!Q(n.errors,U)&&!G._f.deps||z$(wn,Q(n.touchedFields,U),n.isSubmitted,me,J),dr=iE(U,a,wn);Ae(s,U,Ns),wn?(!F||!F.readOnly)&&(G._f.onBlur&&G._f.onBlur(A),l&&l(0)):G._f.onChange&&G._f.onChange(A);const Vi=L(U,Ns,wn),ea=!Ut(Vi)||dr;if(!wn&&p.state.next({name:U,type:A.type,values:lt(s)}),Od)return(h.isValid||d.isValid)&&(e.mode==="onBlur"?wn&&C():wn||C()),ea&&p.state.next({name:U,...dr?{}:Vi});if(!wn&&dr&&p.state.next({...n}),e.resolver){const{errors:fr}=await b([U]);if(B(Ns),q){const Ec=sE(n.errors,r,U),Ps=sE(fr,r,Ec.name||U);ve=Ps.error,U=Ps.name,Vt=Ut(fr)}}else P([U],!0),ve=(await aE(G,a.disabled,s,y,e.shouldUseNativeValidation))[U],P([U]),B(Ns),q&&(ve?Vt=!1:(h.isValid||d.isValid)&&(Vt=await T(r,!0)));q&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&X(G._f.deps),O(U,Vt,ve,Vi))}},z=(A,F)=>{if(Q(n.errors,F)&&A.focus)return A.focus(),1},X=async(A,F={})=>{let U,q;const G=al(A);if(e.resolver){const B=await _(Xe(A)?A:G);U=Ut(B),q=A?!G.some(J=>Q(B,J)):U}else A?(q=(await Promise.all(G.map(async B=>{const J=Q(r,B);return await T(J&&J._f?{[B]:J}:J)}))).every(Boolean),!(!q&&!n.isValid)&&C()):q=U=await T(r);return p.state.next({...!Zt(A)||(h.isValid||d.isValid)&&U!==n.isValid?{}:{name:A},...e.resolver||!A?{isValid:U}:{},errors:n.errors}),F.shouldFocus&&!q&&ll(r,z,A?G:a.mount),q},Z=(A,F)=>{let U={...o.mount?s:i};return F&&(U=Qk(F.dirtyFields?n.dirtyFields:n.touchedFields,U)),Xe(A)?U:Zt(A)?Q(U,A):A.map(q=>Q(U,q))},_e=(A,F)=>({invalid:!!Q((F||n).errors,A),isDirty:!!Q((F||n).dirtyFields,A),error:Q((F||n).errors,A),isValidating:!!Q(n.validatingFields,A),isTouched:!!Q((F||n).touchedFields,A)}),Le=A=>{A&&al(A).forEach(F=>qe(n.errors,F)),p.state.next({errors:A?n.errors:{}})},Bn=(A,F,U)=>{const q=(Q(r,A,{_f:{}})._f||{}).ref,G=Q(n.errors,A)||{},{ref:B,message:J,type:me,...ve}=G;Ae(n.errors,A,{...ve,...F,ref:q}),p.state.next({name:A,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&q&&q.focus&&q.focus()},Ft=(A,F)=>Pn(A)?p.state.subscribe({next:U=>"values"in U&&A(M(void 0,F),U)}):M(A,F,!0),zn=A=>p.state.subscribe({next:F=>{B$(A.name,F.name,A.exact)&&$$(F,A.formState||h,Zo,A.reRenderRoot)&&A.callback({values:{...s},...n,...F,defaultValues:i})}}).unsubscribe,Yt=A=>(o.mount=!0,d={...d,...A.formState},zn({...A,formState:d})),on=(A,F={})=>{for(const U of A?al(A):a.mount)a.mount.delete(U),a.array.delete(U),F.keepValue||(qe(r,U),qe(s,U)),!F.keepError&&qe(n.errors,U),!F.keepDirty&&qe(n.dirtyFields,U),!F.keepTouched&&qe(n.touchedFields,U),!F.keepIsValidating&&qe(n.validatingFields,U),!e.shouldUnregister&&!F.keepDefaultValue&&qe(i,U);p.state.next({values:lt(s)}),p.state.next({...n,...F.keepDirty?{isDirty:R()}:{}}),!F.keepIsValid&&C()},ks=({disabled:A,name:F})=>{(Yn(A)&&o.mount||A||a.disabled.has(F))&&(A?a.disabled.add(F):a.disabled.delete(F))},Is=(A,F={})=>{let U=Q(r,A);const q=Yn(F.disabled)||Yn(e.disabled);return Ae(r,A,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:A}},name:A,mount:!0,...F}}),a.mount.add(A),U?ks({disabled:Yn(F.disabled)?F.disabled:e.disabled,name:A}):D(A,!0,F.value),{...q?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Aa(F.min),max:Aa(F.max),minLength:Aa(F.minLength),maxLength:Aa(F.maxLength),pattern:Aa(F.pattern)}:{},name:A,onChange:ue,onBlur:ue,ref:G=>{if(G){Is(A,F),U=Q(r,A);const B=Xe(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,J=M$(B),me=U._f.refs||[];if(J?me.find(ve=>ve===B):B===U._f.ref)return;Ae(r,A,{_f:{...U._f,...J?{refs:[...me.filter(ap),B,...Array.isArray(Q(i,A))?[{}]:[]],ref:{type:B.type,name:A}}:{ref:B}}}),D(A,!1,void 0,B)}else U=Q(r,A,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(k$(a.array,A)&&o.action)&&a.unMount.add(A)}}},qo=()=>e.shouldFocusError&&ll(r,z,a.mount),Md=A=>{Yn(A)&&(p.state.next({disabled:A}),ll(r,(F,U)=>{const q=Q(r,U);q&&(F.disabled=q._f.disabled||A,Array.isArray(q._f.refs)&&q._f.refs.forEach(G=>{G.disabled=q._f.disabled||A}))},0,!1))},Yo=(A,F)=>async U=>{let q;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let G=lt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:B,values:J}=await b();n.errors=B,G=lt(J)}else await T(r);if(a.disabled.size)for(const B of a.disabled)qe(G,B);if(qe(n.errors,"root"),Ut(n.errors)){p.state.next({errors:{}});try{await A(G,U)}catch(B){q=B}}else F&&await F({...n.errors},U),qo(),setTimeout(qo);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ut(n.errors)&&!q,submitCount:n.submitCount+1,errors:n.errors}),q)throw q},Xo=(A,F={})=>{Q(r,A)&&(Xe(F.defaultValue)?He(A,lt(Q(i,A))):(He(A,F.defaultValue),Ae(i,A,lt(F.defaultValue))),F.keepTouched||qe(n.touchedFields,A),F.keepDirty||(qe(n.dirtyFields,A),n.isDirty=F.defaultValue?R(A,lt(Q(i,A))):R()),F.keepError||(qe(n.errors,A),h.isValid&&C()),p.state.next({...n}))},Qo=(A,F={})=>{const U=A?lt(A):i,q=lt(U),G=Ut(A),B=G?i:q;if(F.keepDefaultValues||(i=U),!F.keepValues){if(F.keepDirtyValues){const J=new Set([...a.mount,...Object.keys(js(i,s))]);for(const me of Array.from(J))Q(n.dirtyFields,me)?Ae(B,me,Q(s,me)):He(me,Q(B,me))}else{if(W0&&Xe(A))for(const J of a.mount){const me=Q(r,J);if(me&&me._f){const ve=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(Vh(ve)){const Vt=ve.closest("form");if(Vt){Vt.reset();break}}}}if(F.keepFieldsRef)for(const J of a.mount)He(J,Q(B,J));else r={}}s=e.shouldUnregister?F.keepDefaultValues?lt(i):{}:lt(B),p.array.next({values:{...B}}),p.state.next({values:{...B}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:G?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!ii(A,i)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?{}:F.keepDirtyValues?F.keepDefaultValues&&s?js(i,s):n.dirtyFields:F.keepDefaultValues&&A?js(i,A):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},xc=(A,F)=>Qo(Pn(A)?A(s):A,F),Jo=(A,F={})=>{const U=Q(r,A),q=U&&U._f;if(q){const G=q.refs?q.refs[0]:q.ref;G.focus&&(G.focus(),F.shouldSelect&&Pn(G.select)&&G.select())}},Zo=A=>{n={...n,...A}},et={control:{register:Is,unregister:on,getFieldState:_e,handleSubmit:Yo,setError:Bn,_subscribe:zn,_runSchema:b,_focusError:qo,_getWatch:M,_getDirty:R,_setValid:C,_setFieldArray:w,_setDisabledField:ks,_setErrors:x,_getFieldArray:k,_reset:Qo,_resetDefaultValues:()=>Pn(e.defaultValues)&&e.defaultValues().then(A=>{xc(A,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:Md,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(A){o=A},get _defaultValues(){return i},get _names(){return a},set _names(A){a=A},get _formState(){return n},get _options(){return e},set _options(A){e={...e,...A}}},subscribe:Yt,trigger:X,register:Is,handleSubmit:Yo,watch:Ft,setValue:He,getValues:Z,reset:xc,resetField:Xo,clearErrors:Le,unregister:on,setError:Bn,setFocus:Jo,getFieldState:_e};return{...et,formControl:et}}function X0(t={}){const e=Xt.useRef(void 0),n=Xt.useRef(void 0),[r,i]=Xt.useState({isDirty:!1,isValidating:!1,isLoading:Pn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Pn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=K$(t);e.current={...a,formState:r}}const s=e.current.control;return s._options=t,A$(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Xt.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Xt.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Xt.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Xt.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Xt.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Xt.useEffect(()=>{t.values&&!ii(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Xt.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=P$(r,s),e.current}const q$=()=>{const{isDark:t}=jt(),[e,n]=I.useState(!1),{register:r,handleSubmit:i,reset:s,formState:{errors:o}}=X0(),a=[{icon:f.jsx(c0,{size:24}),title:"Email",value:"samuvel1official@gmail.com",href:"mailto:samuvel1official@gmail.com"},{icon:f.jsx(k5,{size:24}),title:"Phone",value:"+91 9487927966",href:"tel:+919487927966"},{icon:f.jsx(f2,{size:24}),title:"Location",value:"Udumalpet, Tamil Nadu",href:"https://maps.google.com/?q=Udumalpet,Tamil+Nadu"}],l=[{icon:f.jsx(Rh,{size:24}),name:"GitHub",href:"https://github.com/samuvel1",color:t?"hover:text-white":"hover:text-gray-900"},{icon:f.jsx(h2,{size:24}),name:"LinkedIn",href:"https://www.linkedin.com/in/samuvel-tamilarasan-b-480805378/",color:"hover:text-blue-600"}],u=async h=>{n(!0);try{const d="service_sejeznp",p="template_g2wykpp",y="fPyLP3rse_nQdAFYG";if(d.includes("your_")||p.includes("your_")||y.includes("your_"))throw new Error("Please replace placeholder values in your .env file with actual EmailJS credentials");const E={user_name:h.name,user_email:h.email,message:h.message};await b$.send(d,p,E),Ee.success("Message sent successfully! I'll get back to you soon."),s()}catch(d){if(console.error("EmailJS Error:",d),d&&typeof d=="object"&&"text"in d){const p=d.text;p.includes("template ID not found")?Ee.error("Email template not found. Please check your EmailJS configuration."):p.includes("service ID not found")?Ee.error("Email service not found. Please check your EmailJS configuration."):p.includes("public key")?Ee.error("Invalid public key. Please check your EmailJS configuration."):Ee.error(`Email service error: ${p}`)}else d instanceof Error?Ee.error(d.message):Ee.error("Failed to send message. Please try contacting me directly.")}finally{n(!1)}};return f.jsx("section",{id:"contact",className:`py-20 ${t?"bg-[#0d1117]":"bg-white"}`,children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[f.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Get In Touch"}),f.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-600 to-purple-600 mx-auto mb-6"}),f.jsx("p",{className:`text-lg max-w-2xl mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"I'm always open to discussing new opportunities and interesting projects. Let's connect and create something amazing together!"})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[f.jsxs(K.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:[f.jsx("h3",{className:`text-2xl font-semibold mb-8 ${t?"text-white":"text-gray-800"}`,children:"Let's Connect"}),f.jsx("div",{className:"space-y-6 mb-8",children:a.map((h,d)=>f.jsxs(K.a,{href:h.href,target:h.href.startsWith("http")?"_blank":void 0,rel:h.href.startsWith("http")?"noopener noreferrer":void 0,initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:d*.1},viewport:{once:!0},whileHover:{x:5},className:`flex items-center space-x-4 p-4 rounded-lg transition-all duration-300 ${t?"bg-[#21262d] hover:bg-[#30363d] text-gray-300":"bg-gray-50 hover:bg-gray-100 text-gray-700"} group cursor-pointer`,children:[f.jsx("div",{className:`p-3 rounded-lg transition-colors ${t?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"} group-hover:scale-110 transition-transform`,children:h.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:`font-medium ${t?"text-white":"text-gray-800"}`,children:h.title}),f.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:h.value})]})]},h.title))}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:`text-lg font-medium ${t?"text-white":"text-gray-800"}`,children:"Follow Me"}),f.jsx("div",{className:"flex space-x-4",children:l.map((h,d)=>f.jsx(K.a,{href:h.href,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:d*.1},viewport:{once:!0},whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},className:`p-3 rounded-lg transition-colors ${t?"bg-[#21262d] text-gray-300 hover:bg-[#30363d]":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${h.color}`,"aria-label":h.name,children:h.icon},h.name))})]})]}),f.jsxs(K.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:`p-8 rounded-xl shadow-lg ${t?"bg-[#21262d]":"bg-gray-50"}`,children:[f.jsx("h3",{className:`text-2xl font-semibold mb-6 ${t?"text-white":"text-gray-800"}`,children:"Send Message"}),f.jsxs("form",{onSubmit:i(u),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-200":"text-gray-700"}`,children:"Name *"}),f.jsx("input",{type:"text",...r("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${t?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"Your name"}),o.name&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:o.name.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-200":"text-gray-700"}`,children:"Email *"}),f.jsx("input",{type:"email",...r("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${t?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"your.email@example.com"}),o.email&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:o.email.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-200":"text-gray-700"}`,children:"Message *"}),f.jsx("textarea",{...r("message",{required:"Message is required",minLength:{value:5,message:"Message must be at least 5 characters"}}),rows:6,className:`w-full px-4 py-3 rounded-lg border transition-colors resize-none ${t?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"Tell me about your project or say hello..."}),o.message&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:o.message.message})]}),f.jsx(K.button,{type:"submit",disabled:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:e?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending..."]}):f.jsxs(f.Fragment,{children:[f.jsx(I5,{size:20,className:"mr-2"}),"Send Message"]})})]})]})]})]})})},Y$=()=>{const{isDark:t}=jt();return f.jsx("footer",{className:`py-12 ${t?"bg-[#21262d] border-t border-[#30363d]":"bg-gray-50 border-t border-gray-200"}`,children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:[f.jsxs("div",{className:`flex items-center justify-center space-x-2 mb-4 ${t?"text-gray-300":"text-gray-600"}`,children:[f.jsx("span",{children:"Made with"}),f.jsx(K.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:f.jsx(b5,{size:18,className:"text-red-500",fill:"currentColor"})}),f.jsx("span",{children:"and"}),f.jsx(u2,{size:18,className:"text-blue-500"}),f.jsx("span",{children:"by"}),f.jsx(K.span,{whileHover:{scale:1.05},className:`font-semibold ${t?"text-white":"text-gray-800"}`,children:"Samuvel Tamilarasan B"})]}),f.jsxs("div",{className:`flex items-center justify-center space-x-2 mb-6 ${t?"text-gray-400":"text-gray-500"}`,children:[f.jsx(y5,{size:16}),f.jsx("span",{className:"text-sm",children:"Powered by coffee and late-night coding sessions"})]}),f.jsxs(K.div,{whileHover:{scale:1.02},className:`inline-flex items-center space-x-4 px-6 py-3 rounded-lg ${t?"bg-[#0d1117]":"bg-white"} shadow-md`,children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-2xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:new Date().getFullYear()}),f.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Current Year"})]}),f.jsx("div",{className:`h-8 w-px ${t?"bg-[#30363d]":"bg-gray-300"}`}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-2xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"24/7"}),f.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Dedication"})]}),f.jsx("div",{className:`h-8 w-px ${t?"bg-[#30363d]":"bg-gray-300"}`}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-2xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"∞"}),f.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Learning"})]})]}),f.jsx("div",{className:`mt-8 pt-8 border-t ${t?"border-[#30363d]":"border-gray-200"}`,children:f.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["© ",new Date().getFullYear()," Samuvel Tamilarasan B. All rights reserved.",f.jsx("br",{}),"Built with React, TypeScript, Firebase & Tailwind CSS"]})})]})})})},lE=({onLogin:t})=>{const{isDark:e}=jt(),[n,r]=I.useState(!1),i=async()=>{r(!0);const s=new kn;try{(await hm(li,s)).user.email==="samuvel1official@gmail.com"?(Ee.success("Login successful!"),t()):(await li.signOut(),Ee.error("Access denied. You are not an admin."))}catch(o){Ee.error("Login failed. Please try again."),console.error("Login error:",o)}finally{r(!1)}};return f.jsx("div",{className:`min-h-screen flex items-center justify-center ${e?"bg-[#0d1117]":"bg-gray-50"}`,children:f.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`max-w-md w-full mx-4 p-8 rounded-xl shadow-2xl ${e?"bg-[#21262d]":"bg-white"}`,children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx(K.div,{initial:{scale:.8},animate:{scale:1},className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${e?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:f.jsx(d2,{size:32})}),f.jsx("h2",{className:`text-2xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Admin Login"}),f.jsx("p",{className:`mt-2 ${e?"text-gray-400":"text-gray-600"}`,children:"Access the portfolio admin panel"})]}),f.jsx("div",{className:"space-y-6",children:f.jsx(K.button,{onClick:i,disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-3 px-4 flex items-center justify-center space-x-2 rounded-lg border transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed ${e?"bg-[#0d1117] border-[#30363d] text-white hover:bg-[#161b22]":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:n?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current mr-2"}),"Signing in..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:"Sign in with Google"})]})})})]})})},cE="dj0oreqvx",X$="Sam Portfolio",ng=async t=>{try{const e=new FormData;e.append("file",t),e.append("upload_preset",X$),e.append("cloud_name",cE);const n=await fetch(`https://api.cloudinary.com/v1_1/${cE}/upload`,{method:"POST",body:e});if(!n.ok){const i=await n.text();throw new Error(`Upload failed: ${i}`)}const r=await n.json();return{secure_url:r.secure_url,public_id:r.public_id}}catch(e){throw console.error("Error uploading to Cloudinary:",e),e}},Q$=({project:t,onClose:e})=>{const{isDark:n}=jt(),{addProject:r,updateProject:i}=z0(),[s,o]=I.useState(!1),[a,l]=I.useState((t==null?void 0:t.imageUrl)||""),{register:u,handleSubmit:h,formState:{errors:d},reset:p,watch:y}=X0({defaultValues:{title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",technologies:(t==null?void 0:t.technologies.join(", "))||"",liveUrl:(t==null?void 0:t.liveUrl)||"",githubUrl:(t==null?void 0:t.githubUrl)||"",featured:(t==null?void 0:t.featured)||!1}}),E=y("imageFile");I.useEffect(()=>{if(E&&E[0]){const P=E[0],w=new FileReader;w.onloadend=()=>{l(w.result)},w.readAsDataURL(P)}},[E]);const C=async P=>{var w,v;o(!0);try{let x=t==null?void 0:t.imageUrl,D=t==null?void 0:t.imagePublicId;if((w=P.imageFile)!=null&&w[0]){const _=await ng(P.imageFile[0]);x=_.secure_url,D=_.public_id}if(!x)throw new Error("An image is required.");let L=t==null?void 0:t.videoUrl,O=t==null?void 0:t.videoPublicId;if((v=P.videoFile)!=null&&v[0]){const _=await ng(P.videoFile[0]);L=_.secure_url,O=_.public_id}const b={title:P.title,description:P.description,technologies:P.technologies.split(",").map(_=>_.trim()),liveUrl:P.liveUrl||"",githubUrl:P.githubUrl||"",featured:P.featured||!1,imageUrl:x,imagePublicId:D||"",videoUrl:L||"",videoPublicId:O||""};t?await i(t.id,b):await r({...b,createdAt:new Date().toISOString()}),p(),e()}catch(x){console.error("Error submitting project:",x)}finally{o(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 overflow-y-auto py-8",children:f.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`p-6 rounded-lg shadow-xl w-full max-w-2xl mx-4 my-auto ${n?"bg-[#161b22] text-white":"bg-white text-gray-900"}`,children:f.jsxs("form",{onSubmit:h(C),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Project Title *"}),f.jsx("input",{type:"text",...u("title",{required:"Project title is required"}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"Enter project title"}),d.title&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.title.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Technologies *"}),f.jsx("input",{type:"text",...u("technologies",{required:"Technologies are required"}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"React, Node.js, MongoDB"}),f.jsx("p",{className:`mt-1 text-xs ${n?"text-gray-400":"text-gray-500"}`,children:"Separate technologies with commas"}),d.technologies&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.technologies.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Description *"}),f.jsx("textarea",{...u("description",{required:"Description is required"}),rows:4,className:`w-full px-4 py-3 rounded-lg border transition-colors resize-none ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"Describe your project..."}),d.description&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.description.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Project Media (Image/Video) *"}),f.jsx("input",{type:"file",accept:"image/*,video/*",...u("imageFile",{required:"Project media is required"}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`}),d.imageFile&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.imageFile.message}),a&&f.jsx("div",{className:"mt-3",children:a.match(/.(mp4|webm|ogg)$/i)?f.jsx("video",{src:a,controls:!0,className:"w-full h-48 object-cover rounded-lg"}):f.jsx("img",{src:a,alt:"Preview",className:"w-full h-48 object-cover rounded-lg",onError:()=>l("")})})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Live URL"}),f.jsx("input",{type:"url",...u("liveUrl"),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"https://myproject.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"GitHub URL"}),f.jsx("input",{type:"url",...u("githubUrl"),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"https://github.com/username/repo"})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",id:"featured",...u("featured"),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),f.jsx("label",{htmlFor:"featured",className:`ml-2 text-sm font-medium ${n?"text-gray-200":"text-gray-700"}`,children:"Featured Project"})]}),f.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-[#30363d]",children:[f.jsx(K.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:`px-6 py-2 text-sm font-medium rounded-lg transition-colors ${n?"bg-[#30363d] text-gray-300 hover:bg-[#40464d]":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"}),f.jsx(K.button,{type:"submit",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:s?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Updating...":"Creating..."]}):t?"Update Project":"Create Project"})]})]})})})},J$=({certificate:t,onClose:e})=>{const{isDark:n}=jt(),{addCertificate:r,updateCertificate:i}=H0(),[s,o]=I.useState(!1),[a,l]=I.useState((t==null?void 0:t.imageUrl)||""),{register:u,handleSubmit:h,formState:{errors:d},reset:p,watch:y}=X0({defaultValues:{title:(t==null?void 0:t.title)||"",issuingOrganization:(t==null?void 0:t.issuingOrganization)||"",issueDate:(t==null?void 0:t.issueDate)||"",credentialId:(t==null?void 0:t.credentialId)||"",credentialUrl:(t==null?void 0:t.credentialUrl)||""}}),E=y("imageFile");I.useEffect(()=>{if(E&&E[0]){const P=E[0],w=new FileReader;w.onloadend=()=>{l(w.result)},w.readAsDataURL(P)}},[E]);const C=async P=>{var w;o(!0);try{let v=t==null?void 0:t.imageUrl,x=t==null?void 0:t.imagePublicId;if((w=P.imageFile)!=null&&w[0]){const L=await ng(P.imageFile[0]);v=L.secure_url,x=L.public_id}if(!v)throw new Error("An image is required.");const D={title:P.title,issuingOrganization:P.issuingOrganization,issueDate:P.issueDate,credentialId:P.credentialId||"",credentialUrl:P.credentialUrl||"",imageUrl:v,imagePublicId:x||""};t?await i(t.id,D):await r({...D,createdAt:new Date().toISOString()}),p(),e()}catch(v){console.error("Error submitting certificate:",v)}finally{o(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 overflow-y-auto py-8",children:f.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`p-6 rounded-lg shadow-xl w-full max-w-2xl mx-4 my-auto ${n?"bg-[#161b22] text-white":"bg-white text-gray-900"}`,children:f.jsxs("form",{onSubmit:h(C),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Certificate Title *"}),f.jsx("input",{type:"text",...u("title",{required:"Certificate title is required"}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"Enter certificate title"}),d.title&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.title.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Issuing Organization *"}),f.jsx("input",{type:"text",...u("issuingOrganization",{required:"Issuing organization is required"}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"Google, Microsoft, etc."}),d.issuingOrganization&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.issuingOrganization.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Issue Date *"}),f.jsx("input",{type:"date",...u("issueDate",{required:"Issue date is required"}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`}),d.issueDate&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.issueDate.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Certificate Image *"}),f.jsx("input",{type:"file",accept:"image/*",...u("imageFile",{required:!t}),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`}),d.imageFile&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:d.imageFile.message}),a&&f.jsx("div",{className:"mt-3",children:f.jsx("img",{src:a,alt:"Preview",className:"w-full h-48 object-cover rounded-lg",onError:()=>l("")})})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Credential ID"}),f.jsx("input",{type:"text",...u("credentialId"),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"Enter credential ID"})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-200":"text-gray-700"}`,children:"Credential URL"}),f.jsx("input",{type:"url",...u("credentialUrl"),className:`w-full px-4 py-3 rounded-lg border transition-colors ${n?"bg-[#0d1117] border-[#30363d] text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:ring-2 focus:ring-blue-500/20 focus:outline-none`,placeholder:"https://credential.net/123"})]})]}),f.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-[#30363d]",children:[f.jsx(K.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:`px-6 py-2 text-sm font-medium rounded-lg transition-colors ${n?"bg-[#30363d] text-gray-300 hover:bg-[#40464d]":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"}),f.jsx(K.button,{type:"submit",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:s?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Updating...":"Creating..."]}):t?"Update Certificate":"Create Certificate"})]})]})})})},Z$=()=>{const{isDark:t}=jt(),[e,n]=I.useState({maintenanceMode:!1,maintenanceMessage:"We are currently performing scheduled maintenance. We should be back online shortly.",maintenanceEndTime:new Date(Date.now()+2*60*60*1e3).toISOString()}),[r,i]=I.useState(!0),[s,o]=I.useState(!1);I.useEffect(()=>{(async()=>{try{const h=await Im.getSettings();n(h)}catch(h){console.error("Failed to load settings:",h)}finally{i(!1)}})()},[]);const a=async(u,h)=>{n(d=>({...d,[u]:h}))},l=async()=>{o(!0);try{await Im.updateSettings(e),Ee.success("Settings saved successfully")}catch(u){console.error("Failed to save settings:",u),Ee.error("Failed to save settings")}finally{o(!1)}};return r?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:`mt-4 ${t?"text-gray-300":"text-gray-600"}`,children:"Loading settings..."})]}):f.jsx("div",{className:`p-8 rounded-lg ${t?"bg-[#21262d]":"bg-white"} shadow`,children:f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:`text-xl font-semibold mb-6 ${t?"text-white":"text-gray-800"}`,children:"Maintenance Mode"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("label",{className:`font-medium ${t?"text-gray-200":"text-gray-700"}`,children:"Enable Maintenance Mode"}),f.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"When enabled, visitors will see a maintenance page instead of your portfolio."})]}),f.jsx("button",{onClick:()=>a("maintenanceMode",!e.maintenanceMode),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out ${e.maintenanceMode?"bg-blue-600":t?"bg-gray-600":"bg-gray-200"}`,children:f.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.maintenanceMode?"translate-x-5":"translate-x-0"}`})})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block font-medium mb-2 ${t?"text-gray-200":"text-gray-700"}`,children:"Maintenance Message"}),f.jsx("textarea",{value:e.maintenanceMessage,onChange:u=>a("maintenanceMessage",u.target.value),rows:4,className:`w-full px-3 py-2 rounded-lg ${t?"bg-[#2d333b] text-white border-[#30363d]":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"Enter the message to display during maintenance..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block font-medium mb-2 ${t?"text-gray-200":"text-gray-700"}`,children:"Expected End Time"}),f.jsx("input",{type:"datetime-local",value:e.maintenanceEndTime?new Date(e.maintenanceEndTime).toISOString().slice(0,16):"",onChange:u=>a("maintenanceEndTime",new Date(u.target.value).toISOString()),className:`w-full px-3 py-2 rounded-lg ${t?"bg-[#2d333b] text-white border-[#30363d]":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,disabled:s,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:s?f.jsxs(f.Fragment,{children:[f.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(p2,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]})})},e8=({onLogout:t})=>{const{isDark:e}=jt(),{projects:n,loading:r,deleteProject:i}=z0(),{certificates:s,loading:o,deleteCertificate:a}=H0(),l=id(),[u,h]=I.useState("projects"),[d,p]=I.useState(!1),[y,E]=I.useState(null),[C,P]=I.useState(!1),[w,v]=I.useState(null),x=async()=>{try{await W4(li),Ee.success("Logged out successfully"),t(),l("/")}catch{Ee.error("Failed to logout")}},D=async O=>{window.confirm("Are you sure you want to delete this project?")&&await i(O.id,O.imagePublicId,O.videoPublicId)},L=[{id:"projects",name:"Projects",icon:f.jsx(nu,{size:20})},{id:"certificates",name:"Certificates",icon:f.jsx(nu,{size:20})},{id:"settings",name:"Settings",icon:f.jsx(p2,{size:20})}];return f.jsxs("div",{className:`min-h-screen ${e?"bg-[#0d1117]":"bg-gray-50"}`,children:[f.jsx("div",{className:`sticky top-0 z-40 border-b ${e?"bg-[#21262d] border-[#30363d]":"bg-white border-gray-200"}`,children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center py-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Portfolio Admin"}),f.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Manage your portfolio content"})]}),f.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors ${e?"bg-red-600/20 text-red-400 hover:bg-red-600/30":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[f.jsx(T5,{size:16,className:"mr-2"}),"Logout"]})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("div",{className:"mb-8",children:f.jsx("div",{className:"flex space-x-1 p-1 bg-gray-200 dark:bg-[#21262d] rounded-lg w-fit",children:L.map(O=>f.jsxs("button",{onClick:()=>h(O.id),className:`flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-all ${u===O.id?e?"bg-[#0d1117] text-white shadow-sm":"bg-white text-gray-900 shadow-sm":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:[O.icon,f.jsx("span",{className:"ml-2",children:O.name})]},O.id))})}),f.jsxs(n1,{mode:"wait",children:[u==="projects"&&f.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h2",{className:`text-xl font-semibold ${e?"text-white":"text-gray-800"}`,children:["Projects (",n.length,")"]}),f.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{E(null),p(!0)},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[f.jsx(Px,{size:16,className:"mr-2"}),"Add Project"]})]}),r?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:`mt-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Loading projects..."})]}):n.length===0?f.jsxs("div",{className:`text-center py-12 ${e?"bg-[#21262d]":"bg-white"} rounded-lg shadow`,children:[f.jsx(nu,{size:48,className:`mx-auto mb-4 ${e?"text-gray-400":"text-gray-500"}`}),f.jsx("p",{className:`text-lg ${e?"text-gray-300":"text-gray-600"}`,children:"No projects yet"}),f.jsx("p",{className:`text-sm mt-2 ${e?"text-gray-400":"text-gray-500"}`,children:"Create your first project to get started"})]}):f.jsx("div",{className:"grid gap-6",children:n.map(O=>f.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 rounded-lg shadow-md border ${e?"bg-[#21262d] border-[#30363d]":"bg-white border-gray-200"}`,children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[f.jsx("h3",{className:`text-lg font-semibold ${e?"text-white":"text-gray-800"}`,children:O.title}),O.featured&&f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e?"bg-blue-600/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:"Featured"})]}),f.jsx("p",{className:`mb-3 ${e?"text-gray-300":"text-gray-600"}`,children:O.description}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:O.technologies.map(b=>f.jsx("span",{className:`px-2 py-1 text-xs rounded ${e?"bg-[#30363d] text-gray-300":"bg-gray-100 text-gray-700"}`,children:b},b))}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[O.liveUrl&&f.jsxs("a",{href:O.liveUrl,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${e?"text-blue-400":"text-blue-600"} hover:underline`,children:[f.jsx(w5,{size:14,className:"mr-1"}),"Live Demo"]}),O.githubUrl&&f.jsx("a",{href:O.githubUrl,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${e?"text-blue-400":"text-blue-600"} hover:underline`,children:"GitHub"})]}),f.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["Added on: ",new Date(O.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{E(O),p(!0)},className:`p-2 rounded-lg transition-colors ${e?"bg-[#30363d] text-gray-300 hover:bg-[#40464d]":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:f.jsx(Ax,{size:16})}),f.jsx(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>D(O),className:`p-2 rounded-lg transition-colors ${e?"bg-red-600/20 text-red-400 hover:bg-red-600/30":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:f.jsx(Rx,{size:16})})]})]})},O.id))})]},"projects"),u==="certificates"&&f.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h2",{className:`text-xl font-semibold ${e?"text-white":"text-gray-800"}`,children:["Certificates (",s.length,")"]}),f.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{v(null),P(!0)},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[f.jsx(Px,{size:16,className:"mr-2"}),"Add Certificate"]})]}),o?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:`mt-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Loading certificates..."})]}):s.length===0?f.jsxs("div",{className:`text-center py-12 ${e?"bg-[#21262d]":"bg-white"} rounded-lg shadow`,children:[f.jsx(nu,{size:48,className:`mx-auto mb-4 ${e?"text-gray-400":"text-gray-500"}`}),f.jsx("p",{className:`text-lg ${e?"text-gray-300":"text-gray-600"}`,children:"No certificates yet"}),f.jsx("p",{className:`text-sm mt-2 ${e?"text-gray-400":"text-gray-500"}`,children:"Add your first certificate to get started"})]}):f.jsx("div",{className:"grid gap-6",children:s.map(O=>f.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 rounded-lg shadow-md border ${e?"bg-[#21262d] border-[#30363d]":"bg-white border-gray-200"}`,children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:`text-lg font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:O.title}),f.jsx("p",{className:`mb-3 ${e?"text-gray-300":"text-gray-600"}`,children:O.issuingOrganization}),f.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["Issued: ",new Date(O.issueDate).toLocaleDateString()]})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{v(O),P(!0)},className:`p-2 rounded-lg transition-colors ${e?"bg-[#30363d] text-gray-300 hover:bg-[#40464d]":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:f.jsx(Ax,{size:16})}),f.jsx(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{window.confirm("Are you sure you want to delete this certificate?")&&a(O.id,O.imagePublicId)},className:`p-2 rounded-lg transition-colors ${e?"bg-red-600/20 text-red-400 hover:bg-red-600/30":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:f.jsx(Rx,{size:16})})]})]})},O.id))})]},"certificates"),u==="settings"&&f.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:f.jsx(Z$,{})},"settings")]})]}),f.jsxs(n1,{children:[d&&f.jsx(Q$,{project:y,onClose:()=>{p(!1),E(null)}}),C&&f.jsx(J$,{certificate:w,onClose:()=>{P(!1),v(null)}})]})]})},t8=()=>f.jsxs(f.Fragment,{children:[f.jsx(f$,{}),f.jsxs("main",{children:[f.jsx(m$,{}),f.jsx(g$,{}),f.jsx(y$,{}),f.jsx(v$,{}),f.jsx(_$,{}),f.jsx(w$,{}),f.jsx(q$,{})]}),f.jsx(Y$,{})]}),n8=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!0),[i,s]=I.useState(!1),[o,a]=I.useState(null),{isDark:l}=jt();if(I.useEffect(()=>{const u=H4(li,d=>{e(d),r(!1)});return(async()=>{try{const d=await Im.getSettings();a(d)}catch(d){console.error("Failed to load settings:",d),a({maintenanceMode:!1,maintenanceMessage:"Maintenance mode is currently active."})}})(),()=>u()},[]),n||!o)return f.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-[#0d1117] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})]})});if(o.maintenanceMode&&(!t||t.email!=="samuvel1official@gmail.com")){const u=t?"You are not an admin. Only administrators can access the site during maintenance.":o.maintenanceMessage;return f.jsx(D5,{message:u,isDark:l,toggleDarkMode:()=>{const h=!l;localStorage.setItem("theme",h?"dark":"light"),document.documentElement.classList.toggle("dark")},endTime:o.maintenanceEndTime})}return f.jsxs("div",{className:"min-h-screen bg-white dark:bg-[#0d1117] transition-colors",children:[f.jsx(fR,{children:f.jsxs(HA,{children:[f.jsx(_u,{path:"/",element:f.jsx(t8,{})}),f.jsx(_u,{path:"/admin-secret-panel",element:t?f.jsx(e8,{onLogout:()=>e(null)}):i?f.jsx(lE,{onLogin:()=>s(!1)}):f.jsxs(f.Fragment,{children:[s(!0),f.jsx(lE,{onLogin:()=>s(!1)})]})}),f.jsx(_u,{path:"*",element:f.jsx(BA,{to:"/",replace:!0})})]})}),f.jsx(d5,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)",border:"1px solid var(--toast-border)"}}})]})},r8=()=>f.jsx(ZP,{children:f.jsx(n8,{})}),i8=()=>{Kk("fPyLP3rse_nQdAFYG")};i8();Eb(document.getElementById("root")).render(f.jsx(I.StrictMode,{children:f.jsx(r8,{})}));
//# sourceMappingURL=index-C2DY8lx8.js.map
